{"ast":null,"code":"import{createSelector}from'reselect';import{computeLinePoints}from'../../cartesian/Line';import{selectChartDataWithIndexesIfNotInPanorama}from'./dataSelectors';import{selectChartLayout}from'../../context/chartLayoutContext';import{selectAxisWithScale,selectTicksOfGraphicalItem,selectUnfilteredCartesianItems}from'./axisSelectors';import{getBandSizeOfAxis,isCategoricalAxis}from'../../util/ChartUtils';var selectXAxisWithScale=(state,xAxisId,_yAxisId,isPanorama)=>selectAxisWithScale(state,'xAxis',xAxisId,isPanorama);var selectXAxisTicks=(state,xAxisId,_yAxisId,isPanorama)=>selectTicksOfGraphicalItem(state,'xAxis',xAxisId,isPanorama);var selectYAxisWithScale=(state,_xAxisId,yAxisId,isPanorama)=>selectAxisWithScale(state,'yAxis',yAxisId,isPanorama);var selectYAxisTicks=(state,_xAxisId,yAxisId,isPanorama)=>selectTicksOfGraphicalItem(state,'yAxis',yAxisId,isPanorama);var selectBandSize=createSelector([selectChartLayout,selectXAxisWithScale,selectYAxisWithScale,selectXAxisTicks,selectYAxisTicks],(layout,xAxis,yAxis,xAxisTicks,yAxisTicks)=>{if(isCategoricalAxis(layout,'xAxis')){return getBandSizeOfAxis(xAxis,xAxisTicks,false);}return getBandSizeOfAxis(yAxis,yAxisTicks,false);});var pickLineId=(_state,_xAxisId,_yAxisId,_isPanorama,id)=>id;function isLineSettings(item){return item.type==='line';}/*\n * There is a race condition problem because we read some data from props and some from the state.\n * The state is updated through a dispatch and is one render behind,\n * and so we have this weird one tick render where the displayedData in one selector have the old dataKey\n * but the new dataKey in another selector.\n *\n * So here instead of reading the dataKey from the props, we always read it from the state.\n */var selectSynchronisedLineSettings=createSelector([selectUnfilteredCartesianItems,pickLineId],(graphicalItems,id)=>graphicalItems.filter(isLineSettings).find(x=>x.id===id));export var selectLinePoints=createSelector([selectChartLayout,selectXAxisWithScale,selectYAxisWithScale,selectXAxisTicks,selectYAxisTicks,selectSynchronisedLineSettings,selectBandSize,selectChartDataWithIndexesIfNotInPanorama],(layout,xAxis,yAxis,xAxisTicks,yAxisTicks,lineSettings,bandSize,_ref)=>{var{chartData,dataStartIndex,dataEndIndex}=_ref;if(lineSettings==null||xAxis==null||yAxis==null||xAxisTicks==null||yAxisTicks==null||xAxisTicks.length===0||yAxisTicks.length===0||bandSize==null||layout!=='horizontal'&&layout!=='vertical'){return undefined;}var{dataKey,data}=lineSettings;var displayedData;if(data!=null&&data.length>0){displayedData=data;}else{displayedData=chartData===null||chartData===void 0?void 0:chartData.slice(dataStartIndex,dataEndIndex+1);}if(displayedData==null){return undefined;}return computeLinePoints({layout,xAxis,yAxis,xAxisTicks,yAxisTicks,dataKey,bandSize,displayedData});});","map":{"version":3,"names":["createSelector","computeLinePoints","selectChartDataWithIndexesIfNotInPanorama","selectChartLayout","selectAxisWithScale","selectTicksOfGraphicalItem","selectUnfilteredCartesianItems","getBandSizeOfAxis","isCategoricalAxis","selectXAxisWithScale","state","xAxisId","_yAxisId","isPanorama","selectXAxisTicks","selectYAxisWithScale","_xAxisId","yAxisId","selectYAxisTicks","selectBandSize","layout","xAxis","yAxis","xAxisTicks","yAxisTicks","pickLineId","_state","_isPanorama","id","isLineSettings","item","type","selectSynchronisedLineSettings","graphicalItems","filter","find","x","selectLinePoints","lineSettings","bandSize","_ref","chartData","dataStartIndex","dataEndIndex","length","undefined","dataKey","data","displayedData","slice"],"sources":["E:/program/ai交友网站demo/dating-app/frontend/src/node_modules/recharts/es6/state/selectors/lineSelectors.js"],"sourcesContent":["import { createSelector } from 'reselect';\nimport { computeLinePoints } from '../../cartesian/Line';\nimport { selectChartDataWithIndexesIfNotInPanorama } from './dataSelectors';\nimport { selectChartLayout } from '../../context/chartLayoutContext';\nimport { selectAxisWithScale, selectTicksOfGraphicalItem, selectUnfilteredCartesianItems } from './axisSelectors';\nimport { getBandSizeOfAxis, isCategoricalAxis } from '../../util/ChartUtils';\nvar selectXAxisWithScale = (state, xAxisId, _yAxisId, isPanorama) => selectAxisWithScale(state, 'xAxis', xAxisId, isPanorama);\nvar selectXAxisTicks = (state, xAxisId, _yAxisId, isPanorama) => selectTicksOfGraphicalItem(state, 'xAxis', xAxisId, isPanorama);\nvar selectYAxisWithScale = (state, _xAxisId, yAxisId, isPanorama) => selectAxisWithScale(state, 'yAxis', yAxisId, isPanorama);\nvar selectYAxisTicks = (state, _xAxisId, yAxisId, isPanorama) => selectTicksOfGraphicalItem(state, 'yAxis', yAxisId, isPanorama);\nvar selectBandSize = createSelector([selectChartLayout, selectXAxisWithScale, selectYAxisWithScale, selectXAxisTicks, selectYAxisTicks], (layout, xAxis, yAxis, xAxisTicks, yAxisTicks) => {\n  if (isCategoricalAxis(layout, 'xAxis')) {\n    return getBandSizeOfAxis(xAxis, xAxisTicks, false);\n  }\n  return getBandSizeOfAxis(yAxis, yAxisTicks, false);\n});\nvar pickLineId = (_state, _xAxisId, _yAxisId, _isPanorama, id) => id;\nfunction isLineSettings(item) {\n  return item.type === 'line';\n}\n\n/*\n * There is a race condition problem because we read some data from props and some from the state.\n * The state is updated through a dispatch and is one render behind,\n * and so we have this weird one tick render where the displayedData in one selector have the old dataKey\n * but the new dataKey in another selector.\n *\n * So here instead of reading the dataKey from the props, we always read it from the state.\n */\nvar selectSynchronisedLineSettings = createSelector([selectUnfilteredCartesianItems, pickLineId], (graphicalItems, id) => graphicalItems.filter(isLineSettings).find(x => x.id === id));\nexport var selectLinePoints = createSelector([selectChartLayout, selectXAxisWithScale, selectYAxisWithScale, selectXAxisTicks, selectYAxisTicks, selectSynchronisedLineSettings, selectBandSize, selectChartDataWithIndexesIfNotInPanorama], (layout, xAxis, yAxis, xAxisTicks, yAxisTicks, lineSettings, bandSize, _ref) => {\n  var {\n    chartData,\n    dataStartIndex,\n    dataEndIndex\n  } = _ref;\n  if (lineSettings == null || xAxis == null || yAxis == null || xAxisTicks == null || yAxisTicks == null || xAxisTicks.length === 0 || yAxisTicks.length === 0 || bandSize == null || layout !== 'horizontal' && layout !== 'vertical') {\n    return undefined;\n  }\n  var {\n    dataKey,\n    data\n  } = lineSettings;\n  var displayedData;\n  if (data != null && data.length > 0) {\n    displayedData = data;\n  } else {\n    displayedData = chartData === null || chartData === void 0 ? void 0 : chartData.slice(dataStartIndex, dataEndIndex + 1);\n  }\n  if (displayedData == null) {\n    return undefined;\n  }\n  return computeLinePoints({\n    layout,\n    xAxis,\n    yAxis,\n    xAxisTicks,\n    yAxisTicks,\n    dataKey,\n    bandSize,\n    displayedData\n  });\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}