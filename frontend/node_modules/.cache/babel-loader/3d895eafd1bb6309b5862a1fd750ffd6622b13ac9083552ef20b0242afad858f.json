{"ast":null,"code":"import max from\"./max.js\";import maxIndex from\"./maxIndex.js\";import min from\"./min.js\";import minIndex from\"./minIndex.js\";import quickselect from\"./quickselect.js\";import number,{numbers}from\"./number.js\";import{ascendingDefined}from\"./sort.js\";import greatest from\"./greatest.js\";export default function quantile(values,p,valueof){values=Float64Array.from(numbers(values,valueof));if(!(n=values.length)||isNaN(p=+p))return;if(p<=0||n<2)return min(values);if(p>=1)return max(values);var n,i=(n-1)*p,i0=Math.floor(i),value0=max(quickselect(values,i0).subarray(0,i0+1)),value1=min(values.subarray(i0+1));return value0+(value1-value0)*(i-i0);}export function quantileSorted(values,p){let valueof=arguments.length>2&&arguments[2]!==undefined?arguments[2]:number;if(!(n=values.length)||isNaN(p=+p))return;if(p<=0||n<2)return+valueof(values[0],0,values);if(p>=1)return+valueof(values[n-1],n-1,values);var n,i=(n-1)*p,i0=Math.floor(i),value0=+valueof(values[i0],i0,values),value1=+valueof(values[i0+1],i0+1,values);return value0+(value1-value0)*(i-i0);}export function quantileIndex(values,p){let valueof=arguments.length>2&&arguments[2]!==undefined?arguments[2]:number;if(isNaN(p=+p))return;numbers=Float64Array.from(values,(_,i)=>number(valueof(values[i],i,values)));if(p<=0)return minIndex(numbers);if(p>=1)return maxIndex(numbers);var numbers,index=Uint32Array.from(values,(_,i)=>i),j=numbers.length-1,i=Math.floor(j*p);quickselect(index,i,0,j,(i,j)=>ascendingDefined(numbers[i],numbers[j]));i=greatest(index.subarray(0,i+1),i=>numbers[i]);return i>=0?i:-1;}","map":{"version":3,"names":["max","maxIndex","min","minIndex","quickselect","number","numbers","ascendingDefined","greatest","quantile","values","p","valueof","Float64Array","from","n","length","isNaN","i","i0","Math","floor","value0","subarray","value1","quantileSorted","arguments","undefined","quantileIndex","_","index","Uint32Array","j"],"sources":["E:/program/ai交友网站demo/dating-app/frontend/src/node_modules/d3-array/src/quantile.js"],"sourcesContent":["import max from \"./max.js\";\nimport maxIndex from \"./maxIndex.js\";\nimport min from \"./min.js\";\nimport minIndex from \"./minIndex.js\";\nimport quickselect from \"./quickselect.js\";\nimport number, {numbers} from \"./number.js\";\nimport {ascendingDefined} from \"./sort.js\";\nimport greatest from \"./greatest.js\";\n\nexport default function quantile(values, p, valueof) {\n  values = Float64Array.from(numbers(values, valueof));\n  if (!(n = values.length) || isNaN(p = +p)) return;\n  if (p <= 0 || n < 2) return min(values);\n  if (p >= 1) return max(values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = max(quickselect(values, i0).subarray(0, i0 + 1)),\n      value1 = min(values.subarray(i0 + 1));\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileSorted(values, p, valueof = number) {\n  if (!(n = values.length) || isNaN(p = +p)) return;\n  if (p <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileIndex(values, p, valueof = number) {\n  if (isNaN(p = +p)) return;\n  numbers = Float64Array.from(values, (_, i) => number(valueof(values[i], i, values)));\n  if (p <= 0) return minIndex(numbers);\n  if (p >= 1) return maxIndex(numbers);\n  var numbers,\n      index = Uint32Array.from(values, (_, i) => i),\n      j = numbers.length - 1,\n      i = Math.floor(j * p);\n  quickselect(index, i, 0, j, (i, j) => ascendingDefined(numbers[i], numbers[j]));\n  i = greatest(index.subarray(0, i + 1), (i) => numbers[i]);\n  return i >= 0 ? i : -1;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}