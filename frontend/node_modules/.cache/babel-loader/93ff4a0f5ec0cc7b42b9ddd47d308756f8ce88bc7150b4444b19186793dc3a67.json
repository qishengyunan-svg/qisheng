{"ast":null,"code":"import{createSelector}from'reselect';import{computeArea}from'../../cartesian/Area';import{selectAxisWithScale,selectStackGroups,selectTicksOfGraphicalItem,selectUnfilteredCartesianItems}from'./axisSelectors';import{selectChartLayout}from'../../context/chartLayoutContext';import{selectChartDataWithIndexesIfNotInPanorama}from'./dataSelectors';import{getBandSizeOfAxis,isCategoricalAxis}from'../../util/ChartUtils';import{getStackSeriesIdentifier}from'../../util/stacks/getStackSeriesIdentifier';import{selectChartBaseValue}from'./rootPropsSelectors';var selectXAxisWithScale=(state,xAxisId,_yAxisId,isPanorama)=>selectAxisWithScale(state,'xAxis',xAxisId,isPanorama);var selectXAxisTicks=(state,xAxisId,_yAxisId,isPanorama)=>selectTicksOfGraphicalItem(state,'xAxis',xAxisId,isPanorama);var selectYAxisWithScale=(state,_xAxisId,yAxisId,isPanorama)=>selectAxisWithScale(state,'yAxis',yAxisId,isPanorama);var selectYAxisTicks=(state,_xAxisId,yAxisId,isPanorama)=>selectTicksOfGraphicalItem(state,'yAxis',yAxisId,isPanorama);var selectBandSize=createSelector([selectChartLayout,selectXAxisWithScale,selectYAxisWithScale,selectXAxisTicks,selectYAxisTicks],(layout,xAxis,yAxis,xAxisTicks,yAxisTicks)=>{if(isCategoricalAxis(layout,'xAxis')){return getBandSizeOfAxis(xAxis,xAxisTicks,false);}return getBandSizeOfAxis(yAxis,yAxisTicks,false);});var pickAreaId=(_state,_xAxisId,_yAxisId,_isPanorama,id)=>id;/*\n * There is a race condition problem because we read some data from props and some from the state.\n * The state is updated through a dispatch and is one render behind,\n * and so we have this weird one tick render where the displayedData in one selector have the old dataKey\n * but the new dataKey in another selector.\n *\n * A proper fix is to either move everything into the state, or read the dataKey always from props\n * - but this is a smaller change.\n */var selectSynchronisedAreaSettings=createSelector([selectUnfilteredCartesianItems,pickAreaId],(graphicalItems,id)=>graphicalItems.filter(item=>item.type==='area').find(item=>item.id===id));export var selectGraphicalItemStackedData=(state,xAxisId,yAxisId,isPanorama,id)=>{var _stackGroups$stackId;var areaSettings=selectSynchronisedAreaSettings(state,xAxisId,yAxisId,isPanorama,id);if(areaSettings==null){return undefined;}var layout=selectChartLayout(state);var isXAxisCategorical=isCategoricalAxis(layout,'xAxis');var stackGroups;if(isXAxisCategorical){stackGroups=selectStackGroups(state,'yAxis',yAxisId,isPanorama);}else{stackGroups=selectStackGroups(state,'xAxis',xAxisId,isPanorama);}if(stackGroups==null){return undefined;}var{stackId}=areaSettings;var stackSeriesIdentifier=getStackSeriesIdentifier(areaSettings);if(stackId==null||stackSeriesIdentifier==null){return undefined;}var groups=(_stackGroups$stackId=stackGroups[stackId])===null||_stackGroups$stackId===void 0?void 0:_stackGroups$stackId.stackedData;return groups===null||groups===void 0?void 0:groups.find(v=>v.key===stackSeriesIdentifier);};export var selectArea=createSelector([selectChartLayout,selectXAxisWithScale,selectYAxisWithScale,selectXAxisTicks,selectYAxisTicks,selectGraphicalItemStackedData,selectChartDataWithIndexesIfNotInPanorama,selectBandSize,selectSynchronisedAreaSettings,selectChartBaseValue],(layout,xAxis,yAxis,xAxisTicks,yAxisTicks,stackedData,_ref,bandSize,areaSettings,chartBaseValue)=>{var{chartData,dataStartIndex,dataEndIndex}=_ref;if(areaSettings==null||layout!=='horizontal'&&layout!=='vertical'||xAxis==null||yAxis==null||xAxisTicks==null||yAxisTicks==null||xAxisTicks.length===0||yAxisTicks.length===0||bandSize==null){return undefined;}var{data}=areaSettings;var displayedData;if(data&&data.length>0){displayedData=data;}else{displayedData=chartData===null||chartData===void 0?void 0:chartData.slice(dataStartIndex,dataEndIndex+1);}if(displayedData==null){return undefined;}return computeArea({layout,xAxis,yAxis,xAxisTicks,yAxisTicks,dataStartIndex,areaSettings,stackedData,displayedData,chartBaseValue,bandSize});});","map":{"version":3,"names":["createSelector","computeArea","selectAxisWithScale","selectStackGroups","selectTicksOfGraphicalItem","selectUnfilteredCartesianItems","selectChartLayout","selectChartDataWithIndexesIfNotInPanorama","getBandSizeOfAxis","isCategoricalAxis","getStackSeriesIdentifier","selectChartBaseValue","selectXAxisWithScale","state","xAxisId","_yAxisId","isPanorama","selectXAxisTicks","selectYAxisWithScale","_xAxisId","yAxisId","selectYAxisTicks","selectBandSize","layout","xAxis","yAxis","xAxisTicks","yAxisTicks","pickAreaId","_state","_isPanorama","id","selectSynchronisedAreaSettings","graphicalItems","filter","item","type","find","selectGraphicalItemStackedData","_stackGroups$stackId","areaSettings","undefined","isXAxisCategorical","stackGroups","stackId","stackSeriesIdentifier","groups","stackedData","v","key","selectArea","_ref","bandSize","chartBaseValue","chartData","dataStartIndex","dataEndIndex","length","data","displayedData","slice"],"sources":["E:/program/ai交友网站demo/dating-app/frontend/src/node_modules/recharts/es6/state/selectors/areaSelectors.js"],"sourcesContent":["import { createSelector } from 'reselect';\nimport { computeArea } from '../../cartesian/Area';\nimport { selectAxisWithScale, selectStackGroups, selectTicksOfGraphicalItem, selectUnfilteredCartesianItems } from './axisSelectors';\nimport { selectChartLayout } from '../../context/chartLayoutContext';\nimport { selectChartDataWithIndexesIfNotInPanorama } from './dataSelectors';\nimport { getBandSizeOfAxis, isCategoricalAxis } from '../../util/ChartUtils';\nimport { getStackSeriesIdentifier } from '../../util/stacks/getStackSeriesIdentifier';\nimport { selectChartBaseValue } from './rootPropsSelectors';\nvar selectXAxisWithScale = (state, xAxisId, _yAxisId, isPanorama) => selectAxisWithScale(state, 'xAxis', xAxisId, isPanorama);\nvar selectXAxisTicks = (state, xAxisId, _yAxisId, isPanorama) => selectTicksOfGraphicalItem(state, 'xAxis', xAxisId, isPanorama);\nvar selectYAxisWithScale = (state, _xAxisId, yAxisId, isPanorama) => selectAxisWithScale(state, 'yAxis', yAxisId, isPanorama);\nvar selectYAxisTicks = (state, _xAxisId, yAxisId, isPanorama) => selectTicksOfGraphicalItem(state, 'yAxis', yAxisId, isPanorama);\nvar selectBandSize = createSelector([selectChartLayout, selectXAxisWithScale, selectYAxisWithScale, selectXAxisTicks, selectYAxisTicks], (layout, xAxis, yAxis, xAxisTicks, yAxisTicks) => {\n  if (isCategoricalAxis(layout, 'xAxis')) {\n    return getBandSizeOfAxis(xAxis, xAxisTicks, false);\n  }\n  return getBandSizeOfAxis(yAxis, yAxisTicks, false);\n});\nvar pickAreaId = (_state, _xAxisId, _yAxisId, _isPanorama, id) => id;\n\n/*\n * There is a race condition problem because we read some data from props and some from the state.\n * The state is updated through a dispatch and is one render behind,\n * and so we have this weird one tick render where the displayedData in one selector have the old dataKey\n * but the new dataKey in another selector.\n *\n * A proper fix is to either move everything into the state, or read the dataKey always from props\n * - but this is a smaller change.\n */\nvar selectSynchronisedAreaSettings = createSelector([selectUnfilteredCartesianItems, pickAreaId], (graphicalItems, id) => graphicalItems.filter(item => item.type === 'area').find(item => item.id === id));\nexport var selectGraphicalItemStackedData = (state, xAxisId, yAxisId, isPanorama, id) => {\n  var _stackGroups$stackId;\n  var areaSettings = selectSynchronisedAreaSettings(state, xAxisId, yAxisId, isPanorama, id);\n  if (areaSettings == null) {\n    return undefined;\n  }\n  var layout = selectChartLayout(state);\n  var isXAxisCategorical = isCategoricalAxis(layout, 'xAxis');\n  var stackGroups;\n  if (isXAxisCategorical) {\n    stackGroups = selectStackGroups(state, 'yAxis', yAxisId, isPanorama);\n  } else {\n    stackGroups = selectStackGroups(state, 'xAxis', xAxisId, isPanorama);\n  }\n  if (stackGroups == null) {\n    return undefined;\n  }\n  var {\n    stackId\n  } = areaSettings;\n  var stackSeriesIdentifier = getStackSeriesIdentifier(areaSettings);\n  if (stackId == null || stackSeriesIdentifier == null) {\n    return undefined;\n  }\n  var groups = (_stackGroups$stackId = stackGroups[stackId]) === null || _stackGroups$stackId === void 0 ? void 0 : _stackGroups$stackId.stackedData;\n  return groups === null || groups === void 0 ? void 0 : groups.find(v => v.key === stackSeriesIdentifier);\n};\nexport var selectArea = createSelector([selectChartLayout, selectXAxisWithScale, selectYAxisWithScale, selectXAxisTicks, selectYAxisTicks, selectGraphicalItemStackedData, selectChartDataWithIndexesIfNotInPanorama, selectBandSize, selectSynchronisedAreaSettings, selectChartBaseValue], (layout, xAxis, yAxis, xAxisTicks, yAxisTicks, stackedData, _ref, bandSize, areaSettings, chartBaseValue) => {\n  var {\n    chartData,\n    dataStartIndex,\n    dataEndIndex\n  } = _ref;\n  if (areaSettings == null || layout !== 'horizontal' && layout !== 'vertical' || xAxis == null || yAxis == null || xAxisTicks == null || yAxisTicks == null || xAxisTicks.length === 0 || yAxisTicks.length === 0 || bandSize == null) {\n    return undefined;\n  }\n  var {\n    data\n  } = areaSettings;\n  var displayedData;\n  if (data && data.length > 0) {\n    displayedData = data;\n  } else {\n    displayedData = chartData === null || chartData === void 0 ? void 0 : chartData.slice(dataStartIndex, dataEndIndex + 1);\n  }\n  if (displayedData == null) {\n    return undefined;\n  }\n  return computeArea({\n    layout,\n    xAxis,\n    yAxis,\n    xAxisTicks,\n    yAxisTicks,\n    dataStartIndex,\n    areaSettings,\n    stackedData,\n    displayedData,\n    chartBaseValue,\n    bandSize\n  });\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}