{"ast":null,"code":"import _objectSpread from\"E:/program/ai\\u4EA4\\u53CB\\u7F51\\u7AD9demo/dating-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{ZODIAC_SIGNS}from'../types';import{ChevronLeft,Upload}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProfileEdit=_ref=>{let{user,onSave,onCancel}=_ref;const[formData,setFormData]=useState(user);const[isUploading,setIsUploading]=useState(false);const handleChange=(field,value)=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));};const handleAvatarUpload=async e=>{var _e$target$files;const file=(_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0];if(!file)return;// Check file type and size\nif(!file.type.startsWith('image/')){alert('请选择图片文件');return;}if(file.size>5*1024*1024){alert('图片大小不能超过5MB');return;}setIsUploading(true);try{// Convert file to base64\nconst reader=new FileReader();reader.onload=async event=>{var _event$target;const avatarData=(_event$target=event.target)===null||_event$target===void 0?void 0:_event$target.result;try{// Upload to backend API\nconst response=await fetch(\"\".concat(process.env.REACT_APP_API_URL||'http://localhost:3001',\"/api/users/avatar\"),{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem('authToken'))},body:JSON.stringify({avatarData,filename:file.name})});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.error||'Failed to upload avatar');}const data=await response.json();// Use the complete user data returned from backend\n// This ensures avatar and photos are both updated consistently\nconst updatedUser=data.user;// Add API base URL to avatar and photos URLs\nconst apiBaseUrl=process.env.REACT_APP_API_URL||'http://localhost:3001';const fullAvatarUrl=updatedUser.avatar.startsWith('http')?updatedUser.avatar:\"\".concat(apiBaseUrl).concat(updatedUser.avatar);const fullPhotosUrls=updatedUser.photos.map(photo=>photo.startsWith('http')?photo:\"\".concat(apiBaseUrl).concat(photo));// Update form data with the complete updated user data\nsetFormData(prev=>_objectSpread(_objectSpread({},prev),{},{avatar:fullAvatarUrl,photos:fullPhotosUrls}));}catch(error){console.error('Avatar upload failed:',error);// 使用更友好的错误提示，显示具体错误信息\nalert(\"\\u5934\\u50CF\\u4E0A\\u4F20\\u5931\\u8D25: \".concat(error instanceof Error?error.message:'未知错误'));}finally{setIsUploading(false);}};reader.onerror=()=>{console.error('Failed to read file');alert('头像读取失败，请重试');setIsUploading(false);};reader.readAsDataURL(file);}catch(error){console.error('Avatar upload failed:',error);// 使用更友好的错误提示，显示具体错误信息\nalert(\"\\u5934\\u50CF\\u4E0A\\u4F20\\u5931\\u8D25: \".concat(error instanceof Error?error.message:'未知错误'));setIsUploading(false);}};const handleSubmit=e=>{e.preventDefault();onSave(formData);};return/*#__PURE__*/_jsx(\"div\",{className:\"h-full w-full bg-white md:bg-transparent overflow-y-auto no-scrollbar pb-24 md:pb-0 md:flex md:items-center md:justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"md:w-[600px] md:h-[80vh] md:bg-white md:rounded-3xl md:shadow-2xl md:overflow-hidden md:flex md:flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sticky top-0 bg-white/95 backdrop-blur-sm z-10 border-b border-gray-100 px-4 py-3 flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onCancel,className:\"p-2 -ml-2 text-gray-600 hover:bg-gray-100 rounded-full\",children:/*#__PURE__*/_jsx(ChevronLeft,{size:24})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-lg font-bold text-gray-800\",children:\"\\u7F16\\u8F91\\u8D44\\u6599\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,className:\"p-2 -mr-2 text-rose-500 font-medium hover:bg-rose-50 rounded-lg px-4\",children:\"\\u4FDD\\u5B58\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto p-6 space-y-8 no-scrollbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-28 h-28 mb-4 group cursor-pointer\",children:[/*#__PURE__*/_jsx(\"img\",{src:formData.avatar,alt:\"Avatar\",className:\"w-full h-full rounded-full object-cover border-4 border-gray-100 shadow-sm transition-opacity group-hover:opacity-90 \".concat(isUploading?'opacity-50':'')}),isUploading&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center rounded-full\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 border-4 border-white border-t-4 border-t-transparent rounded-full animate-spin\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"absolute bottom-0 right-0 p-2 bg-rose-500 text-white rounded-full shadow-md hover:bg-rose-600 transition-colors disabled:opacity-70\",disabled:isUploading,children:/*#__PURE__*/_jsx(Upload,{size:16})}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleAvatarUpload,className:\"absolute inset-0 opacity-0 cursor-pointer\",disabled:isUploading})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400\",children:\"\\u70B9\\u51FB\\u4FEE\\u6539\\u5934\\u50CF\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400 mt-1\",children:\"\\u652F\\u6301 JPG\\u3001PNG\\u3001WEBP \\u683C\\u5F0F\\uFF0C\\u5927\\u5C0F\\u4E0D\\u8D85\\u8FC7 5MB\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u6635\\u79F0\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.name,onChange:e=>handleChange('name',e.target.value),className:\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u5E74\\u9F84\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"18\",max:\"100\",value:formData.age,onChange:e=>handleChange('age',parseInt(e.target.value)),className:\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u804C\\u4E1A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.profession,onChange:e=>handleChange('profession',e.target.value),className:\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u661F\\u5EA7\"}),/*#__PURE__*/_jsx(\"select\",{value:formData.zodiac,onChange:e=>handleChange('zodiac',e.target.value),className:\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none appearance-none cursor-pointer\",children:ZODIAC_SIGNS.map(z=>/*#__PURE__*/_jsx(\"option\",{value:z,children:z},z))})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u8EAB\\u9AD8 (cm)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.height||'',onChange:e=>handleChange('height',parseInt(e.target.value)),className:\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u5BB6\\u4E61\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.hometown||'',onChange:e=>handleChange('hometown',e.target.value),className:\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\",placeholder:\"\\u4F8B\\u5982\\uFF1A\\u5317\\u4EAC\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u5BFB\\u627E\\u4EC0\\u4E48\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.lookingFor||'',onChange:e=>handleChange('lookingFor',e.target.value),className:\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\",placeholder:\"\\u4F8B\\u5982\\uFF1A\\u4E00\\u6BB5\\u8BA4\\u771F\\u7684\\u5173\\u7CFB\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between items-center mb-1\",children:/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"\\u81EA\\u6211\\u4ECB\\u7ECD\"})}),/*#__PURE__*/_jsx(\"textarea\",{rows:4,value:formData.bio,onChange:e=>handleChange('bio',e.target.value),className:\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none resize-none transition-all\",placeholder:\"\\u4ECB\\u7ECD\\u4E00\\u4E0B\\u81EA\\u5DF1...\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400 mt-1\",children:\"\\u5B8C\\u5584\\u7684\\u81EA\\u6211\\u4ECB\\u7ECD\\u80FD\\u63D0\\u5347 300% \\u7684\\u5339\\u914D\\u7387\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"\\u6211\\u7684\\u6807\\u7B7E\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2\",children:[(formData.tags||[]).map((tag,idx)=>/*#__PURE__*/_jsxs(\"span\",{className:\"px-3 py-1 bg-white border border-gray-200 text-gray-600 rounded-full text-sm flex items-center gap-1 hover:border-rose-200 transition-colors cursor-default\",children:[tag,/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{const newTags=(formData.tags||[]).filter((_,i)=>i!==idx);handleChange('tags',newTags);},className:\"text-gray-400 hover:text-red-500\",children:\"\\xD7\"})]},idx)),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{const tag=prompt(\"添加标签:\");if(tag)handleChange('tags',[...(formData.tags||[]),tag]);},className:\"px-3 py-1 bg-gray-100 text-gray-500 rounded-full text-sm border border-transparent hover:bg-gray-200 transition-colors\",children:\"+ \\u6DFB\\u52A0\"})]})]})]})]})]})});};export default ProfileEdit;","map":{"version":3,"names":["React","useState","ZODIAC_SIGNS","ChevronLeft","Upload","jsx","_jsx","jsxs","_jsxs","ProfileEdit","_ref","user","onSave","onCancel","formData","setFormData","isUploading","setIsUploading","handleChange","field","value","prev","_objectSpread","handleAvatarUpload","e","_e$target$files","file","target","files","type","startsWith","alert","size","reader","FileReader","onload","event","_event$target","avatarData","result","response","fetch","concat","process","env","REACT_APP_API_URL","method","headers","localStorage","getItem","body","JSON","stringify","filename","name","ok","errorData","json","catch","Error","error","data","updatedUser","apiBaseUrl","fullAvatarUrl","avatar","fullPhotosUrls","photos","map","photo","console","message","onerror","readAsDataURL","handleSubmit","preventDefault","className","children","onClick","src","alt","disabled","accept","onChange","min","max","age","parseInt","profession","zodiac","z","height","hometown","placeholder","lookingFor","rows","bio","tags","tag","idx","newTags","filter","_","i","prompt"],"sources":["E:/program/ai交友网站demo/dating-app/frontend/src/components/ProfileEdit.tsx"],"sourcesContent":["\nimport React, { useState } from 'react';\nimport { UserProfile, ZODIAC_SIGNS } from '../types';\nimport { ChevronLeft, Save, Upload } from 'lucide-react';\n\ninterface ProfileEditProps {\n  user: UserProfile;\n  onSave: (u: Partial<UserProfile>) => void;\n  onCancel: () => void;\n}\n\nconst ProfileEdit: React.FC<ProfileEditProps> = ({ user, onSave, onCancel }) => {\n  const [formData, setFormData] = useState<UserProfile>(user);\n  const [isUploading, setIsUploading] = useState(false);\n\n  const handleChange = (field: keyof UserProfile, value: any) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n  };\n\n  const handleAvatarUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    // Check file type and size\n    if (!file.type.startsWith('image/')) {\n      alert('请选择图片文件');\n      return;\n    }\n    if (file.size > 5 * 1024 * 1024) {\n      alert('图片大小不能超过5MB');\n      return;\n    }\n\n    setIsUploading(true);\n    \n    try {\n      // Convert file to base64\n      const reader = new FileReader();\n      \n      reader.onload = async (event) => {\n        const avatarData = event.target?.result as string;\n        \n        try {\n          // Upload to backend API\n          const response = await fetch(`${process.env.REACT_APP_API_URL || 'http://localhost:3001'}/api/users/avatar`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': `Bearer ${localStorage.getItem('authToken')}`,\n            },\n            body: JSON.stringify({\n              avatarData,\n              filename: file.name\n            }),\n          });\n          \n          if (!response.ok) {\n            const errorData = await response.json().catch(() => ({}));\n            throw new Error(errorData.error || 'Failed to upload avatar');\n          }\n          \n          const data = await response.json();\n          \n          // Use the complete user data returned from backend\n          // This ensures avatar and photos are both updated consistently\n          const updatedUser = data.user;\n          \n          // Add API base URL to avatar and photos URLs\n          const apiBaseUrl = process.env.REACT_APP_API_URL || 'http://localhost:3001';\n          const fullAvatarUrl = updatedUser.avatar.startsWith('http') ? updatedUser.avatar : `${apiBaseUrl}${updatedUser.avatar}`;\n          const fullPhotosUrls = updatedUser.photos.map((photo: string) => \n            photo.startsWith('http') ? photo : `${apiBaseUrl}${photo}`\n          );\n          \n          // Update form data with the complete updated user data\n          setFormData(prev => ({\n            ...prev,\n            avatar: fullAvatarUrl,\n            photos: fullPhotosUrls\n          }));\n        } catch (error) {\n          console.error('Avatar upload failed:', error);\n          // 使用更友好的错误提示，显示具体错误信息\n          alert(`头像上传失败: ${error instanceof Error ? error.message : '未知错误'}`);\n        } finally {\n          setIsUploading(false);\n        }\n      };\n      \n      reader.onerror = () => {\n        console.error('Failed to read file');\n        alert('头像读取失败，请重试');\n        setIsUploading(false);\n      };\n      \n      reader.readAsDataURL(file);\n    } catch (error) {\n      console.error('Avatar upload failed:', error);\n      // 使用更友好的错误提示，显示具体错误信息\n      alert(`头像上传失败: ${error instanceof Error ? error.message : '未知错误'}`);\n      setIsUploading(false);\n    }\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onSave(formData);\n  };\n\n  return (\n    <div className=\"h-full w-full bg-white md:bg-transparent overflow-y-auto no-scrollbar pb-24 md:pb-0 md:flex md:items-center md:justify-center\">\n      <div className=\"md:w-[600px] md:h-[80vh] md:bg-white md:rounded-3xl md:shadow-2xl md:overflow-hidden md:flex md:flex-col\">\n          \n          {/* Header */}\n          <div className=\"sticky top-0 bg-white/95 backdrop-blur-sm z-10 border-b border-gray-100 px-4 py-3 flex items-center justify-between\">\n            <button onClick={onCancel} className=\"p-2 -ml-2 text-gray-600 hover:bg-gray-100 rounded-full\">\n              <ChevronLeft size={24} />\n            </button>\n            <h1 className=\"text-lg font-bold text-gray-800\">编辑资料</h1>\n            <button onClick={handleSubmit} className=\"p-2 -mr-2 text-rose-500 font-medium hover:bg-rose-50 rounded-lg px-4\">\n              保存\n            </button>\n          </div>\n\n          <div className=\"flex-1 overflow-y-auto p-6 space-y-8 no-scrollbar\">\n            {/* Avatar Section */}\n            <div className=\"flex flex-col items-center\">\n              <div className=\"relative w-28 h-28 mb-4 group cursor-pointer\">\n                <img \n                  src={formData.avatar} \n                  alt=\"Avatar\" \n                  className={`w-full h-full rounded-full object-cover border-4 border-gray-100 shadow-sm transition-opacity group-hover:opacity-90 ${isUploading ? 'opacity-50' : ''}`}\n                />\n                {isUploading && (\n                  <div className=\"absolute inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center rounded-full\">\n                    <div className=\"w-12 h-12 border-4 border-white border-t-4 border-t-transparent rounded-full animate-spin\"></div>\n                  </div>\n                )}\n                <button \n                  className=\"absolute bottom-0 right-0 p-2 bg-rose-500 text-white rounded-full shadow-md hover:bg-rose-600 transition-colors disabled:opacity-70\"\n                  disabled={isUploading}\n                >\n                  <Upload size={16} />\n                </button>\n                <input\n                  type=\"file\"\n                  accept=\"image/*\"\n                  onChange={handleAvatarUpload}\n                  className=\"absolute inset-0 opacity-0 cursor-pointer\"\n                  disabled={isUploading}\n                />\n              </div>\n              <p className=\"text-xs text-gray-400\">点击修改头像</p>\n              <p className=\"text-xs text-gray-400 mt-1\">支持 JPG、PNG、WEBP 格式，大小不超过 5MB</p>\n            </div>\n\n            {/* Form Fields */}\n            <form className=\"space-y-6\">\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">昵称</label>\n                <input \n                  type=\"text\" \n                  value={formData.name}\n                  onChange={(e) => handleChange('name', e.target.value)}\n                  className=\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\"\n                />\n              </div>\n\n              <div className=\"grid grid-cols-3 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">年龄</label>\n                  <input \n                    type=\"number\" \n                    min=\"18\" \n                    max=\"100\"\n                    value={formData.age}\n                    onChange={(e) => handleChange('age', parseInt(e.target.value))}\n                    className=\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">职业</label>\n                  <input \n                    type=\"text\" \n                    value={formData.profession}\n                    onChange={(e) => handleChange('profession', e.target.value)}\n                    className=\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">星座</label>\n                  <select \n                    value={formData.zodiac}\n                    onChange={(e) => handleChange('zodiac', e.target.value)}\n                    className=\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none appearance-none cursor-pointer\"\n                  >\n                    {ZODIAC_SIGNS.map(z => <option key={z} value={z}>{z}</option>)}\n                  </select>\n                </div>\n              </div>\n\n              <div>\n                 <label className=\"block text-sm font-medium text-gray-700 mb-1\">身高 (cm)</label>\n                 <input \n                    type=\"number\" \n                    value={formData.height || ''}\n                    onChange={(e) => handleChange('height', parseInt(e.target.value))}\n                    className=\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\"\n                  />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">家乡</label>\n                <input \n                  type=\"text\" \n                  value={formData.hometown || ''}\n                  onChange={(e) => handleChange('hometown', e.target.value)}\n                  className=\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\"\n                  placeholder=\"例如：北京\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">寻找什么</label>\n                <input \n                  type=\"text\" \n                  value={formData.lookingFor || ''}\n                  onChange={(e) => handleChange('lookingFor', e.target.value)}\n                  className=\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\"\n                  placeholder=\"例如：一段认真的关系\"\n                />\n              </div>\n\n              {/* Bio */}\n              <div>\n                <div className=\"flex justify-between items-center mb-1\">\n                  <label className=\"block text-sm font-medium text-gray-700\">自我介绍</label>\n                </div>\n                <textarea \n                  rows={4}\n                  value={formData.bio}\n                  onChange={(e) => handleChange('bio', e.target.value)}\n                  className=\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none resize-none transition-all\"\n                  placeholder=\"介绍一下自己...\"\n                />\n                <p className=\"text-xs text-gray-400 mt-1\">完善的自我介绍能提升 300% 的匹配率</p>\n              </div>\n\n              {/* Tags */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">我的标签</label>\n                <div className=\"flex flex-wrap gap-2\">\n                  {(formData.tags || []).map((tag, idx) => (\n                    <span key={idx} className=\"px-3 py-1 bg-white border border-gray-200 text-gray-600 rounded-full text-sm flex items-center gap-1 hover:border-rose-200 transition-colors cursor-default\">\n                      {tag}\n                      <button type=\"button\" onClick={() => {\n                         const newTags = (formData.tags || []).filter((_, i) => i !== idx);\n                         handleChange('tags', newTags);\n                      }} className=\"text-gray-400 hover:text-red-500\">&times;</button>\n                    </span>\n                  ))}\n                  <button \n                    type=\"button\"\n                    onClick={() => {\n                      const tag = prompt(\"添加标签:\");\n                      if (tag) handleChange('tags', [...(formData.tags || []), tag]);\n                    }}\n                    className=\"px-3 py-1 bg-gray-100 text-gray-500 rounded-full text-sm border border-transparent hover:bg-gray-200 transition-colors\"\n                  >\n                    + 添加\n                  </button>\n                </div>\n              </div>\n            </form>\n          </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileEdit;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}