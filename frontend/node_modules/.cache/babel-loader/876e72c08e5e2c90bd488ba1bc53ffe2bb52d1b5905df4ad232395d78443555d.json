{"ast":null,"code":"import _objectSpread from\"E:/program/ai\\u4EA4\\u53CB\\u7F51\\u7AD9demo/dating-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";const API_BASE_URL='http://localhost:3001/api';// --- Auth Service ---\nexport const login=async(email,password)=>{const response=await fetch(\"\".concat(API_BASE_URL,\"/auth/login\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,password})});if(!response.ok){const data=await response.json();throw new Error(data.error||'登录失败');}const data=await response.json();// Store token in localStorage for future requests\nlocalStorage.setItem('authToken',data.token);return data;};export const register=async userData=>{const response=await fetch(\"\".concat(API_BASE_URL,\"/auth/register\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(userData)});if(!response.ok){const data=await response.json();throw new Error(data.error||'注册失败');}return response.json();};export const logout=()=>{localStorage.removeItem('authToken');};// Helper function to get auth headers for authenticated requests\nexport const getAuthHeaders=()=>{const token=localStorage.getItem('authToken');return _objectSpread({'Content-Type':'application/json'},token&&{Authorization:\"Bearer \".concat(token)});};// --- User Service ---\nexport const getCurrentUser=async()=>{const response=await fetch(\"\".concat(API_BASE_URL,\"/users/current\"),{headers:getAuthHeaders()});if(!response.ok){throw new Error('Failed to get current user');}const user=await response.json();// Ensure required arrays exist\nconst baseUrl=API_BASE_URL.replace('/api','');return _objectSpread(_objectSpread({},user),{},{// Add full URL to avatar and photos\navatar:user.avatar&&!user.avatar.startsWith('http')?\"\".concat(baseUrl).concat(user.avatar):user.avatar,tags:Array.isArray(user.tags)?user.tags:[],photos:Array.isArray(user.photos)?user.photos.map(photo=>photo&&!photo.startsWith('http')?\"\".concat(baseUrl).concat(photo):photo):[]});};export const updateCurrentUser=async updates=>{const response=await fetch(\"\".concat(API_BASE_URL,\"/users/profile\"),{method:'POST',headers:getAuthHeaders(),body:JSON.stringify(updates)});if(!response.ok){throw new Error('Failed to update user profile');}const user=await response.json();// Ensure required arrays exist\nconst baseUrl=API_BASE_URL.replace('/api','');return _objectSpread(_objectSpread({},user),{},{// Add full URL to avatar and photos\navatar:user.avatar&&!user.avatar.startsWith('http')?\"\".concat(baseUrl).concat(user.avatar):user.avatar,tags:Array.isArray(user.tags)?user.tags:[],photos:Array.isArray(user.photos)?user.photos.map(photo=>photo&&!photo.startsWith('http')?\"\".concat(baseUrl).concat(photo):photo):[]});};// --- Recommendation Service ---\nexport const getRecommendations=async function(){let excludeIds=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];const currentUser=await getCurrentUser();const currentUserId=currentUser.id;console.log('Getting recommendations for user:',currentUserId);const response=await fetch(\"\".concat(API_BASE_URL,\"/users/recommendations?currentUserId=\").concat(currentUserId),{headers:getAuthHeaders()});if(!response.ok){throw new Error('Failed to get recommendations');}const users=await response.json();console.log('Got recommendations:',users.length,'users');const baseUrl=API_BASE_URL.replace('/api','');return users.filter(u=>!excludeIds.includes(u.id)).map(u=>_objectSpread(_objectSpread({},u),{},{// Add full URL to avatar and photos\navatar:u.avatar&&!u.avatar.startsWith('http')?\"\".concat(baseUrl).concat(u.avatar):u.avatar,tags:Array.isArray(u.tags)?u.tags:[],photos:Array.isArray(u.photos)?u.photos.map(photo=>photo&&!photo.startsWith('http')?\"\".concat(baseUrl).concat(photo):photo):[]}));};// --- Interaction Service ---\nexport const recordInteraction=async(fromUserId,toUserId,type,message)=>{console.log('Recording interaction:',{fromUserId,toUserId,type,message});const response=await fetch(\"\".concat(API_BASE_URL,\"/interactions\"),{method:'POST',headers:getAuthHeaders(),body:JSON.stringify({toUserId,type,message})});console.log('Interaction API response status:',response.status);if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.error||'Failed to record interaction');}const result=await response.json();console.log('Interaction result:',result);return result;};// Get matches from API\nexport const getMatches=async()=>{const currentUser=await getCurrentUser();const response=await fetch(\"\".concat(API_BASE_URL,\"/matches?currentUserId=\").concat(currentUser.id),{headers:getAuthHeaders()});if(!response.ok){throw new Error('Failed to get matches');}return await response.json();};// Accept a match request\nexport const acceptMatch=async matchId=>{const response=await fetch(\"\".concat(API_BASE_URL,\"/matches/\").concat(matchId,\"/status\"),{method:'PUT',headers:getAuthHeaders(),body:JSON.stringify({status:'accepted'})});if(!response.ok){throw new Error('Failed to accept match');}};// Reject a match request\nexport const rejectMatch=async matchId=>{const response=await fetch(\"\".concat(API_BASE_URL,\"/matches/\").concat(matchId,\"/status\"),{method:'PUT',headers:getAuthHeaders(),body:JSON.stringify({status:'rejected'})});if(!response.ok){throw new Error('Failed to reject match');}};// --- Chat Service --- //\n// Get messages for a match\nexport const getMessages=async matchId=>{const response=await fetch(\"\".concat(API_BASE_URL,\"/matches/\").concat(matchId,\"/messages\"),{headers:getAuthHeaders()});if(!response.ok){throw new Error('Failed to fetch messages');}return await response.json();};// Send a message\nexport const sendMessage=async(matchId,content)=>{const response=await fetch(\"\".concat(API_BASE_URL,\"/matches/\").concat(matchId,\"/messages\"),{method:'POST',headers:getAuthHeaders(),body:JSON.stringify({content})});if(!response.ok){throw new Error('Failed to send message');}return await response.json();};// Mark message as read\nexport const markMessageAsRead=async messageId=>{const response=await fetch(\"\".concat(API_BASE_URL,\"/messages/\").concat(messageId,\"/read\"),{method:'PUT',headers:getAuthHeaders()});if(!response.ok){throw new Error('Failed to mark message as read');}};export const getUserActivity=async()=>{const response=await fetch(\"\".concat(API_BASE_URL,\"/users/activity\"),{headers:getAuthHeaders()});if(!response.ok){throw new Error('Failed to get user activity');}return await response.json();};","map":{"version":3,"names":["API_BASE_URL","login","email","password","response","fetch","concat","method","headers","body","JSON","stringify","ok","data","json","Error","error","localStorage","setItem","token","register","userData","logout","removeItem","getAuthHeaders","getItem","_objectSpread","Authorization","getCurrentUser","user","baseUrl","replace","avatar","startsWith","tags","Array","isArray","photos","map","photo","updateCurrentUser","updates","getRecommendations","excludeIds","arguments","length","undefined","currentUser","currentUserId","id","console","log","users","filter","u","includes","recordInteraction","fromUserId","toUserId","type","message","status","errorData","catch","result","getMatches","acceptMatch","matchId","rejectMatch","getMessages","sendMessage","content","markMessageAsRead","messageId","getUserActivity"],"sources":["E:/program/ai交友网站demo/dating-app/frontend/src/services/db.ts"],"sourcesContent":["import { UserProfile, InteractionType, Match, Message } from '../types';\n\nconst API_BASE_URL = 'http://localhost:3001/api';\n\n// --- Auth Service ---\n\ninterface AuthResponse {\n  user: UserProfile;\n  token: string;\n}\n\ninterface RegisterResponse {\n  userId: string;\n}\n\nexport const login = async (email: string, password: string): Promise<AuthResponse> => {\n  const response = await fetch(`${API_BASE_URL}/auth/login`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ email, password }),\n  });\n\n  if (!response.ok) {\n    const data = await response.json();\n    throw new Error(data.error || '登录失败');\n  }\n\n  const data = await response.json();\n  // Store token in localStorage for future requests\n  localStorage.setItem('authToken', data.token);\n  return data;\n};\n\nexport const register = async (userData: {\n  email: string;\n  password: string;\n  name: string;\n  age: number;\n  gender: string;\n}): Promise<RegisterResponse> => {\n  const response = await fetch(`${API_BASE_URL}/auth/register`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(userData),\n  });\n\n  if (!response.ok) {\n    const data = await response.json();\n    throw new Error(data.error || '注册失败');\n  }\n\n  return response.json();\n};\n\nexport const logout = (): void => {\n  localStorage.removeItem('authToken');\n};\n\n// Helper function to get auth headers for authenticated requests\nexport const getAuthHeaders = (): HeadersInit => {\n  const token = localStorage.getItem('authToken');\n  return {\n    'Content-Type': 'application/json',\n    ...(token && { Authorization: `Bearer ${token}` }),\n  };\n};\n\n// --- User Service ---\n\nexport const getCurrentUser = async (): Promise<UserProfile> => {\n  const response = await fetch(`${API_BASE_URL}/users/current`, {\n    headers: getAuthHeaders()\n  });\n  if (!response.ok) {\n    throw new Error('Failed to get current user');\n  }\n  const user = await response.json();\n  // Ensure required arrays exist\n  const baseUrl = API_BASE_URL.replace('/api', '');\n  return {\n    ...user,\n    // Add full URL to avatar and photos\n    avatar: user.avatar && !user.avatar.startsWith('http') ? `${baseUrl}${user.avatar}` : user.avatar,\n    tags: Array.isArray(user.tags) ? user.tags : [],\n    photos: Array.isArray(user.photos) ? user.photos.map((photo: string) => \n      photo && !photo.startsWith('http') ? `${baseUrl}${photo}` : photo\n    ) : []\n  };\n};\n\nexport const updateCurrentUser = async (updates: Partial<UserProfile>): Promise<UserProfile> => {\n  const response = await fetch(`${API_BASE_URL}/users/profile`, {\n    method: 'POST',\n    headers: getAuthHeaders(),\n    body: JSON.stringify(updates),\n  });\n\n  if (!response.ok) {\n    throw new Error('Failed to update user profile');\n  }\n\n  const user = await response.json();\n  // Ensure required arrays exist\n  const baseUrl = API_BASE_URL.replace('/api', '');\n  return {\n    ...user,\n    // Add full URL to avatar and photos\n    avatar: user.avatar && !user.avatar.startsWith('http') ? `${baseUrl}${user.avatar}` : user.avatar,\n    tags: Array.isArray(user.tags) ? user.tags : [],\n    photos: Array.isArray(user.photos) ? user.photos.map((photo: string) => \n      photo && !photo.startsWith('http') ? `${baseUrl}${photo}` : photo\n    ) : []\n  };\n};\n\n// --- Recommendation Service ---\n\nexport const getRecommendations = async (excludeIds: string[] = []): Promise<UserProfile[]> => {\n  const currentUser = await getCurrentUser();\n  const currentUserId = currentUser.id;\n  console.log('Getting recommendations for user:', currentUserId);\n  const response = await fetch(`${API_BASE_URL}/users/recommendations?currentUserId=${currentUserId}`, {\n    headers: getAuthHeaders()\n  });\n  if (!response.ok) {\n    throw new Error('Failed to get recommendations');\n  }\n  const users = await response.json();\n  console.log('Got recommendations:', users.length, 'users');\n  const baseUrl = API_BASE_URL.replace('/api', '');\n  return users.filter((u: UserProfile) => !excludeIds.includes(u.id)).map((u: UserProfile) => ({\n      ...u,\n      // Add full URL to avatar and photos\n      avatar: u.avatar && !u.avatar.startsWith('http') ? `${baseUrl}${u.avatar}` : u.avatar,\n      tags: Array.isArray(u.tags) ? u.tags : [],\n      photos: Array.isArray(u.photos) ? u.photos.map((photo: string) => \n        photo && !photo.startsWith('http') ? `${baseUrl}${photo}` : photo\n      ) : []\n    }));\n};\n\n// --- Interaction Service ---\n\nexport const recordInteraction = async (\n  fromUserId: string,\n  toUserId: string,\n  type: InteractionType,\n  message?: string\n): Promise<{ isMatch: boolean }> => {\n  console.log('Recording interaction:', { fromUserId, toUserId, type, message });\n\n  const response = await fetch(`${API_BASE_URL}/interactions`, {\n    method: 'POST',\n    headers: getAuthHeaders(),\n    body: JSON.stringify({\n      toUserId,\n      type,\n      message\n    }),\n  });\n\n  console.log('Interaction API response status:', response.status);\n\n  if (!response.ok) {\n    const errorData = await response.json().catch(() => ({}));\n    throw new Error(errorData.error || 'Failed to record interaction');\n  }\n\n  const result = await response.json();\n  console.log('Interaction result:', result);\n  return result;\n};\n\n// Get matches from API\nexport const getMatches = async (): Promise<Match[]> => {\n  const currentUser = await getCurrentUser();\n  const response = await fetch(`${API_BASE_URL}/matches?currentUserId=${currentUser.id}`, {\n    headers: getAuthHeaders()\n  });\n  if (!response.ok) {\n    throw new Error('Failed to get matches');\n  }\n  return await response.json();\n};\n\n// Accept a match request\nexport const acceptMatch = async (matchId: string): Promise<void> => {\n  const response = await fetch(`${API_BASE_URL}/matches/${matchId}/status`, {\n    method: 'PUT',\n    headers: getAuthHeaders(),\n    body: JSON.stringify({ status: 'accepted' })\n  });\n  if (!response.ok) {\n    throw new Error('Failed to accept match');\n  }\n};\n\n// Reject a match request\nexport const rejectMatch = async (matchId: string): Promise<void> => {\n  const response = await fetch(`${API_BASE_URL}/matches/${matchId}/status`, {\n    method: 'PUT',\n    headers: getAuthHeaders(),\n    body: JSON.stringify({ status: 'rejected' })\n  });\n  if (!response.ok) {\n    throw new Error('Failed to reject match');\n  }\n};\n\n// --- Chat Service --- //\n\n// Get messages for a match\nexport const getMessages = async (matchId: string): Promise<Message[]> => {\n  const response = await fetch(`${API_BASE_URL}/matches/${matchId}/messages`, {\n    headers: getAuthHeaders()\n  });\n  if (!response.ok) {\n    throw new Error('Failed to fetch messages');\n  }\n  return await response.json();\n};\n\n// Send a message\nexport const sendMessage = async (matchId: string, content: string): Promise<Message> => {\n  const response = await fetch(`${API_BASE_URL}/matches/${matchId}/messages`, {\n    method: 'POST',\n    headers: getAuthHeaders(),\n    body: JSON.stringify({ content })\n  });\n  if (!response.ok) {\n    throw new Error('Failed to send message');\n  }\n  return await response.json();\n};\n\n// Mark message as read\nexport const markMessageAsRead = async (messageId: string): Promise<void> => {\n  const response = await fetch(`${API_BASE_URL}/messages/${messageId}/read`, {\n    method: 'PUT',\n    headers: getAuthHeaders()\n  });\n  if (!response.ok) {\n    throw new Error('Failed to mark message as read');\n  }\n};\n\nexport const getUserActivity = async (): Promise<Array<{name: string, views: number}>> => {\n  const response = await fetch(`${API_BASE_URL}/users/activity`, {\n    headers: getAuthHeaders()\n  });\n  if (!response.ok) {\n    throw new Error('Failed to get user activity');\n  }\n  return await response.json();\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}