{"ast":null,"code":"const API_BASE_URL = 'http://localhost:3001/api';\n\n// --- Auth Service ---\n\nexport const login = async (email, password) => {\n  const response = await fetch(`${API_BASE_URL}/auth/login`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      email,\n      password\n    })\n  });\n  if (!response.ok) {\n    const data = await response.json();\n    throw new Error(data.error || '登录失败');\n  }\n  const data = await response.json();\n  // Store token in localStorage for future requests\n  localStorage.setItem('authToken', data.token);\n  return data;\n};\nexport const register = async userData => {\n  const response = await fetch(`${API_BASE_URL}/auth/register`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(userData)\n  });\n  if (!response.ok) {\n    const data = await response.json();\n    throw new Error(data.error || '注册失败');\n  }\n  return response.json();\n};\nexport const logout = () => {\n  localStorage.removeItem('authToken');\n};\n\n// Helper function to get auth headers for authenticated requests\nconst getAuthHeaders = () => {\n  const token = localStorage.getItem('authToken');\n  return {\n    'Content-Type': 'application/json',\n    ...(token && {\n      Authorization: `Bearer ${token}`\n    })\n  };\n};\n\n// --- User Service ---\n\nexport const getCurrentUser = async () => {\n  const response = await fetch(`${API_BASE_URL}/users/current`, {\n    headers: getAuthHeaders()\n  });\n  if (!response.ok) {\n    throw new Error('Failed to get current user');\n  }\n  const user = await response.json();\n  // Ensure required arrays exist\n  const baseUrl = API_BASE_URL.replace('/api', '');\n  return {\n    ...user,\n    // Add full URL to avatar and photos\n    avatar: user.avatar && !user.avatar.startsWith('http') ? `${baseUrl}${user.avatar}` : user.avatar,\n    tags: Array.isArray(user.tags) ? user.tags : [],\n    photos: Array.isArray(user.photos) ? user.photos.map(photo => photo && !photo.startsWith('http') ? `${baseUrl}${photo}` : photo) : []\n  };\n};\nexport const updateCurrentUser = async updates => {\n  const response = await fetch(`${API_BASE_URL}/users/profile`, {\n    method: 'POST',\n    headers: getAuthHeaders(),\n    body: JSON.stringify(updates)\n  });\n  if (!response.ok) {\n    throw new Error('Failed to update user profile');\n  }\n  const user = await response.json();\n  // Ensure required arrays exist\n  const baseUrl = API_BASE_URL.replace('/api', '');\n  return {\n    ...user,\n    // Add full URL to avatar and photos\n    avatar: user.avatar && !user.avatar.startsWith('http') ? `${baseUrl}${user.avatar}` : user.avatar,\n    tags: Array.isArray(user.tags) ? user.tags : [],\n    photos: Array.isArray(user.photos) ? user.photos.map(photo => photo && !photo.startsWith('http') ? `${baseUrl}${photo}` : photo) : []\n  };\n};\n\n// --- Recommendation Service ---\n\nexport const getRecommendations = async (excludeIds = []) => {\n  const currentUser = await getCurrentUser();\n  const currentUserId = currentUser.id;\n  console.log('Getting recommendations for user:', currentUserId);\n  const response = await fetch(`${API_BASE_URL}/users/recommendations?currentUserId=${currentUserId}`, {\n    headers: getAuthHeaders()\n  });\n  if (!response.ok) {\n    throw new Error('Failed to get recommendations');\n  }\n  const users = await response.json();\n  console.log('Got recommendations:', users.length, 'users');\n  const baseUrl = API_BASE_URL.replace('/api', '');\n  return users.filter(u => !excludeIds.includes(u.id)).map(u => ({\n    ...u,\n    // Add full URL to avatar and photos\n    avatar: u.avatar && !u.avatar.startsWith('http') ? `${baseUrl}${u.avatar}` : u.avatar,\n    tags: Array.isArray(u.tags) ? u.tags : [],\n    photos: Array.isArray(u.photos) ? u.photos.map(photo => photo && !photo.startsWith('http') ? `${baseUrl}${photo}` : photo) : []\n  }));\n};\n\n// --- Interaction Service ---\n\nexport const recordInteraction = async (fromUserId, toUserId, type, message) => {\n  console.log('Recording interaction:', {\n    fromUserId,\n    toUserId,\n    type,\n    message\n  });\n  const response = await fetch(`${API_BASE_URL}/interactions`, {\n    method: 'POST',\n    headers: getAuthHeaders(),\n    body: JSON.stringify({\n      toUserId,\n      type,\n      message\n    })\n  });\n  console.log('Interaction API response status:', response.status);\n  if (!response.ok) {\n    throw new Error('Failed to record interaction');\n  }\n  const result = await response.json();\n  console.log('Interaction result:', result);\n  return result;\n};\n\n// Get matches from API\nexport const getMatches = async () => {\n  const currentUser = await getCurrentUser();\n  const response = await fetch(`${API_BASE_URL}/matches?currentUserId=${currentUser.id}`, {\n    headers: getAuthHeaders()\n  });\n  if (!response.ok) {\n    throw new Error('Failed to get matches');\n  }\n  return await response.json();\n};\n\n// Accept a match request\nexport const acceptMatch = async matchId => {\n  const response = await fetch(`${API_BASE_URL}/matches/${matchId}/status`, {\n    method: 'PUT',\n    headers: getAuthHeaders(),\n    body: JSON.stringify({\n      status: 'accepted'\n    })\n  });\n  if (!response.ok) {\n    throw new Error('Failed to accept match');\n  }\n};\n\n// Reject a match request\nexport const rejectMatch = async matchId => {\n  const response = await fetch(`${API_BASE_URL}/matches/${matchId}/status`, {\n    method: 'PUT',\n    headers: getAuthHeaders(),\n    body: JSON.stringify({\n      status: 'rejected'\n    })\n  });\n  if (!response.ok) {\n    throw new Error('Failed to reject match');\n  }\n};\n\n// --- Chat Service --- //\n\n// Get messages for a match\nexport const getMessages = async matchId => {\n  const response = await fetch(`${API_BASE_URL}/matches/${matchId}/messages`, {\n    headers: getAuthHeaders()\n  });\n  if (!response.ok) {\n    throw new Error('Failed to fetch messages');\n  }\n  return await response.json();\n};\n\n// Send a message\nexport const sendMessage = async (matchId, content) => {\n  const response = await fetch(`${API_BASE_URL}/matches/${matchId}/messages`, {\n    method: 'POST',\n    headers: getAuthHeaders(),\n    body: JSON.stringify({\n      content\n    })\n  });\n  if (!response.ok) {\n    throw new Error('Failed to send message');\n  }\n  return await response.json();\n};\n\n// Mark message as read\nexport const markMessageAsRead = async messageId => {\n  const response = await fetch(`${API_BASE_URL}/messages/${messageId}/read`, {\n    method: 'PUT',\n    headers: getAuthHeaders()\n  });\n  if (!response.ok) {\n    throw new Error('Failed to mark message as read');\n  }\n};\nexport const getUserActivity = async () => {\n  const response = await fetch(`${API_BASE_URL}/users/activity`, {\n    headers: getAuthHeaders()\n  });\n  if (!response.ok) {\n    throw new Error('Failed to get user activity');\n  }\n  return await response.json();\n};","map":{"version":3,"names":["API_BASE_URL","login","email","password","response","fetch","method","headers","body","JSON","stringify","ok","data","json","Error","error","localStorage","setItem","token","register","userData","logout","removeItem","getAuthHeaders","getItem","Authorization","getCurrentUser","user","baseUrl","replace","avatar","startsWith","tags","Array","isArray","photos","map","photo","updateCurrentUser","updates","getRecommendations","excludeIds","currentUser","currentUserId","id","console","log","users","length","filter","u","includes","recordInteraction","fromUserId","toUserId","type","message","status","result","getMatches","acceptMatch","matchId","rejectMatch","getMessages","sendMessage","content","markMessageAsRead","messageId","getUserActivity"],"sources":["E:/program/ai交友网站demo/dating-app/frontend/src/services/db.ts"],"sourcesContent":["import { UserProfile, InteractionType, Match, Message } from '../types';\n\nconst API_BASE_URL = 'http://localhost:3001/api';\n\n// --- Auth Service ---\n\ninterface AuthResponse {\n  user: UserProfile;\n  token: string;\n}\n\ninterface RegisterResponse {\n  userId: string;\n}\n\nexport const login = async (email: string, password: string): Promise<AuthResponse> => {\n  const response = await fetch(`${API_BASE_URL}/auth/login`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ email, password }),\n  });\n\n  if (!response.ok) {\n    const data = await response.json();\n    throw new Error(data.error || '登录失败');\n  }\n\n  const data = await response.json();\n  // Store token in localStorage for future requests\n  localStorage.setItem('authToken', data.token);\n  return data;\n};\n\nexport const register = async (userData: {\n  email: string;\n  password: string;\n  name: string;\n  age: number;\n  gender: string;\n}): Promise<RegisterResponse> => {\n  const response = await fetch(`${API_BASE_URL}/auth/register`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(userData),\n  });\n\n  if (!response.ok) {\n    const data = await response.json();\n    throw new Error(data.error || '注册失败');\n  }\n\n  return response.json();\n};\n\nexport const logout = (): void => {\n  localStorage.removeItem('authToken');\n};\n\n// Helper function to get auth headers for authenticated requests\nconst getAuthHeaders = (): HeadersInit => {\n  const token = localStorage.getItem('authToken');\n  return {\n    'Content-Type': 'application/json',\n    ...(token && { Authorization: `Bearer ${token}` }),\n  };\n};\n\n// --- User Service ---\n\nexport const getCurrentUser = async (): Promise<UserProfile> => {\n  const response = await fetch(`${API_BASE_URL}/users/current`, {\n    headers: getAuthHeaders()\n  });\n  if (!response.ok) {\n    throw new Error('Failed to get current user');\n  }\n  const user = await response.json();\n  // Ensure required arrays exist\n  const baseUrl = API_BASE_URL.replace('/api', '');\n  return {\n    ...user,\n    // Add full URL to avatar and photos\n    avatar: user.avatar && !user.avatar.startsWith('http') ? `${baseUrl}${user.avatar}` : user.avatar,\n    tags: Array.isArray(user.tags) ? user.tags : [],\n    photos: Array.isArray(user.photos) ? user.photos.map((photo: string) => \n      photo && !photo.startsWith('http') ? `${baseUrl}${photo}` : photo\n    ) : []\n  };\n};\n\nexport const updateCurrentUser = async (updates: Partial<UserProfile>): Promise<UserProfile> => {\n  const response = await fetch(`${API_BASE_URL}/users/profile`, {\n    method: 'POST',\n    headers: getAuthHeaders(),\n    body: JSON.stringify(updates),\n  });\n\n  if (!response.ok) {\n    throw new Error('Failed to update user profile');\n  }\n\n  const user = await response.json();\n  // Ensure required arrays exist\n  const baseUrl = API_BASE_URL.replace('/api', '');\n  return {\n    ...user,\n    // Add full URL to avatar and photos\n    avatar: user.avatar && !user.avatar.startsWith('http') ? `${baseUrl}${user.avatar}` : user.avatar,\n    tags: Array.isArray(user.tags) ? user.tags : [],\n    photos: Array.isArray(user.photos) ? user.photos.map((photo: string) => \n      photo && !photo.startsWith('http') ? `${baseUrl}${photo}` : photo\n    ) : []\n  };\n};\n\n// --- Recommendation Service ---\n\nexport const getRecommendations = async (excludeIds: string[] = []): Promise<UserProfile[]> => {\n  const currentUser = await getCurrentUser();\n  const currentUserId = currentUser.id;\n  console.log('Getting recommendations for user:', currentUserId);\n  const response = await fetch(`${API_BASE_URL}/users/recommendations?currentUserId=${currentUserId}`, {\n    headers: getAuthHeaders()\n  });\n  if (!response.ok) {\n    throw new Error('Failed to get recommendations');\n  }\n  const users = await response.json();\n  console.log('Got recommendations:', users.length, 'users');\n  const baseUrl = API_BASE_URL.replace('/api', '');\n  return users.filter((u: UserProfile) => !excludeIds.includes(u.id)).map((u: UserProfile) => ({\n      ...u,\n      // Add full URL to avatar and photos\n      avatar: u.avatar && !u.avatar.startsWith('http') ? `${baseUrl}${u.avatar}` : u.avatar,\n      tags: Array.isArray(u.tags) ? u.tags : [],\n      photos: Array.isArray(u.photos) ? u.photos.map((photo: string) => \n        photo && !photo.startsWith('http') ? `${baseUrl}${photo}` : photo\n      ) : []\n    }));\n};\n\n// --- Interaction Service ---\n\nexport const recordInteraction = async (\n  fromUserId: string,\n  toUserId: string,\n  type: InteractionType,\n  message?: string\n): Promise<{ isMatch: boolean }> => {\n  console.log('Recording interaction:', { fromUserId, toUserId, type, message });\n\n  const response = await fetch(`${API_BASE_URL}/interactions`, {\n    method: 'POST',\n    headers: getAuthHeaders(),\n    body: JSON.stringify({\n      toUserId,\n      type,\n      message\n    }),\n  });\n\n  console.log('Interaction API response status:', response.status);\n\n  if (!response.ok) {\n    throw new Error('Failed to record interaction');\n  }\n\n  const result = await response.json();\n  console.log('Interaction result:', result);\n  return result;\n};\n\n// Get matches from API\nexport const getMatches = async (): Promise<Match[]> => {\n  const currentUser = await getCurrentUser();\n  const response = await fetch(`${API_BASE_URL}/matches?currentUserId=${currentUser.id}`, {\n    headers: getAuthHeaders()\n  });\n  if (!response.ok) {\n    throw new Error('Failed to get matches');\n  }\n  return await response.json();\n};\n\n// Accept a match request\nexport const acceptMatch = async (matchId: string): Promise<void> => {\n  const response = await fetch(`${API_BASE_URL}/matches/${matchId}/status`, {\n    method: 'PUT',\n    headers: getAuthHeaders(),\n    body: JSON.stringify({ status: 'accepted' })\n  });\n  if (!response.ok) {\n    throw new Error('Failed to accept match');\n  }\n};\n\n// Reject a match request\nexport const rejectMatch = async (matchId: string): Promise<void> => {\n  const response = await fetch(`${API_BASE_URL}/matches/${matchId}/status`, {\n    method: 'PUT',\n    headers: getAuthHeaders(),\n    body: JSON.stringify({ status: 'rejected' })\n  });\n  if (!response.ok) {\n    throw new Error('Failed to reject match');\n  }\n};\n\n// --- Chat Service --- //\n\n// Get messages for a match\nexport const getMessages = async (matchId: string): Promise<Message[]> => {\n  const response = await fetch(`${API_BASE_URL}/matches/${matchId}/messages`, {\n    headers: getAuthHeaders()\n  });\n  if (!response.ok) {\n    throw new Error('Failed to fetch messages');\n  }\n  return await response.json();\n};\n\n// Send a message\nexport const sendMessage = async (matchId: string, content: string): Promise<Message> => {\n  const response = await fetch(`${API_BASE_URL}/matches/${matchId}/messages`, {\n    method: 'POST',\n    headers: getAuthHeaders(),\n    body: JSON.stringify({ content })\n  });\n  if (!response.ok) {\n    throw new Error('Failed to send message');\n  }\n  return await response.json();\n};\n\n// Mark message as read\nexport const markMessageAsRead = async (messageId: string): Promise<void> => {\n  const response = await fetch(`${API_BASE_URL}/messages/${messageId}/read`, {\n    method: 'PUT',\n    headers: getAuthHeaders()\n  });\n  if (!response.ok) {\n    throw new Error('Failed to mark message as read');\n  }\n};\n\nexport const getUserActivity = async (): Promise<Array<{name: string, views: number}>> => {\n  const response = await fetch(`${API_BASE_URL}/users/activity`, {\n    headers: getAuthHeaders()\n  });\n  if (!response.ok) {\n    throw new Error('Failed to get user activity');\n  }\n  return await response.json();\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}