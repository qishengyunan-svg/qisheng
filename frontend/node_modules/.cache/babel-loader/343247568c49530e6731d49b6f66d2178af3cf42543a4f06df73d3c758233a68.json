{"ast":null,"code":"import{InternMap}from\"internmap\";import identity from\"./identity.js\";export default function group(values){for(var _len=arguments.length,keys=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){keys[_key-1]=arguments[_key];}return nest(values,identity,identity,keys);}export function groups(values){for(var _len2=arguments.length,keys=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){keys[_key2-1]=arguments[_key2];}return nest(values,Array.from,identity,keys);}function flatten(groups,keys){for(let i=1,n=keys.length;i<n;++i){groups=groups.flatMap(g=>g.pop().map(_ref=>{let[key,value]=_ref;return[...g,key,value];}));}return groups;}export function flatGroup(values){for(var _len3=arguments.length,keys=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++){keys[_key3-1]=arguments[_key3];}return flatten(groups(values,...keys),keys);}export function flatRollup(values,reduce){for(var _len4=arguments.length,keys=new Array(_len4>2?_len4-2:0),_key4=2;_key4<_len4;_key4++){keys[_key4-2]=arguments[_key4];}return flatten(rollups(values,reduce,...keys),keys);}export function rollup(values,reduce){for(var _len5=arguments.length,keys=new Array(_len5>2?_len5-2:0),_key5=2;_key5<_len5;_key5++){keys[_key5-2]=arguments[_key5];}return nest(values,identity,reduce,keys);}export function rollups(values,reduce){for(var _len6=arguments.length,keys=new Array(_len6>2?_len6-2:0),_key6=2;_key6<_len6;_key6++){keys[_key6-2]=arguments[_key6];}return nest(values,Array.from,reduce,keys);}export function index(values){for(var _len7=arguments.length,keys=new Array(_len7>1?_len7-1:0),_key7=1;_key7<_len7;_key7++){keys[_key7-1]=arguments[_key7];}return nest(values,identity,unique,keys);}export function indexes(values){for(var _len8=arguments.length,keys=new Array(_len8>1?_len8-1:0),_key8=1;_key8<_len8;_key8++){keys[_key8-1]=arguments[_key8];}return nest(values,Array.from,unique,keys);}function unique(values){if(values.length!==1)throw new Error(\"duplicate key\");return values[0];}function nest(values,map,reduce,keys){return function regroup(values,i){if(i>=keys.length)return reduce(values);const groups=new InternMap();const keyof=keys[i++];let index=-1;for(const value of values){const key=keyof(value,++index,values);const group=groups.get(key);if(group)group.push(value);else groups.set(key,[value]);}for(const[key,values]of groups){groups.set(key,regroup(values,i));}return map(groups);}(values,0);}","map":{"version":3,"names":["InternMap","identity","group","values","_len","arguments","length","keys","Array","_key","nest","groups","_len2","_key2","from","flatten","i","n","flatMap","g","pop","map","_ref","key","value","flatGroup","_len3","_key3","flatRollup","reduce","_len4","_key4","rollups","rollup","_len5","_key5","_len6","_key6","index","_len7","_key7","unique","indexes","_len8","_key8","Error","regroup","keyof","get","push","set"],"sources":["E:/program/ai交友网站demo/dating-app/frontend/src/node_modules/d3-array/src/group.js"],"sourcesContent":["import {InternMap} from \"internmap\";\nimport identity from \"./identity.js\";\n\nexport default function group(values, ...keys) {\n  return nest(values, identity, identity, keys);\n}\n\nexport function groups(values, ...keys) {\n  return nest(values, Array.from, identity, keys);\n}\n\nfunction flatten(groups, keys) {\n  for (let i = 1, n = keys.length; i < n; ++i) {\n    groups = groups.flatMap(g => g.pop().map(([key, value]) => [...g, key, value]));\n  }\n  return groups;\n}\n\nexport function flatGroup(values, ...keys) {\n  return flatten(groups(values, ...keys), keys);\n}\n\nexport function flatRollup(values, reduce, ...keys) {\n  return flatten(rollups(values, reduce, ...keys), keys);\n}\n\nexport function rollup(values, reduce, ...keys) {\n  return nest(values, identity, reduce, keys);\n}\n\nexport function rollups(values, reduce, ...keys) {\n  return nest(values, Array.from, reduce, keys);\n}\n\nexport function index(values, ...keys) {\n  return nest(values, identity, unique, keys);\n}\n\nexport function indexes(values, ...keys) {\n  return nest(values, Array.from, unique, keys);\n}\n\nfunction unique(values) {\n  if (values.length !== 1) throw new Error(\"duplicate key\");\n  return values[0];\n}\n\nfunction nest(values, map, reduce, keys) {\n  return (function regroup(values, i) {\n    if (i >= keys.length) return reduce(values);\n    const groups = new InternMap();\n    const keyof = keys[i++];\n    let index = -1;\n    for (const value of values) {\n      const key = keyof(value, ++index, values);\n      const group = groups.get(key);\n      if (group) group.push(value);\n      else groups.set(key, [value]);\n    }\n    for (const [key, values] of groups) {\n      groups.set(key, regroup(values, i));\n    }\n    return map(groups);\n  })(values, 0);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}