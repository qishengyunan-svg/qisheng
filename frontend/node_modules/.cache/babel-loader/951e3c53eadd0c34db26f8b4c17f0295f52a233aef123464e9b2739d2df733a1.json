{"ast":null,"code":"import _objectSpread from\"E:/program/ai\\u4EA4\\u53CB\\u7F51\\u7AD9demo/dating-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{ZODIAC_SIGNS}from'../types';import{ChevronLeft,Upload}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProfileEdit=_ref=>{let{user,onSave,onCancel}=_ref;const[formData,setFormData]=useState(user);const[isUploading,setIsUploading]=useState(false);const handleChange=(field,value)=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));};const handleAvatarUpload=async e=>{var _e$target$files;const file=(_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0];if(!file)return;// Check file type and size\nif(!file.type.startsWith('image/')){alert('请选择图片文件');return;}if(file.size>5*1024*1024){alert('图片大小不能超过5MB');return;}setIsUploading(true);try{// Convert file to base64\nconst reader=new FileReader();reader.onload=async event=>{var _event$target;const avatarData=(_event$target=event.target)===null||_event$target===void 0?void 0:_event$target.result;try{// Upload to backend API\nconst apiBaseUrl=process.env.REACT_APP_API_URL||'http://localhost:3001';const response=await fetch(\"\".concat(apiBaseUrl,\"/api/users/avatar\"),{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem('authToken'))},body:JSON.stringify({avatarData,filename:file.name})});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.error||'Failed to upload avatar');}const data=await response.json();// Use the complete user data returned from backend if available\nif(data.user){// Add API base URL to avatar and photos URLs if needed\nconst updatedUser=_objectSpread(_objectSpread({},data.user),{},{avatar:data.user.avatar&&!data.user.avatar.startsWith('http')?\"\".concat(apiBaseUrl).concat(data.user.avatar):data.user.avatar,photos:Array.isArray(data.user.photos)?data.user.photos.map(photo=>photo&&!photo.startsWith('http')?\"\".concat(apiBaseUrl).concat(photo):photo):[]});// Update form data with the complete updated user data\nsetFormData(updatedUser);}else if(data.avatar){// Fallback if only avatar URL is returned\nconst fullAvatarUrl=data.avatar.startsWith('http')?data.avatar:\"\".concat(apiBaseUrl).concat(data.avatar);setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{avatar:fullAvatarUrl}));}}catch(error){console.error('Avatar upload failed:',error);// 使用更友好的错误提示，显示具体错误信息\nalert(\"\\u5934\\u50CF\\u4E0A\\u4F20\\u5931\\u8D25: \".concat(error instanceof Error?error.message:'未知错误'));}finally{setIsUploading(false);}};reader.onerror=()=>{console.error('Failed to read file');alert('头像读取失败，请重试');setIsUploading(false);};reader.readAsDataURL(file);}catch(error){console.error('Avatar upload failed:',error);// 使用更友好的错误提示，显示具体错误信息\nalert(\"\\u5934\\u50CF\\u4E0A\\u4F20\\u5931\\u8D25: \".concat(error instanceof Error?error.message:'未知错误'));setIsUploading(false);}};const handleSubmit=e=>{e.preventDefault();onSave(formData);};return/*#__PURE__*/_jsx(\"div\",{className:\"h-full w-full bg-white md:bg-transparent overflow-y-auto no-scrollbar pb-24 md:pb-0 md:flex md:items-center md:justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"md:w-[600px] md:h-[80vh] md:bg-white md:rounded-3xl md:shadow-2xl md:overflow-hidden md:flex md:flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sticky top-0 bg-white/95 backdrop-blur-sm z-10 border-b border-gray-100 px-4 py-3 flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onCancel,className:\"p-2 -ml-2 text-gray-600 hover:bg-gray-100 rounded-full\",children:/*#__PURE__*/_jsx(ChevronLeft,{size:24})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-lg font-bold text-gray-800\",children:\"\\u7F16\\u8F91\\u8D44\\u6599\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,className:\"p-2 -mr-2 text-rose-500 font-medium hover:bg-rose-50 rounded-lg px-4\",children:\"\\u4FDD\\u5B58\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto p-6 space-y-8 no-scrollbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-28 h-28 mb-4 group cursor-pointer\",children:[/*#__PURE__*/_jsx(\"img\",{src:formData.avatar,alt:\"Avatar\",className:\"w-full h-full rounded-full object-cover border-4 border-gray-100 shadow-sm transition-opacity group-hover:opacity-90 \".concat(isUploading?'opacity-50':'')}),isUploading&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center rounded-full\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 border-4 border-white border-t-4 border-t-transparent rounded-full animate-spin\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"absolute bottom-0 right-0 p-2 bg-rose-500 text-white rounded-full shadow-md hover:bg-rose-600 transition-colors disabled:opacity-70\",disabled:isUploading,children:/*#__PURE__*/_jsx(Upload,{size:16})}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleAvatarUpload,className:\"absolute inset-0 opacity-0 cursor-pointer\",disabled:isUploading})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400\",children:\"\\u70B9\\u51FB\\u4FEE\\u6539\\u5934\\u50CF\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400 mt-1\",children:\"\\u652F\\u6301 JPG\\u3001PNG\\u3001WEBP \\u683C\\u5F0F\\uFF0C\\u5927\\u5C0F\\u4E0D\\u8D85\\u8FC7 5MB\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u6635\\u79F0\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.name,onChange:e=>handleChange('name',e.target.value),className:\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u5E74\\u9F84\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"18\",max:\"100\",value:formData.age,onChange:e=>handleChange('age',parseInt(e.target.value)),className:\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u804C\\u4E1A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.profession,onChange:e=>handleChange('profession',e.target.value),className:\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u661F\\u5EA7\"}),/*#__PURE__*/_jsx(\"select\",{value:formData.zodiac,onChange:e=>handleChange('zodiac',e.target.value),className:\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none appearance-none cursor-pointer\",children:ZODIAC_SIGNS.map(z=>/*#__PURE__*/_jsx(\"option\",{value:z,children:z},z))})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u8EAB\\u9AD8 (cm)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.height||'',onChange:e=>handleChange('height',parseInt(e.target.value)),className:\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u5BB6\\u4E61\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.hometown||'',onChange:e=>handleChange('hometown',e.target.value),className:\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\",placeholder:\"\\u4F8B\\u5982\\uFF1A\\u5317\\u4EAC\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"\\u5BFB\\u627E\\u4EC0\\u4E48\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.lookingFor||'',onChange:e=>handleChange('lookingFor',e.target.value),className:\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\",placeholder:\"\\u4F8B\\u5982\\uFF1A\\u4E00\\u6BB5\\u8BA4\\u771F\\u7684\\u5173\\u7CFB\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between items-center mb-1\",children:/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"\\u81EA\\u6211\\u4ECB\\u7ECD\"})}),/*#__PURE__*/_jsx(\"textarea\",{rows:4,value:formData.bio,onChange:e=>handleChange('bio',e.target.value),className:\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none resize-none transition-all\",placeholder:\"\\u4ECB\\u7ECD\\u4E00\\u4E0B\\u81EA\\u5DF1...\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400 mt-1\",children:\"\\u5B8C\\u5584\\u7684\\u81EA\\u6211\\u4ECB\\u7ECD\\u80FD\\u63D0\\u5347 300% \\u7684\\u5339\\u914D\\u7387\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"\\u6211\\u7684\\u6807\\u7B7E\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2\",children:[Array.isArray(formData.tags)?formData.tags.map((tag,idx)=>/*#__PURE__*/_jsxs(\"span\",{className:\"px-3 py-1 bg-white border border-gray-200 text-gray-600 rounded-full text-sm flex items-center gap-1 hover:border-rose-200 transition-colors cursor-default\",children:[tag,/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{const newTags=Array.isArray(formData.tags)?formData.tags.filter((_,i)=>i!==idx):[];handleChange('tags',newTags);},className:\"text-gray-400 hover:text-red-500\",children:\"\\xD7\"})]},idx)):null,/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{const tag=prompt(\"添加标签:\");if(tag){const currentTags=Array.isArray(formData.tags)?formData.tags:[];handleChange('tags',[...currentTags,tag]);}},className:\"px-3 py-1 bg-gray-100 text-gray-500 rounded-full text-sm border border-transparent hover:bg-gray-200 transition-colors\",children:\"+ \\u6DFB\\u52A0\"})]})]})]})]})]})});};export default ProfileEdit;","map":{"version":3,"names":["React","useState","ZODIAC_SIGNS","ChevronLeft","Upload","jsx","_jsx","jsxs","_jsxs","ProfileEdit","_ref","user","onSave","onCancel","formData","setFormData","isUploading","setIsUploading","handleChange","field","value","prev","_objectSpread","handleAvatarUpload","e","_e$target$files","file","target","files","type","startsWith","alert","size","reader","FileReader","onload","event","_event$target","avatarData","result","apiBaseUrl","process","env","REACT_APP_API_URL","response","fetch","concat","method","headers","localStorage","getItem","body","JSON","stringify","filename","name","ok","errorData","json","catch","Error","error","data","updatedUser","avatar","photos","Array","isArray","map","photo","fullAvatarUrl","console","message","onerror","readAsDataURL","handleSubmit","preventDefault","className","children","onClick","src","alt","disabled","accept","onChange","min","max","age","parseInt","profession","zodiac","z","height","hometown","placeholder","lookingFor","rows","bio","tags","tag","idx","newTags","filter","_","i","prompt","currentTags"],"sources":["E:/program/ai交友网站demo/dating-app/frontend/src/components/ProfileEdit.tsx"],"sourcesContent":["\nimport React, { useState } from 'react';\nimport { UserProfile, ZODIAC_SIGNS } from '../types';\nimport { ChevronLeft, Save, Upload } from 'lucide-react';\n\ninterface ProfileEditProps {\n  user: UserProfile;\n  onSave: (u: Partial<UserProfile>) => void;\n  onCancel: () => void;\n}\n\nconst ProfileEdit: React.FC<ProfileEditProps> = ({ user, onSave, onCancel }) => {\n  const [formData, setFormData] = useState<UserProfile>(user);\n  const [isUploading, setIsUploading] = useState(false);\n\n  const handleChange = (field: keyof UserProfile, value: any) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n  };\n\n  const handleAvatarUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    // Check file type and size\n    if (!file.type.startsWith('image/')) {\n      alert('请选择图片文件');\n      return;\n    }\n    if (file.size > 5 * 1024 * 1024) {\n      alert('图片大小不能超过5MB');\n      return;\n    }\n\n    setIsUploading(true);\n    \n    try {\n      // Convert file to base64\n      const reader = new FileReader();\n      \n      reader.onload = async (event) => {\n            const avatarData = event.target?.result as string;\n            \n            try {\n              // Upload to backend API\n              const apiBaseUrl = process.env.REACT_APP_API_URL || 'http://localhost:3001';\n              const response = await fetch(`${apiBaseUrl}/api/users/avatar`, {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json',\n                  'Authorization': `Bearer ${localStorage.getItem('authToken')}`,\n                },\n                body: JSON.stringify({\n                  avatarData,\n                  filename: file.name\n                }),\n              });\n              \n              if (!response.ok) {\n                const errorData = await response.json().catch(() => ({}));\n                throw new Error(errorData.error || 'Failed to upload avatar');\n              }\n              \n              const data = await response.json();\n              \n              // Use the complete user data returned from backend if available\n              if (data.user) {\n                // Add API base URL to avatar and photos URLs if needed\n                const updatedUser = {\n                  ...data.user,\n                  avatar: data.user.avatar && !data.user.avatar.startsWith('http') ? `${apiBaseUrl}${data.user.avatar}` : data.user.avatar,\n                  photos: Array.isArray(data.user.photos) ? data.user.photos.map((photo: string) => \n                    photo && !photo.startsWith('http') ? `${apiBaseUrl}${photo}` : photo\n                  ) : []\n                };\n                \n                // Update form data with the complete updated user data\n                setFormData(updatedUser);\n              } else if (data.avatar) {\n                // Fallback if only avatar URL is returned\n                const fullAvatarUrl = data.avatar.startsWith('http') ? data.avatar : `${apiBaseUrl}${data.avatar}`;\n                setFormData(prev => ({\n                  ...prev,\n                  avatar: fullAvatarUrl\n                }));\n              }\n        } catch (error) {\n          console.error('Avatar upload failed:', error);\n          // 使用更友好的错误提示，显示具体错误信息\n          alert(`头像上传失败: ${error instanceof Error ? error.message : '未知错误'}`);\n        } finally {\n          setIsUploading(false);\n        }\n      };\n      \n      reader.onerror = () => {\n        console.error('Failed to read file');\n        alert('头像读取失败，请重试');\n        setIsUploading(false);\n      };\n      \n      reader.readAsDataURL(file);\n    } catch (error) {\n      console.error('Avatar upload failed:', error);\n      // 使用更友好的错误提示，显示具体错误信息\n      alert(`头像上传失败: ${error instanceof Error ? error.message : '未知错误'}`);\n      setIsUploading(false);\n    }\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onSave(formData);\n  };\n\n  return (\n    <div className=\"h-full w-full bg-white md:bg-transparent overflow-y-auto no-scrollbar pb-24 md:pb-0 md:flex md:items-center md:justify-center\">\n      <div className=\"md:w-[600px] md:h-[80vh] md:bg-white md:rounded-3xl md:shadow-2xl md:overflow-hidden md:flex md:flex-col\">\n          \n          {/* Header */}\n          <div className=\"sticky top-0 bg-white/95 backdrop-blur-sm z-10 border-b border-gray-100 px-4 py-3 flex items-center justify-between\">\n            <button onClick={onCancel} className=\"p-2 -ml-2 text-gray-600 hover:bg-gray-100 rounded-full\">\n              <ChevronLeft size={24} />\n            </button>\n            <h1 className=\"text-lg font-bold text-gray-800\">编辑资料</h1>\n            <button onClick={handleSubmit} className=\"p-2 -mr-2 text-rose-500 font-medium hover:bg-rose-50 rounded-lg px-4\">\n              保存\n            </button>\n          </div>\n\n          <div className=\"flex-1 overflow-y-auto p-6 space-y-8 no-scrollbar\">\n            {/* Avatar Section */}\n            <div className=\"flex flex-col items-center\">\n              <div className=\"relative w-28 h-28 mb-4 group cursor-pointer\">\n                <img \n                  src={formData.avatar} \n                  alt=\"Avatar\" \n                  className={`w-full h-full rounded-full object-cover border-4 border-gray-100 shadow-sm transition-opacity group-hover:opacity-90 ${isUploading ? 'opacity-50' : ''}`}\n                />\n                {isUploading && (\n                  <div className=\"absolute inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center rounded-full\">\n                    <div className=\"w-12 h-12 border-4 border-white border-t-4 border-t-transparent rounded-full animate-spin\"></div>\n                  </div>\n                )}\n                <button \n                  className=\"absolute bottom-0 right-0 p-2 bg-rose-500 text-white rounded-full shadow-md hover:bg-rose-600 transition-colors disabled:opacity-70\"\n                  disabled={isUploading}\n                >\n                  <Upload size={16} />\n                </button>\n                <input\n                  type=\"file\"\n                  accept=\"image/*\"\n                  onChange={handleAvatarUpload}\n                  className=\"absolute inset-0 opacity-0 cursor-pointer\"\n                  disabled={isUploading}\n                />\n              </div>\n              <p className=\"text-xs text-gray-400\">点击修改头像</p>\n              <p className=\"text-xs text-gray-400 mt-1\">支持 JPG、PNG、WEBP 格式，大小不超过 5MB</p>\n            </div>\n\n            {/* Form Fields */}\n            <form className=\"space-y-6\">\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">昵称</label>\n                <input \n                  type=\"text\" \n                  value={formData.name}\n                  onChange={(e) => handleChange('name', e.target.value)}\n                  className=\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\"\n                />\n              </div>\n\n              <div className=\"grid grid-cols-3 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">年龄</label>\n                  <input \n                    type=\"number\" \n                    min=\"18\" \n                    max=\"100\"\n                    value={formData.age}\n                    onChange={(e) => handleChange('age', parseInt(e.target.value))}\n                    className=\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">职业</label>\n                  <input \n                    type=\"text\" \n                    value={formData.profession}\n                    onChange={(e) => handleChange('profession', e.target.value)}\n                    className=\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">星座</label>\n                  <select \n                    value={formData.zodiac}\n                    onChange={(e) => handleChange('zodiac', e.target.value)}\n                    className=\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none appearance-none cursor-pointer\"\n                  >\n                    {ZODIAC_SIGNS.map(z => <option key={z} value={z}>{z}</option>)}\n                  </select>\n                </div>\n              </div>\n\n              <div>\n                 <label className=\"block text-sm font-medium text-gray-700 mb-1\">身高 (cm)</label>\n                 <input \n                    type=\"number\" \n                    value={formData.height || ''}\n                    onChange={(e) => handleChange('height', parseInt(e.target.value))}\n                    className=\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\"\n                  />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">家乡</label>\n                <input \n                  type=\"text\" \n                  value={formData.hometown || ''}\n                  onChange={(e) => handleChange('hometown', e.target.value)}\n                  className=\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\"\n                  placeholder=\"例如：北京\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">寻找什么</label>\n                <input \n                  type=\"text\" \n                  value={formData.lookingFor || ''}\n                  onChange={(e) => handleChange('lookingFor', e.target.value)}\n                  className=\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\"\n                  placeholder=\"例如：一段认真的关系\"\n                />\n              </div>\n\n              {/* Bio */}\n              <div>\n                <div className=\"flex justify-between items-center mb-1\">\n                  <label className=\"block text-sm font-medium text-gray-700\">自我介绍</label>\n                </div>\n                <textarea \n                  rows={4}\n                  value={formData.bio}\n                  onChange={(e) => handleChange('bio', e.target.value)}\n                  className=\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none resize-none transition-all\"\n                  placeholder=\"介绍一下自己...\"\n                />\n                <p className=\"text-xs text-gray-400 mt-1\">完善的自我介绍能提升 300% 的匹配率</p>\n              </div>\n\n              {/* Tags */}\n            <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">我的标签</label>\n                <div className=\"flex flex-wrap gap-2\">\n                  {Array.isArray(formData.tags) ? formData.tags.map((tag, idx) => (\n                    <span key={idx} className=\"px-3 py-1 bg-white border border-gray-200 text-gray-600 rounded-full text-sm flex items-center gap-1 hover:border-rose-200 transition-colors cursor-default\">\n                      {tag}\n                      <button type=\"button\" onClick={() => {\n                         const newTags = Array.isArray(formData.tags) ? formData.tags.filter((_, i) => i !== idx) : [];\n                         handleChange('tags', newTags);\n                      }} className=\"text-gray-400 hover:text-red-500\">&times;</button>\n                    </span>\n                  )) : null}\n                  <button \n                    type=\"button\"\n                    onClick={() => {\n                      const tag = prompt(\"添加标签:\");\n                      if (tag) {\n                        const currentTags = Array.isArray(formData.tags) ? formData.tags : [];\n                        handleChange('tags', [...currentTags, tag]);\n                      }\n                    }}\n                    className=\"px-3 py-1 bg-gray-100 text-gray-500 rounded-full text-sm border border-transparent hover:bg-gray-200 transition-colors\"\n                  >\n                    + 添加\n                  </button>\n                </div>\n            </div>\n            </form>\n          </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileEdit;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}