{"ast":null,"code":"import{ticks}from\"d3-array\";import{format,formatSpecifier}from\"d3-format\";import nice from\"./nice.js\";import{copy,transformer}from\"./continuous.js\";import{initRange}from\"./init.js\";function transformLog(x){return Math.log(x);}function transformExp(x){return Math.exp(x);}function transformLogn(x){return-Math.log(-x);}function transformExpn(x){return-Math.exp(-x);}function pow10(x){return isFinite(x)?+(\"1e\"+x):x<0?0:x;}function powp(base){return base===10?pow10:base===Math.E?Math.exp:x=>Math.pow(base,x);}function logp(base){return base===Math.E?Math.log:base===10&&Math.log10||base===2&&Math.log2||(base=Math.log(base),x=>Math.log(x)/base);}function reflect(f){return(x,k)=>-f(-x,k);}export function loggish(transform){const scale=transform(transformLog,transformExp);const domain=scale.domain;let base=10;let logs;let pows;function rescale(){logs=logp(base),pows=powp(base);if(domain()[0]<0){logs=reflect(logs),pows=reflect(pows);transform(transformLogn,transformExpn);}else{transform(transformLog,transformExp);}return scale;}scale.base=function(_){return arguments.length?(base=+_,rescale()):base;};scale.domain=function(_){return arguments.length?(domain(_),rescale()):domain();};scale.ticks=count=>{const d=domain();let u=d[0];let v=d[d.length-1];const r=v<u;if(r)[u,v]=[v,u];let i=logs(u);let j=logs(v);let k;let t;const n=count==null?10:+count;let z=[];if(!(base%1)&&j-i<n){i=Math.floor(i),j=Math.ceil(j);if(u>0)for(;i<=j;++i){for(k=1;k<base;++k){t=i<0?k/pows(-i):k*pows(i);if(t<u)continue;if(t>v)break;z.push(t);}}else for(;i<=j;++i){for(k=base-1;k>=1;--k){t=i>0?k/pows(-i):k*pows(i);if(t<u)continue;if(t>v)break;z.push(t);}}if(z.length*2<n)z=ticks(u,v,n);}else{z=ticks(i,j,Math.min(j-i,n)).map(pows);}return r?z.reverse():z;};scale.tickFormat=(count,specifier)=>{if(count==null)count=10;if(specifier==null)specifier=base===10?\"s\":\",\";if(typeof specifier!==\"function\"){if(!(base%1)&&(specifier=formatSpecifier(specifier)).precision==null)specifier.trim=true;specifier=format(specifier);}if(count===Infinity)return specifier;const k=Math.max(1,base*count/scale.ticks().length);// TODO fast estimate?\nreturn d=>{let i=d/pows(Math.round(logs(d)));if(i*base<base-0.5)i*=base;return i<=k?specifier(d):\"\";};};scale.nice=()=>{return domain(nice(domain(),{floor:x=>pows(Math.floor(logs(x))),ceil:x=>pows(Math.ceil(logs(x)))}));};return scale;}export default function log(){const scale=loggish(transformer()).domain([1,10]);scale.copy=()=>copy(scale,log()).base(scale.base());initRange.apply(scale,arguments);return scale;}","map":{"version":3,"names":["ticks","format","formatSpecifier","nice","copy","transformer","initRange","transformLog","x","Math","log","transformExp","exp","transformLogn","transformExpn","pow10","isFinite","powp","base","E","pow","logp","log10","log2","reflect","f","k","loggish","transform","scale","domain","logs","pows","rescale","_","arguments","length","count","d","u","v","r","i","j","t","n","z","floor","ceil","push","min","map","reverse","tickFormat","specifier","precision","trim","Infinity","max","round","apply"],"sources":["E:/program/ai交友网站demo/dating-app/frontend/src/node_modules/d3-scale/src/log.js"],"sourcesContent":["import {ticks} from \"d3-array\";\nimport {format, formatSpecifier} from \"d3-format\";\nimport nice from \"./nice.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : x => Math.pow(base, x);\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), x => Math.log(x) / base);\n}\n\nfunction reflect(f) {\n  return (x, k) => -f(-x, k);\n}\n\nexport function loggish(transform) {\n  const scale = transform(transformLog, transformExp);\n  const domain = scale.domain;\n  let base = 10;\n  let logs;\n  let pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = count => {\n    const d = domain();\n    let u = d[0];\n    let v = d[d.length - 1];\n    const r = v < u;\n\n    if (r) ([u, v] = [v, u]);\n\n    let i = logs(u);\n    let j = logs(v);\n    let k;\n    let t;\n    const n = count == null ? 10 : +count;\n    let z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1; k < base; ++k) {\n          t = i < 0 ? k / pows(-i) : k * pows(i);\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1; k >= 1; --k) {\n          t = i > 0 ? k / pows(-i) : k * pows(i);\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = (count, specifier) => {\n    if (count == null) count = 10;\n    if (specifier == null) specifier = base === 10 ? \"s\" : \",\";\n    if (typeof specifier !== \"function\") {\n      if (!(base % 1) && (specifier = formatSpecifier(specifier)).precision == null) specifier.trim = true;\n      specifier = format(specifier);\n    }\n    if (count === Infinity) return specifier;\n    const k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return d => {\n      let i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = () => {\n    return domain(nice(domain(), {\n      floor: x => pows(Math.floor(logs(x))),\n      ceil: x => pows(Math.ceil(logs(x)))\n    }));\n  };\n\n  return scale;\n}\n\nexport default function log() {\n  const scale = loggish(transformer()).domain([1, 10]);\n  scale.copy = () => copy(scale, log()).base(scale.base());\n  initRange.apply(scale, arguments);\n  return scale;\n}\n"],"mappings":"AAAA,OAAQA,KAAK,KAAO,UAAU,CAC9B,OAAQC,MAAM,CAAEC,eAAe,KAAO,WAAW,CACjD,MAAO,CAAAC,IAAI,KAAM,WAAW,CAC5B,OAAQC,IAAI,CAAEC,WAAW,KAAO,iBAAiB,CACjD,OAAQC,SAAS,KAAO,WAAW,CAEnC,QAAS,CAAAC,YAAYA,CAACC,CAAC,CAAE,CACvB,MAAO,CAAAC,IAAI,CAACC,GAAG,CAACF,CAAC,CAAC,CACpB,CAEA,QAAS,CAAAG,YAAYA,CAACH,CAAC,CAAE,CACvB,MAAO,CAAAC,IAAI,CAACG,GAAG,CAACJ,CAAC,CAAC,CACpB,CAEA,QAAS,CAAAK,aAAaA,CAACL,CAAC,CAAE,CACxB,MAAO,CAACC,IAAI,CAACC,GAAG,CAAC,CAACF,CAAC,CAAC,CACtB,CAEA,QAAS,CAAAM,aAAaA,CAACN,CAAC,CAAE,CACxB,MAAO,CAACC,IAAI,CAACG,GAAG,CAAC,CAACJ,CAAC,CAAC,CACtB,CAEA,QAAS,CAAAO,KAAKA,CAACP,CAAC,CAAE,CAChB,MAAO,CAAAQ,QAAQ,CAACR,CAAC,CAAC,CAAG,EAAE,IAAI,CAAGA,CAAC,CAAC,CAAGA,CAAC,CAAG,CAAC,CAAG,CAAC,CAAGA,CAAC,CAClD,CAEA,QAAS,CAAAS,IAAIA,CAACC,IAAI,CAAE,CAClB,MAAO,CAAAA,IAAI,GAAK,EAAE,CAAGH,KAAK,CACpBG,IAAI,GAAKT,IAAI,CAACU,CAAC,CAAGV,IAAI,CAACG,GAAG,CAC1BJ,CAAC,EAAIC,IAAI,CAACW,GAAG,CAACF,IAAI,CAAEV,CAAC,CAAC,CAC9B,CAEA,QAAS,CAAAa,IAAIA,CAACH,IAAI,CAAE,CAClB,MAAO,CAAAA,IAAI,GAAKT,IAAI,CAACU,CAAC,CAAGV,IAAI,CAACC,GAAG,CAC3BQ,IAAI,GAAK,EAAE,EAAIT,IAAI,CAACa,KAAK,EACxBJ,IAAI,GAAK,CAAC,EAAIT,IAAI,CAACc,IAAI,GACtBL,IAAI,CAAGT,IAAI,CAACC,GAAG,CAACQ,IAAI,CAAC,CAAEV,CAAC,EAAIC,IAAI,CAACC,GAAG,CAACF,CAAC,CAAC,CAAGU,IAAI,CAAC,CACzD,CAEA,QAAS,CAAAM,OAAOA,CAACC,CAAC,CAAE,CAClB,MAAO,CAACjB,CAAC,CAAEkB,CAAC,GAAK,CAACD,CAAC,CAAC,CAACjB,CAAC,CAAEkB,CAAC,CAAC,CAC5B,CAEA,MAAO,SAAS,CAAAC,OAAOA,CAACC,SAAS,CAAE,CACjC,KAAM,CAAAC,KAAK,CAAGD,SAAS,CAACrB,YAAY,CAAEI,YAAY,CAAC,CACnD,KAAM,CAAAmB,MAAM,CAAGD,KAAK,CAACC,MAAM,CAC3B,GAAI,CAAAZ,IAAI,CAAG,EAAE,CACb,GAAI,CAAAa,IAAI,CACR,GAAI,CAAAC,IAAI,CAER,QAAS,CAAAC,OAAOA,CAAA,CAAG,CACjBF,IAAI,CAAGV,IAAI,CAACH,IAAI,CAAC,CAAEc,IAAI,CAAGf,IAAI,CAACC,IAAI,CAAC,CACpC,GAAIY,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAG,CAAC,CAAE,CACnBC,IAAI,CAAGP,OAAO,CAACO,IAAI,CAAC,CAAEC,IAAI,CAAGR,OAAO,CAACQ,IAAI,CAAC,CAC1CJ,SAAS,CAACf,aAAa,CAAEC,aAAa,CAAC,CACzC,CAAC,IAAM,CACLc,SAAS,CAACrB,YAAY,CAAEI,YAAY,CAAC,CACvC,CACA,MAAO,CAAAkB,KAAK,CACd,CAEAA,KAAK,CAACX,IAAI,CAAG,SAASgB,CAAC,CAAE,CACvB,MAAO,CAAAC,SAAS,CAACC,MAAM,EAAIlB,IAAI,CAAG,CAACgB,CAAC,CAAED,OAAO,CAAC,CAAC,EAAIf,IAAI,CACzD,CAAC,CAEDW,KAAK,CAACC,MAAM,CAAG,SAASI,CAAC,CAAE,CACzB,MAAO,CAAAC,SAAS,CAACC,MAAM,EAAIN,MAAM,CAACI,CAAC,CAAC,CAAED,OAAO,CAAC,CAAC,EAAIH,MAAM,CAAC,CAAC,CAC7D,CAAC,CAEDD,KAAK,CAAC7B,KAAK,CAAGqC,KAAK,EAAI,CACrB,KAAM,CAAAC,CAAC,CAAGR,MAAM,CAAC,CAAC,CAClB,GAAI,CAAAS,CAAC,CAAGD,CAAC,CAAC,CAAC,CAAC,CACZ,GAAI,CAAAE,CAAC,CAAGF,CAAC,CAACA,CAAC,CAACF,MAAM,CAAG,CAAC,CAAC,CACvB,KAAM,CAAAK,CAAC,CAAGD,CAAC,CAAGD,CAAC,CAEf,GAAIE,CAAC,CAAG,CAACF,CAAC,CAAEC,CAAC,CAAC,CAAG,CAACA,CAAC,CAAED,CAAC,CAAC,CAEvB,GAAI,CAAAG,CAAC,CAAGX,IAAI,CAACQ,CAAC,CAAC,CACf,GAAI,CAAAI,CAAC,CAAGZ,IAAI,CAACS,CAAC,CAAC,CACf,GAAI,CAAAd,CAAC,CACL,GAAI,CAAAkB,CAAC,CACL,KAAM,CAAAC,CAAC,CAAGR,KAAK,EAAI,IAAI,CAAG,EAAE,CAAG,CAACA,KAAK,CACrC,GAAI,CAAAS,CAAC,CAAG,EAAE,CAEV,GAAI,EAAE5B,IAAI,CAAG,CAAC,CAAC,EAAIyB,CAAC,CAAGD,CAAC,CAAGG,CAAC,CAAE,CAC5BH,CAAC,CAAGjC,IAAI,CAACsC,KAAK,CAACL,CAAC,CAAC,CAAEC,CAAC,CAAGlC,IAAI,CAACuC,IAAI,CAACL,CAAC,CAAC,CACnC,GAAIJ,CAAC,CAAG,CAAC,CAAE,KAAOG,CAAC,EAAIC,CAAC,CAAE,EAAED,CAAC,CAAE,CAC7B,IAAKhB,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGR,IAAI,CAAE,EAAEQ,CAAC,CAAE,CACzBkB,CAAC,CAAGF,CAAC,CAAG,CAAC,CAAGhB,CAAC,CAAGM,IAAI,CAAC,CAACU,CAAC,CAAC,CAAGhB,CAAC,CAAGM,IAAI,CAACU,CAAC,CAAC,CACtC,GAAIE,CAAC,CAAGL,CAAC,CAAE,SACX,GAAIK,CAAC,CAAGJ,CAAC,CAAE,MACXM,CAAC,CAACG,IAAI,CAACL,CAAC,CAAC,CACX,CACF,CAAC,IAAM,MAAOF,CAAC,EAAIC,CAAC,CAAE,EAAED,CAAC,CAAE,CACzB,IAAKhB,CAAC,CAAGR,IAAI,CAAG,CAAC,CAAEQ,CAAC,EAAI,CAAC,CAAE,EAAEA,CAAC,CAAE,CAC9BkB,CAAC,CAAGF,CAAC,CAAG,CAAC,CAAGhB,CAAC,CAAGM,IAAI,CAAC,CAACU,CAAC,CAAC,CAAGhB,CAAC,CAAGM,IAAI,CAACU,CAAC,CAAC,CACtC,GAAIE,CAAC,CAAGL,CAAC,CAAE,SACX,GAAIK,CAAC,CAAGJ,CAAC,CAAE,MACXM,CAAC,CAACG,IAAI,CAACL,CAAC,CAAC,CACX,CACF,CACA,GAAIE,CAAC,CAACV,MAAM,CAAG,CAAC,CAAGS,CAAC,CAAEC,CAAC,CAAG9C,KAAK,CAACuC,CAAC,CAAEC,CAAC,CAAEK,CAAC,CAAC,CAC1C,CAAC,IAAM,CACLC,CAAC,CAAG9C,KAAK,CAAC0C,CAAC,CAAEC,CAAC,CAAElC,IAAI,CAACyC,GAAG,CAACP,CAAC,CAAGD,CAAC,CAAEG,CAAC,CAAC,CAAC,CAACM,GAAG,CAACnB,IAAI,CAAC,CAC/C,CACA,MAAO,CAAAS,CAAC,CAAGK,CAAC,CAACM,OAAO,CAAC,CAAC,CAAGN,CAAC,CAC5B,CAAC,CAEDjB,KAAK,CAACwB,UAAU,CAAG,CAAChB,KAAK,CAAEiB,SAAS,GAAK,CACvC,GAAIjB,KAAK,EAAI,IAAI,CAAEA,KAAK,CAAG,EAAE,CAC7B,GAAIiB,SAAS,EAAI,IAAI,CAAEA,SAAS,CAAGpC,IAAI,GAAK,EAAE,CAAG,GAAG,CAAG,GAAG,CAC1D,GAAI,MAAO,CAAAoC,SAAS,GAAK,UAAU,CAAE,CACnC,GAAI,EAAEpC,IAAI,CAAG,CAAC,CAAC,EAAI,CAACoC,SAAS,CAAGpD,eAAe,CAACoD,SAAS,CAAC,EAAEC,SAAS,EAAI,IAAI,CAAED,SAAS,CAACE,IAAI,CAAG,IAAI,CACpGF,SAAS,CAAGrD,MAAM,CAACqD,SAAS,CAAC,CAC/B,CACA,GAAIjB,KAAK,GAAKoB,QAAQ,CAAE,MAAO,CAAAH,SAAS,CACxC,KAAM,CAAA5B,CAAC,CAAGjB,IAAI,CAACiD,GAAG,CAAC,CAAC,CAAExC,IAAI,CAAGmB,KAAK,CAAGR,KAAK,CAAC7B,KAAK,CAAC,CAAC,CAACoC,MAAM,CAAC,CAAE;AAC5D,MAAO,CAAAE,CAAC,EAAI,CACV,GAAI,CAAAI,CAAC,CAAGJ,CAAC,CAAGN,IAAI,CAACvB,IAAI,CAACkD,KAAK,CAAC5B,IAAI,CAACO,CAAC,CAAC,CAAC,CAAC,CACrC,GAAII,CAAC,CAAGxB,IAAI,CAAGA,IAAI,CAAG,GAAG,CAAEwB,CAAC,EAAIxB,IAAI,CACpC,MAAO,CAAAwB,CAAC,EAAIhB,CAAC,CAAG4B,SAAS,CAAChB,CAAC,CAAC,CAAG,EAAE,CACnC,CAAC,CACH,CAAC,CAEDT,KAAK,CAAC1B,IAAI,CAAG,IAAM,CACjB,MAAO,CAAA2B,MAAM,CAAC3B,IAAI,CAAC2B,MAAM,CAAC,CAAC,CAAE,CAC3BiB,KAAK,CAAEvC,CAAC,EAAIwB,IAAI,CAACvB,IAAI,CAACsC,KAAK,CAAChB,IAAI,CAACvB,CAAC,CAAC,CAAC,CAAC,CACrCwC,IAAI,CAAExC,CAAC,EAAIwB,IAAI,CAACvB,IAAI,CAACuC,IAAI,CAACjB,IAAI,CAACvB,CAAC,CAAC,CAAC,CACpC,CAAC,CAAC,CAAC,CACL,CAAC,CAED,MAAO,CAAAqB,KAAK,CACd,CAEA,cAAe,SAAS,CAAAnB,GAAGA,CAAA,CAAG,CAC5B,KAAM,CAAAmB,KAAK,CAAGF,OAAO,CAACtB,WAAW,CAAC,CAAC,CAAC,CAACyB,MAAM,CAAC,CAAC,CAAC,CAAE,EAAE,CAAC,CAAC,CACpDD,KAAK,CAACzB,IAAI,CAAG,IAAMA,IAAI,CAACyB,KAAK,CAAEnB,GAAG,CAAC,CAAC,CAAC,CAACQ,IAAI,CAACW,KAAK,CAACX,IAAI,CAAC,CAAC,CAAC,CACxDZ,SAAS,CAACsD,KAAK,CAAC/B,KAAK,CAAEM,SAAS,CAAC,CACjC,MAAO,CAAAN,KAAK,CACd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}