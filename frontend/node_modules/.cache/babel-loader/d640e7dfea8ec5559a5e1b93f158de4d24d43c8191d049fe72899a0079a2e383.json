{"ast":null,"code":"// https://github.com/python/cpython/blob/a74eea238f5baba15797e2e8b570d153bc8690a7/Modules/mathmodule.c#L1423\nexport class Adder{constructor(){this._partials=new Float64Array(32);this._n=0;}add(x){const p=this._partials;let i=0;for(let j=0;j<this._n&&j<32;j++){const y=p[j],hi=x+y,lo=Math.abs(x)<Math.abs(y)?x-(hi-y):y-(hi-x);if(lo)p[i++]=lo;x=hi;}p[i]=x;this._n=i+1;return this;}valueOf(){const p=this._partials;let n=this._n,x,y,lo,hi=0;if(n>0){hi=p[--n];while(n>0){x=hi;y=p[--n];hi=x+y;lo=y-(hi-x);if(lo)break;}if(n>0&&(lo<0&&p[n-1]<0||lo>0&&p[n-1]>0)){y=lo*2;x=hi+y;if(y==x-hi)hi=x;}}return hi;}}export function fsum(values,valueof){const adder=new Adder();if(valueof===undefined){for(let value of values){if(value=+value){adder.add(value);}}}else{let index=-1;for(let value of values){if(value=+valueof(value,++index,values)){adder.add(value);}}}return+adder;}export function fcumsum(values,valueof){const adder=new Adder();let index=-1;return Float64Array.from(values,valueof===undefined?v=>adder.add(+v||0):v=>adder.add(+valueof(v,++index,values)||0));}","map":{"version":3,"names":["Adder","constructor","_partials","Float64Array","_n","add","x","p","i","j","y","hi","lo","Math","abs","valueOf","n","fsum","values","valueof","adder","undefined","value","index","fcumsum","from","v"],"sources":["E:/program/ai交友网站demo/dating-app/frontend/src/node_modules/d3-array/src/fsum.js"],"sourcesContent":["// https://github.com/python/cpython/blob/a74eea238f5baba15797e2e8b570d153bc8690a7/Modules/mathmodule.c#L1423\nexport class Adder {\n  constructor() {\n    this._partials = new Float64Array(32);\n    this._n = 0;\n  }\n  add(x) {\n    const p = this._partials;\n    let i = 0;\n    for (let j = 0; j < this._n && j < 32; j++) {\n      const y = p[j],\n        hi = x + y,\n        lo = Math.abs(x) < Math.abs(y) ? x - (hi - y) : y - (hi - x);\n      if (lo) p[i++] = lo;\n      x = hi;\n    }\n    p[i] = x;\n    this._n = i + 1;\n    return this;\n  }\n  valueOf() {\n    const p = this._partials;\n    let n = this._n, x, y, lo, hi = 0;\n    if (n > 0) {\n      hi = p[--n];\n      while (n > 0) {\n        x = hi;\n        y = p[--n];\n        hi = x + y;\n        lo = y - (hi - x);\n        if (lo) break;\n      }\n      if (n > 0 && ((lo < 0 && p[n - 1] < 0) || (lo > 0 && p[n - 1] > 0))) {\n        y = lo * 2;\n        x = hi + y;\n        if (y == x - hi) hi = x;\n      }\n    }\n    return hi;\n  }\n}\n\nexport function fsum(values, valueof) {\n  const adder = new Adder();\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        adder.add(value);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        adder.add(value);\n      }\n    }\n  }\n  return +adder;\n}\n\nexport function fcumsum(values, valueof) {\n  const adder = new Adder();\n  let index = -1;\n  return Float64Array.from(values, valueof === undefined\n      ? v => adder.add(+v || 0)\n      : v => adder.add(+valueof(v, ++index, values) || 0)\n  );\n}\n"],"mappings":"AAAA;AACA,MAAO,MAAM,CAAAA,KAAM,CACjBC,WAAWA,CAAA,CAAG,CACZ,IAAI,CAACC,SAAS,CAAG,GAAI,CAAAC,YAAY,CAAC,EAAE,CAAC,CACrC,IAAI,CAACC,EAAE,CAAG,CAAC,CACb,CACAC,GAAGA,CAACC,CAAC,CAAE,CACL,KAAM,CAAAC,CAAC,CAAG,IAAI,CAACL,SAAS,CACxB,GAAI,CAAAM,CAAC,CAAG,CAAC,CACT,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAG,IAAI,CAACL,EAAE,EAAIK,CAAC,CAAG,EAAE,CAAEA,CAAC,EAAE,CAAE,CAC1C,KAAM,CAAAC,CAAC,CAAGH,CAAC,CAACE,CAAC,CAAC,CACZE,EAAE,CAAGL,CAAC,CAAGI,CAAC,CACVE,EAAE,CAAGC,IAAI,CAACC,GAAG,CAACR,CAAC,CAAC,CAAGO,IAAI,CAACC,GAAG,CAACJ,CAAC,CAAC,CAAGJ,CAAC,EAAIK,EAAE,CAAGD,CAAC,CAAC,CAAGA,CAAC,EAAIC,EAAE,CAAGL,CAAC,CAAC,CAC9D,GAAIM,EAAE,CAAEL,CAAC,CAACC,CAAC,EAAE,CAAC,CAAGI,EAAE,CACnBN,CAAC,CAAGK,EAAE,CACR,CACAJ,CAAC,CAACC,CAAC,CAAC,CAAGF,CAAC,CACR,IAAI,CAACF,EAAE,CAAGI,CAAC,CAAG,CAAC,CACf,MAAO,KAAI,CACb,CACAO,OAAOA,CAAA,CAAG,CACR,KAAM,CAAAR,CAAC,CAAG,IAAI,CAACL,SAAS,CACxB,GAAI,CAAAc,CAAC,CAAG,IAAI,CAACZ,EAAE,CAAEE,CAAC,CAAEI,CAAC,CAAEE,EAAE,CAAED,EAAE,CAAG,CAAC,CACjC,GAAIK,CAAC,CAAG,CAAC,CAAE,CACTL,EAAE,CAAGJ,CAAC,CAAC,EAAES,CAAC,CAAC,CACX,MAAOA,CAAC,CAAG,CAAC,CAAE,CACZV,CAAC,CAAGK,EAAE,CACND,CAAC,CAAGH,CAAC,CAAC,EAAES,CAAC,CAAC,CACVL,EAAE,CAAGL,CAAC,CAAGI,CAAC,CACVE,EAAE,CAAGF,CAAC,EAAIC,EAAE,CAAGL,CAAC,CAAC,CACjB,GAAIM,EAAE,CAAE,MACV,CACA,GAAII,CAAC,CAAG,CAAC,GAAMJ,EAAE,CAAG,CAAC,EAAIL,CAAC,CAACS,CAAC,CAAG,CAAC,CAAC,CAAG,CAAC,EAAMJ,EAAE,CAAG,CAAC,EAAIL,CAAC,CAACS,CAAC,CAAG,CAAC,CAAC,CAAG,CAAE,CAAC,CAAE,CACnEN,CAAC,CAAGE,EAAE,CAAG,CAAC,CACVN,CAAC,CAAGK,EAAE,CAAGD,CAAC,CACV,GAAIA,CAAC,EAAIJ,CAAC,CAAGK,EAAE,CAAEA,EAAE,CAAGL,CAAC,CACzB,CACF,CACA,MAAO,CAAAK,EAAE,CACX,CACF,CAEA,MAAO,SAAS,CAAAM,IAAIA,CAACC,MAAM,CAAEC,OAAO,CAAE,CACpC,KAAM,CAAAC,KAAK,CAAG,GAAI,CAAApB,KAAK,CAAC,CAAC,CACzB,GAAImB,OAAO,GAAKE,SAAS,CAAE,CACzB,IAAK,GAAI,CAAAC,KAAK,GAAI,CAAAJ,MAAM,CAAE,CACxB,GAAII,KAAK,CAAG,CAACA,KAAK,CAAE,CAClBF,KAAK,CAACf,GAAG,CAACiB,KAAK,CAAC,CAClB,CACF,CACF,CAAC,IAAM,CACL,GAAI,CAAAC,KAAK,CAAG,CAAC,CAAC,CACd,IAAK,GAAI,CAAAD,KAAK,GAAI,CAAAJ,MAAM,CAAE,CACxB,GAAII,KAAK,CAAG,CAACH,OAAO,CAACG,KAAK,CAAE,EAAEC,KAAK,CAAEL,MAAM,CAAC,CAAE,CAC5CE,KAAK,CAACf,GAAG,CAACiB,KAAK,CAAC,CAClB,CACF,CACF,CACA,MAAO,CAACF,KAAK,CACf,CAEA,MAAO,SAAS,CAAAI,OAAOA,CAACN,MAAM,CAAEC,OAAO,CAAE,CACvC,KAAM,CAAAC,KAAK,CAAG,GAAI,CAAApB,KAAK,CAAC,CAAC,CACzB,GAAI,CAAAuB,KAAK,CAAG,CAAC,CAAC,CACd,MAAO,CAAApB,YAAY,CAACsB,IAAI,CAACP,MAAM,CAAEC,OAAO,GAAKE,SAAS,CAChDK,CAAC,EAAIN,KAAK,CAACf,GAAG,CAAC,CAACqB,CAAC,EAAI,CAAC,CAAC,CACvBA,CAAC,EAAIN,KAAK,CAACf,GAAG,CAAC,CAACc,OAAO,CAACO,CAAC,CAAE,EAAEH,KAAK,CAAEL,MAAM,CAAC,EAAI,CAAC,CACtD,CAAC,CACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}