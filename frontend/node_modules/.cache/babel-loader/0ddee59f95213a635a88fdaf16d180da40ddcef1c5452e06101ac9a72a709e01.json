{"ast":null,"code":"import{useLayoutEffect,useRef}from'react';import{useIsPanorama}from'../context/PanoramaContext';import{selectChartLayout}from'../context/chartLayoutContext';import{useAppDispatch,useAppSelector}from'./hooks';import{addLegendPayload,replaceLegendPayload,removeLegendPayload}from'./legendSlice';export function SetLegendPayload(_ref){var{legendPayload}=_ref;var dispatch=useAppDispatch();var isPanorama=useIsPanorama();var prevPayloadRef=useRef(null);useLayoutEffect(()=>{if(isPanorama){return;}if(prevPayloadRef.current===null){dispatch(addLegendPayload(legendPayload));}else if(prevPayloadRef.current!==legendPayload){dispatch(replaceLegendPayload({prev:prevPayloadRef.current,next:legendPayload}));}prevPayloadRef.current=legendPayload;},[dispatch,isPanorama,legendPayload]);useLayoutEffect(()=>{return()=>{if(prevPayloadRef.current){dispatch(removeLegendPayload(prevPayloadRef.current));prevPayloadRef.current=null;}};},[dispatch]);return null;}export function SetPolarLegendPayload(_ref2){var{legendPayload}=_ref2;var dispatch=useAppDispatch();var layout=useAppSelector(selectChartLayout);var prevPayloadRef=useRef(null);useLayoutEffect(()=>{if(layout!=='centric'&&layout!=='radial'){return;}if(prevPayloadRef.current===null){dispatch(addLegendPayload(legendPayload));}else if(prevPayloadRef.current!==legendPayload){dispatch(replaceLegendPayload({prev:prevPayloadRef.current,next:legendPayload}));}prevPayloadRef.current=legendPayload;},[dispatch,layout,legendPayload]);useLayoutEffect(()=>{return()=>{if(prevPayloadRef.current){dispatch(removeLegendPayload(prevPayloadRef.current));prevPayloadRef.current=null;}};},[dispatch]);return null;}","map":{"version":3,"names":["useLayoutEffect","useRef","useIsPanorama","selectChartLayout","useAppDispatch","useAppSelector","addLegendPayload","replaceLegendPayload","removeLegendPayload","SetLegendPayload","_ref","legendPayload","dispatch","isPanorama","prevPayloadRef","current","prev","next","SetPolarLegendPayload","_ref2","layout"],"sources":["E:/program/ai交友网站demo/dating-app/frontend/src/node_modules/recharts/es6/state/SetLegendPayload.js"],"sourcesContent":["import { useLayoutEffect, useRef } from 'react';\nimport { useIsPanorama } from '../context/PanoramaContext';\nimport { selectChartLayout } from '../context/chartLayoutContext';\nimport { useAppDispatch, useAppSelector } from './hooks';\nimport { addLegendPayload, replaceLegendPayload, removeLegendPayload } from './legendSlice';\nexport function SetLegendPayload(_ref) {\n  var {\n    legendPayload\n  } = _ref;\n  var dispatch = useAppDispatch();\n  var isPanorama = useIsPanorama();\n  var prevPayloadRef = useRef(null);\n  useLayoutEffect(() => {\n    if (isPanorama) {\n      return;\n    }\n    if (prevPayloadRef.current === null) {\n      dispatch(addLegendPayload(legendPayload));\n    } else if (prevPayloadRef.current !== legendPayload) {\n      dispatch(replaceLegendPayload({\n        prev: prevPayloadRef.current,\n        next: legendPayload\n      }));\n    }\n    prevPayloadRef.current = legendPayload;\n  }, [dispatch, isPanorama, legendPayload]);\n  useLayoutEffect(() => {\n    return () => {\n      if (prevPayloadRef.current) {\n        dispatch(removeLegendPayload(prevPayloadRef.current));\n        prevPayloadRef.current = null;\n      }\n    };\n  }, [dispatch]);\n  return null;\n}\nexport function SetPolarLegendPayload(_ref2) {\n  var {\n    legendPayload\n  } = _ref2;\n  var dispatch = useAppDispatch();\n  var layout = useAppSelector(selectChartLayout);\n  var prevPayloadRef = useRef(null);\n  useLayoutEffect(() => {\n    if (layout !== 'centric' && layout !== 'radial') {\n      return;\n    }\n    if (prevPayloadRef.current === null) {\n      dispatch(addLegendPayload(legendPayload));\n    } else if (prevPayloadRef.current !== legendPayload) {\n      dispatch(replaceLegendPayload({\n        prev: prevPayloadRef.current,\n        next: legendPayload\n      }));\n    }\n    prevPayloadRef.current = legendPayload;\n  }, [dispatch, layout, legendPayload]);\n  useLayoutEffect(() => {\n    return () => {\n      if (prevPayloadRef.current) {\n        dispatch(removeLegendPayload(prevPayloadRef.current));\n        prevPayloadRef.current = null;\n      }\n    };\n  }, [dispatch]);\n  return null;\n}"],"mappings":"AAAA,OAASA,eAAe,CAAEC,MAAM,KAAQ,OAAO,CAC/C,OAASC,aAAa,KAAQ,4BAA4B,CAC1D,OAASC,iBAAiB,KAAQ,+BAA+B,CACjE,OAASC,cAAc,CAAEC,cAAc,KAAQ,SAAS,CACxD,OAASC,gBAAgB,CAAEC,oBAAoB,CAAEC,mBAAmB,KAAQ,eAAe,CAC3F,MAAO,SAAS,CAAAC,gBAAgBA,CAACC,IAAI,CAAE,CACrC,GAAI,CACFC,aACF,CAAC,CAAGD,IAAI,CACR,GAAI,CAAAE,QAAQ,CAAGR,cAAc,CAAC,CAAC,CAC/B,GAAI,CAAAS,UAAU,CAAGX,aAAa,CAAC,CAAC,CAChC,GAAI,CAAAY,cAAc,CAAGb,MAAM,CAAC,IAAI,CAAC,CACjCD,eAAe,CAAC,IAAM,CACpB,GAAIa,UAAU,CAAE,CACd,OACF,CACA,GAAIC,cAAc,CAACC,OAAO,GAAK,IAAI,CAAE,CACnCH,QAAQ,CAACN,gBAAgB,CAACK,aAAa,CAAC,CAAC,CAC3C,CAAC,IAAM,IAAIG,cAAc,CAACC,OAAO,GAAKJ,aAAa,CAAE,CACnDC,QAAQ,CAACL,oBAAoB,CAAC,CAC5BS,IAAI,CAAEF,cAAc,CAACC,OAAO,CAC5BE,IAAI,CAAEN,aACR,CAAC,CAAC,CAAC,CACL,CACAG,cAAc,CAACC,OAAO,CAAGJ,aAAa,CACxC,CAAC,CAAE,CAACC,QAAQ,CAAEC,UAAU,CAAEF,aAAa,CAAC,CAAC,CACzCX,eAAe,CAAC,IAAM,CACpB,MAAO,IAAM,CACX,GAAIc,cAAc,CAACC,OAAO,CAAE,CAC1BH,QAAQ,CAACJ,mBAAmB,CAACM,cAAc,CAACC,OAAO,CAAC,CAAC,CACrDD,cAAc,CAACC,OAAO,CAAG,IAAI,CAC/B,CACF,CAAC,CACH,CAAC,CAAE,CAACH,QAAQ,CAAC,CAAC,CACd,MAAO,KAAI,CACb,CACA,MAAO,SAAS,CAAAM,qBAAqBA,CAACC,KAAK,CAAE,CAC3C,GAAI,CACFR,aACF,CAAC,CAAGQ,KAAK,CACT,GAAI,CAAAP,QAAQ,CAAGR,cAAc,CAAC,CAAC,CAC/B,GAAI,CAAAgB,MAAM,CAAGf,cAAc,CAACF,iBAAiB,CAAC,CAC9C,GAAI,CAAAW,cAAc,CAAGb,MAAM,CAAC,IAAI,CAAC,CACjCD,eAAe,CAAC,IAAM,CACpB,GAAIoB,MAAM,GAAK,SAAS,EAAIA,MAAM,GAAK,QAAQ,CAAE,CAC/C,OACF,CACA,GAAIN,cAAc,CAACC,OAAO,GAAK,IAAI,CAAE,CACnCH,QAAQ,CAACN,gBAAgB,CAACK,aAAa,CAAC,CAAC,CAC3C,CAAC,IAAM,IAAIG,cAAc,CAACC,OAAO,GAAKJ,aAAa,CAAE,CACnDC,QAAQ,CAACL,oBAAoB,CAAC,CAC5BS,IAAI,CAAEF,cAAc,CAACC,OAAO,CAC5BE,IAAI,CAAEN,aACR,CAAC,CAAC,CAAC,CACL,CACAG,cAAc,CAACC,OAAO,CAAGJ,aAAa,CACxC,CAAC,CAAE,CAACC,QAAQ,CAAEQ,MAAM,CAAET,aAAa,CAAC,CAAC,CACrCX,eAAe,CAAC,IAAM,CACpB,MAAO,IAAM,CACX,GAAIc,cAAc,CAACC,OAAO,CAAE,CAC1BH,QAAQ,CAACJ,mBAAmB,CAACM,cAAc,CAACC,OAAO,CAAC,CAAC,CACrDD,cAAc,CAACC,OAAO,CAAG,IAAI,CAC/B,CACF,CAAC,CACH,CAAC,CAAE,CAACH,QAAQ,CAAC,CAAC,CACd,MAAO,KAAI,CACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}