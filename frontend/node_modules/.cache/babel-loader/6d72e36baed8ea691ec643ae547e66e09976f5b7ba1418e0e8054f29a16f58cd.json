{"ast":null,"code":"import array from\"./array.js\";import constant from\"./constant.js\";import descending from\"./descending.js\";import identity from\"./identity.js\";import{tau}from\"./math.js\";export default function(){var value=identity,sortValues=descending,sort=null,startAngle=constant(0),endAngle=constant(tau),padAngle=constant(0);function pie(data){var i,n=(data=array(data)).length,j,k,sum=0,index=new Array(n),arcs=new Array(n),a0=+startAngle.apply(this,arguments),da=Math.min(tau,Math.max(-tau,endAngle.apply(this,arguments)-a0)),a1,p=Math.min(Math.abs(da)/n,padAngle.apply(this,arguments)),pa=p*(da<0?-1:1),v;for(i=0;i<n;++i){if((v=arcs[index[i]=i]=+value(data[i],i,data))>0){sum+=v;}}// Optionally sort the arcs by previously-computed values or by data.\nif(sortValues!=null)index.sort(function(i,j){return sortValues(arcs[i],arcs[j]);});else if(sort!=null)index.sort(function(i,j){return sort(data[i],data[j]);});// Compute the arcs! They are stored in the original data's order.\nfor(i=0,k=sum?(da-n*pa)/sum:0;i<n;++i,a0=a1){j=index[i],v=arcs[j],a1=a0+(v>0?v*k:0)+pa,arcs[j]={data:data[j],index:i,value:v,startAngle:a0,endAngle:a1,padAngle:p};}return arcs;}pie.value=function(_){return arguments.length?(value=typeof _===\"function\"?_:constant(+_),pie):value;};pie.sortValues=function(_){return arguments.length?(sortValues=_,sort=null,pie):sortValues;};pie.sort=function(_){return arguments.length?(sort=_,sortValues=null,pie):sort;};pie.startAngle=function(_){return arguments.length?(startAngle=typeof _===\"function\"?_:constant(+_),pie):startAngle;};pie.endAngle=function(_){return arguments.length?(endAngle=typeof _===\"function\"?_:constant(+_),pie):endAngle;};pie.padAngle=function(_){return arguments.length?(padAngle=typeof _===\"function\"?_:constant(+_),pie):padAngle;};return pie;}","map":{"version":3,"names":["array","constant","descending","identity","tau","value","sortValues","sort","startAngle","endAngle","padAngle","pie","data","i","n","length","j","k","sum","index","Array","arcs","a0","apply","arguments","da","Math","min","max","a1","p","abs","pa","v","_"],"sources":["E:/program/ai交友网站demo/dating-app/frontend/src/node_modules/d3-shape/src/pie.js"],"sourcesContent":["import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport descending from \"./descending.js\";\nimport identity from \"./identity.js\";\nimport {tau} from \"./math.js\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = (data = array(data)).length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}