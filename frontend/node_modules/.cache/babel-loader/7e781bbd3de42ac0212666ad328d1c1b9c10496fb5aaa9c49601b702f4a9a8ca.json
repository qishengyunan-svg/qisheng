{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nfunction _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nimport * as React from 'react';\nimport { Children, PureComponent, useCallback, useContext, useEffect } from 'react';\nimport { clsx } from 'clsx';\nimport { scalePoint } from 'victory-vendor/d3-scale';\nimport range from 'es-toolkit/compat/range';\nimport { Layer } from '../container/Layer';\nimport { Text } from '../component/Text';\nimport { getValueByDataKey } from '../util/ChartUtils';\nimport { isNumber, isNotNil } from '../util/DataUtils';\nimport { generatePrefixStyle } from '../util/CssPrefixUtils';\nimport { useChartData, useDataIndex } from '../context/chartDataContext';\nimport { BrushUpdateDispatchContext } from '../context/brushUpdateContext';\nimport { useAppDispatch, useAppSelector } from '../state/hooks';\nimport { setDataStartEndIndexes } from '../state/chartDataSlice';\nimport { setBrushSettings } from '../state/brushSlice';\nimport { PanoramaContextProvider } from '../context/PanoramaContext';\nimport { selectBrushDimensions } from '../state/selectors/brushSelectors';\nimport { useBrushChartSynchronisation } from '../synchronisation/useChartSynchronisation';\nimport { resolveDefaultProps } from '../util/resolveDefaultProps';\nimport { svgPropertiesNoEvents } from '../util/svgPropertiesNoEvents';\n\n// Why is this tickFormatter different from the other TickFormatters? This one allows to return numbers too for some reason.\n\nfunction DefaultTraveller(props) {\n  var {\n    x,\n    y,\n    width,\n    height,\n    stroke\n  } = props;\n  var lineY = Math.floor(y + height / 2) - 1;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"rect\", {\n    x: x,\n    y: y,\n    width: width,\n    height: height,\n    fill: stroke,\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: x + 1,\n    y1: lineY,\n    x2: x + width - 1,\n    y2: lineY,\n    fill: \"none\",\n    stroke: \"#fff\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: x + 1,\n    y1: lineY + 2,\n    x2: x + width - 1,\n    y2: lineY + 2,\n    fill: \"none\",\n    stroke: \"#fff\"\n  }));\n}\n_c = DefaultTraveller;\nfunction Traveller(props) {\n  var {\n    travellerProps,\n    travellerType\n  } = props;\n  if (/*#__PURE__*/React.isValidElement(travellerType)) {\n    // @ts-expect-error element cloning disagrees with the types (and it should)\n    return /*#__PURE__*/React.cloneElement(travellerType, travellerProps);\n  }\n  if (typeof travellerType === 'function') {\n    return travellerType(travellerProps);\n  }\n  return /*#__PURE__*/React.createElement(DefaultTraveller, travellerProps);\n}\n_c2 = Traveller;\nfunction TravellerLayer(_ref) {\n  var _data$startIndex, _data$endIndex;\n  var {\n    otherProps,\n    travellerX,\n    id,\n    onMouseEnter,\n    onMouseLeave,\n    onMouseDown,\n    onTouchStart,\n    onTravellerMoveKeyboard,\n    onFocus,\n    onBlur\n  } = _ref;\n  var {\n    y,\n    x: xFromProps,\n    travellerWidth,\n    height,\n    traveller,\n    ariaLabel,\n    data,\n    startIndex,\n    endIndex\n  } = otherProps;\n  var x = Math.max(travellerX, xFromProps);\n  var travellerProps = _objectSpread(_objectSpread({}, svgPropertiesNoEvents(otherProps)), {}, {\n    x,\n    y,\n    width: travellerWidth,\n    height\n  });\n  var ariaLabelBrush = ariaLabel || \"Min value: \".concat((_data$startIndex = data[startIndex]) === null || _data$startIndex === void 0 ? void 0 : _data$startIndex.name, \", Max value: \").concat((_data$endIndex = data[endIndex]) === null || _data$endIndex === void 0 ? void 0 : _data$endIndex.name);\n  return /*#__PURE__*/React.createElement(Layer, {\n    tabIndex: 0,\n    role: \"slider\",\n    \"aria-label\": ariaLabelBrush,\n    \"aria-valuenow\": travellerX,\n    className: \"recharts-brush-traveller\",\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    onMouseDown: onMouseDown,\n    onTouchStart: onTouchStart,\n    onKeyDown: e => {\n      if (!['ArrowLeft', 'ArrowRight'].includes(e.key)) {\n        return;\n      }\n      e.preventDefault();\n      e.stopPropagation();\n      onTravellerMoveKeyboard(e.key === 'ArrowRight' ? 1 : -1, id);\n    },\n    onFocus: onFocus,\n    onBlur: onBlur,\n    style: {\n      cursor: 'col-resize'\n    }\n  }, /*#__PURE__*/React.createElement(Traveller, {\n    travellerType: traveller,\n    travellerProps: travellerProps\n  }));\n}\n/*\n * This one cannot be a React Component because React is not happy with it returning only string | number.\n * React wants a full React.JSX.Element but that is not compatible with Text component.\n */\n_c3 = TravellerLayer;\nfunction getTextOfTick(props) {\n  var {\n    index,\n    data,\n    tickFormatter,\n    dataKey\n  } = props;\n  // @ts-expect-error getValueByDataKey does not validate the output type\n  var text = getValueByDataKey(data[index], dataKey, index);\n  return typeof tickFormatter === 'function' ? tickFormatter(text, index) : text;\n}\nfunction getIndexInRange(valueRange, x) {\n  var len = valueRange.length;\n  var start = 0;\n  var end = len - 1;\n  while (end - start > 1) {\n    var middle = Math.floor((start + end) / 2);\n    if (valueRange[middle] > x) {\n      end = middle;\n    } else {\n      start = middle;\n    }\n  }\n  return x >= valueRange[end] ? end : start;\n}\nfunction getIndex(_ref2) {\n  var {\n    startX,\n    endX,\n    scaleValues,\n    gap,\n    data\n  } = _ref2;\n  var lastIndex = data.length - 1;\n  var min = Math.min(startX, endX);\n  var max = Math.max(startX, endX);\n  var minIndex = getIndexInRange(scaleValues, min);\n  var maxIndex = getIndexInRange(scaleValues, max);\n  return {\n    startIndex: minIndex - minIndex % gap,\n    endIndex: maxIndex === lastIndex ? lastIndex : maxIndex - maxIndex % gap\n  };\n}\nfunction Background(_ref3) {\n  var {\n    x,\n    y,\n    width,\n    height,\n    fill,\n    stroke\n  } = _ref3;\n  return /*#__PURE__*/React.createElement(\"rect\", {\n    stroke: stroke,\n    fill: fill,\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  });\n}\n_c4 = Background;\nfunction BrushText(_ref4) {\n  var {\n    startIndex,\n    endIndex,\n    y,\n    height,\n    travellerWidth,\n    stroke,\n    tickFormatter,\n    dataKey,\n    data,\n    startX,\n    endX\n  } = _ref4;\n  var offset = 5;\n  var attrs = {\n    pointerEvents: 'none',\n    fill: stroke\n  };\n  return /*#__PURE__*/React.createElement(Layer, {\n    className: \"recharts-brush-texts\"\n  }, /*#__PURE__*/React.createElement(Text, _extends({\n    textAnchor: \"end\",\n    verticalAnchor: \"middle\",\n    x: Math.min(startX, endX) - offset,\n    y: y + height / 2\n  }, attrs), getTextOfTick({\n    index: startIndex,\n    tickFormatter,\n    dataKey,\n    data\n  })), /*#__PURE__*/React.createElement(Text, _extends({\n    textAnchor: \"start\",\n    verticalAnchor: \"middle\",\n    x: Math.max(startX, endX) + travellerWidth + offset,\n    y: y + height / 2\n  }, attrs), getTextOfTick({\n    index: endIndex,\n    tickFormatter,\n    dataKey,\n    data\n  })));\n}\n_c5 = BrushText;\nfunction Slide(_ref5) {\n  var {\n    y,\n    height,\n    stroke,\n    travellerWidth,\n    startX,\n    endX,\n    onMouseEnter,\n    onMouseLeave,\n    onMouseDown,\n    onTouchStart\n  } = _ref5;\n  var x = Math.min(startX, endX) + travellerWidth;\n  var width = Math.max(Math.abs(endX - startX) - travellerWidth, 0);\n  return /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"recharts-brush-slide\",\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    onMouseDown: onMouseDown,\n    onTouchStart: onTouchStart,\n    style: {\n      cursor: 'move'\n    },\n    stroke: \"none\",\n    fill: stroke,\n    fillOpacity: 0.2,\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  });\n}\n_c6 = Slide;\nfunction Panorama(_ref6) {\n  var {\n    x,\n    y,\n    width,\n    height,\n    data,\n    children,\n    padding\n  } = _ref6;\n  var isPanoramic = React.Children.count(children) === 1;\n  if (!isPanoramic) {\n    return null;\n  }\n  var chartElement = Children.only(children);\n  if (!chartElement) {\n    return null;\n  }\n  return /*#__PURE__*/React.cloneElement(chartElement, {\n    x,\n    y,\n    width,\n    height,\n    margin: padding,\n    compact: true,\n    data\n  });\n}\n_c7 = Panorama;\nvar createScale = _ref7 => {\n  var {\n    data,\n    startIndex,\n    endIndex,\n    x,\n    width,\n    travellerWidth\n  } = _ref7;\n  if (!data || !data.length) {\n    return {};\n  }\n  var len = data.length;\n  var scale = scalePoint().domain(range(0, len)).range([x, x + width - travellerWidth]);\n  var scaleValues = scale.domain().map(entry => scale(entry)).filter(isNotNil);\n  return {\n    isTextActive: false,\n    isSlideMoving: false,\n    isTravellerMoving: false,\n    isTravellerFocused: false,\n    startX: scale(startIndex),\n    endX: scale(endIndex),\n    scale,\n    scaleValues\n  };\n};\nvar isTouch = e => e.changedTouches && !!e.changedTouches.length;\nclass BrushWithState extends PureComponent {\n  constructor(props) {\n    super(props);\n    _defineProperty(this, \"handleDrag\", e => {\n      if (this.leaveTimer) {\n        clearTimeout(this.leaveTimer);\n        this.leaveTimer = null;\n      }\n      if (this.state.isTravellerMoving) {\n        this.handleTravellerMove(e);\n      } else if (this.state.isSlideMoving) {\n        this.handleSlideDrag(e);\n      }\n    });\n    _defineProperty(this, \"handleTouchMove\", e => {\n      if (e.changedTouches != null && e.changedTouches.length > 0) {\n        this.handleDrag(e.changedTouches[0]);\n      }\n    });\n    _defineProperty(this, \"handleDragEnd\", () => {\n      this.setState({\n        isTravellerMoving: false,\n        isSlideMoving: false\n      }, () => {\n        var {\n          endIndex,\n          onDragEnd,\n          startIndex\n        } = this.props;\n        onDragEnd === null || onDragEnd === void 0 || onDragEnd({\n          endIndex,\n          startIndex\n        });\n      });\n      this.detachDragEndListener();\n    });\n    _defineProperty(this, \"handleLeaveWrapper\", () => {\n      if (this.state.isTravellerMoving || this.state.isSlideMoving) {\n        this.leaveTimer = window.setTimeout(this.handleDragEnd, this.props.leaveTimeOut);\n      }\n    });\n    _defineProperty(this, \"handleEnterSlideOrTraveller\", () => {\n      this.setState({\n        isTextActive: true\n      });\n    });\n    _defineProperty(this, \"handleLeaveSlideOrTraveller\", () => {\n      this.setState({\n        isTextActive: false\n      });\n    });\n    _defineProperty(this, \"handleSlideDragStart\", e => {\n      var event = isTouch(e) ? e.changedTouches[0] : e;\n      this.setState({\n        isTravellerMoving: false,\n        isSlideMoving: true,\n        slideMoveStartX: event.pageX\n      });\n      this.attachDragEndListener();\n    });\n    _defineProperty(this, \"handleTravellerMoveKeyboard\", (direction, id) => {\n      var {\n        data,\n        gap,\n        startIndex,\n        endIndex\n      } = this.props;\n      // scaleValues are a list of coordinates. For example: [65, 250, 435, 620, 805, 990].\n      var {\n        scaleValues,\n        startX,\n        endX\n      } = this.state;\n      if (scaleValues == null) {\n        return;\n      }\n\n      // unless we search for the closest scaleValue to the current coordinate\n      // we need to move travelers via index when using the keyboard\n      var currentIndex = -1;\n      if (id === 'startX') {\n        currentIndex = startIndex;\n      } else if (id === 'endX') {\n        currentIndex = endIndex;\n      }\n      if (currentIndex < 0 || currentIndex >= data.length) {\n        return;\n      }\n      var newIndex = currentIndex + direction;\n      if (newIndex === -1 || newIndex >= scaleValues.length) {\n        return;\n      }\n      var newScaleValue = scaleValues[newIndex];\n\n      // Prevent travellers from being on top of each other or overlapping\n      if (id === 'startX' && newScaleValue >= endX || id === 'endX' && newScaleValue <= startX) {\n        return;\n      }\n      this.setState(\n      // @ts-expect-error not sure why typescript is not happy with this, partial update is fine in React\n      {\n        [id]: newScaleValue\n      }, () => {\n        this.props.onChange(getIndex({\n          startX: this.state.startX,\n          endX: this.state.endX,\n          data,\n          gap,\n          scaleValues\n        }));\n      });\n    });\n    this.travellerDragStartHandlers = {\n      startX: this.handleTravellerDragStart.bind(this, 'startX'),\n      endX: this.handleTravellerDragStart.bind(this, 'endX')\n    };\n    this.state = {\n      brushMoveStartX: 0,\n      movingTravellerId: undefined,\n      endX: 0,\n      startX: 0,\n      slideMoveStartX: 0\n    };\n  }\n  static getDerivedStateFromProps(nextProps, prevState) {\n    var {\n      data,\n      width,\n      x,\n      travellerWidth,\n      startIndex,\n      endIndex,\n      startIndexControlledFromProps,\n      endIndexControlledFromProps\n    } = nextProps;\n    if (data !== prevState.prevData) {\n      return _objectSpread({\n        prevData: data,\n        prevTravellerWidth: travellerWidth,\n        prevX: x,\n        prevWidth: width\n      }, data && data.length ? createScale({\n        data,\n        width,\n        x,\n        travellerWidth,\n        startIndex,\n        endIndex\n      }) : {\n        scale: undefined,\n        scaleValues: undefined\n      });\n    }\n    var prevScale = prevState.scale;\n    if (prevScale && (width !== prevState.prevWidth || x !== prevState.prevX || travellerWidth !== prevState.prevTravellerWidth)) {\n      prevScale.range([x, x + width - travellerWidth]);\n      var scaleValues = prevScale.domain().map(entry => prevScale(entry)).filter(value => value != null);\n      return {\n        prevData: data,\n        prevTravellerWidth: travellerWidth,\n        prevX: x,\n        prevWidth: width,\n        startX: prevScale(nextProps.startIndex),\n        endX: prevScale(nextProps.endIndex),\n        scaleValues\n      };\n    }\n    if (prevState.scale && !prevState.isSlideMoving && !prevState.isTravellerMoving && !prevState.isTravellerFocused && !prevState.isTextActive) {\n      /*\n       * If the startIndex or endIndex are controlled from the outside,\n       * we need to keep the startX and end up to date.\n       * Also we do not want to do that while user is interacting in the brush,\n       * because this will trigger re-render and interrupt the drag&drop.\n       */\n      if (startIndexControlledFromProps != null && prevState.prevStartIndexControlledFromProps !== startIndexControlledFromProps) {\n        return {\n          startX: prevState.scale(startIndexControlledFromProps),\n          prevStartIndexControlledFromProps: startIndexControlledFromProps\n        };\n      }\n      if (endIndexControlledFromProps != null && prevState.prevEndIndexControlledFromProps !== endIndexControlledFromProps) {\n        return {\n          endX: prevState.scale(endIndexControlledFromProps),\n          prevEndIndexControlledFromProps: endIndexControlledFromProps\n        };\n      }\n    }\n    return null;\n  }\n  componentWillUnmount() {\n    if (this.leaveTimer) {\n      clearTimeout(this.leaveTimer);\n      this.leaveTimer = null;\n    }\n    this.detachDragEndListener();\n  }\n  attachDragEndListener() {\n    window.addEventListener('mouseup', this.handleDragEnd, true);\n    window.addEventListener('touchend', this.handleDragEnd, true);\n    window.addEventListener('mousemove', this.handleDrag, true);\n  }\n  detachDragEndListener() {\n    window.removeEventListener('mouseup', this.handleDragEnd, true);\n    window.removeEventListener('touchend', this.handleDragEnd, true);\n    window.removeEventListener('mousemove', this.handleDrag, true);\n  }\n  handleSlideDrag(e) {\n    var {\n      slideMoveStartX,\n      startX,\n      endX,\n      scaleValues\n    } = this.state;\n    if (scaleValues == null) {\n      return;\n    }\n    var {\n      x,\n      width,\n      travellerWidth,\n      startIndex,\n      endIndex,\n      onChange,\n      data,\n      gap\n    } = this.props;\n    var delta = e.pageX - slideMoveStartX;\n    if (delta > 0) {\n      delta = Math.min(delta, x + width - travellerWidth - endX, x + width - travellerWidth - startX);\n    } else if (delta < 0) {\n      delta = Math.max(delta, x - startX, x - endX);\n    }\n    var newIndex = getIndex({\n      startX: startX + delta,\n      endX: endX + delta,\n      data,\n      gap,\n      scaleValues\n    });\n    if ((newIndex.startIndex !== startIndex || newIndex.endIndex !== endIndex) && onChange) {\n      onChange(newIndex);\n    }\n    this.setState({\n      startX: startX + delta,\n      endX: endX + delta,\n      slideMoveStartX: e.pageX\n    });\n  }\n  handleTravellerDragStart(id, e) {\n    var event = isTouch(e) ? e.changedTouches[0] : e;\n    this.setState({\n      isSlideMoving: false,\n      isTravellerMoving: true,\n      movingTravellerId: id,\n      brushMoveStartX: event.pageX\n    });\n    this.attachDragEndListener();\n  }\n  handleTravellerMove(e) {\n    var {\n      brushMoveStartX,\n      movingTravellerId,\n      endX,\n      startX,\n      scaleValues\n    } = this.state;\n    if (movingTravellerId == null || scaleValues == null) {\n      return;\n    }\n    var prevValue = this.state[movingTravellerId];\n    var {\n      x,\n      width,\n      travellerWidth,\n      onChange,\n      gap,\n      data\n    } = this.props;\n    var params = {\n      startX: this.state.startX,\n      endX: this.state.endX,\n      data,\n      gap,\n      scaleValues\n    };\n    var delta = e.pageX - brushMoveStartX;\n    if (delta > 0) {\n      delta = Math.min(delta, x + width - travellerWidth - prevValue);\n    } else if (delta < 0) {\n      delta = Math.max(delta, x - prevValue);\n    }\n    params[movingTravellerId] = prevValue + delta;\n    var newIndex = getIndex(params);\n    var {\n      startIndex,\n      endIndex\n    } = newIndex;\n    var isFullGap = () => {\n      var lastIndex = data.length - 1;\n      if (movingTravellerId === 'startX' && (endX > startX ? startIndex % gap === 0 : endIndex % gap === 0) || endX < startX && endIndex === lastIndex || movingTravellerId === 'endX' && (endX > startX ? endIndex % gap === 0 : startIndex % gap === 0) || endX > startX && endIndex === lastIndex) {\n        return true;\n      }\n      return false;\n    };\n    this.setState(\n    // @ts-expect-error not sure why typescript is not happy with this, partial update is fine in React\n    {\n      [movingTravellerId]: prevValue + delta,\n      brushMoveStartX: e.pageX\n    }, () => {\n      if (onChange) {\n        if (isFullGap()) {\n          onChange(newIndex);\n        }\n      }\n    });\n  }\n  render() {\n    var {\n      data,\n      className,\n      children,\n      x,\n      y,\n      dy,\n      width,\n      height,\n      alwaysShowText,\n      fill,\n      stroke,\n      startIndex,\n      endIndex,\n      travellerWidth,\n      tickFormatter,\n      dataKey,\n      padding\n    } = this.props;\n    var {\n      startX,\n      endX,\n      isTextActive,\n      isSlideMoving,\n      isTravellerMoving,\n      isTravellerFocused\n    } = this.state;\n    if (!data || !data.length || !isNumber(x) || !isNumber(y) || !isNumber(width) || !isNumber(height) || width <= 0 || height <= 0) {\n      return null;\n    }\n    var layerClass = clsx('recharts-brush', className);\n    var style = generatePrefixStyle('userSelect', 'none');\n    var calculatedY = y + (dy !== null && dy !== void 0 ? dy : 0);\n    return /*#__PURE__*/React.createElement(Layer, {\n      className: layerClass,\n      onMouseLeave: this.handleLeaveWrapper,\n      onTouchMove: this.handleTouchMove,\n      style: style\n    }, /*#__PURE__*/React.createElement(Background, {\n      x: x,\n      y: calculatedY,\n      width: width,\n      height: height,\n      fill: fill,\n      stroke: stroke\n    }), /*#__PURE__*/React.createElement(PanoramaContextProvider, null, /*#__PURE__*/React.createElement(Panorama, {\n      x: x,\n      y: calculatedY,\n      width: width,\n      height: height,\n      data: data,\n      padding: padding\n    }, children)), /*#__PURE__*/React.createElement(Slide, {\n      y: calculatedY,\n      height: height,\n      stroke: stroke,\n      travellerWidth: travellerWidth,\n      startX: startX,\n      endX: endX,\n      onMouseEnter: this.handleEnterSlideOrTraveller,\n      onMouseLeave: this.handleLeaveSlideOrTraveller,\n      onMouseDown: this.handleSlideDragStart,\n      onTouchStart: this.handleSlideDragStart\n    }), /*#__PURE__*/React.createElement(TravellerLayer, {\n      travellerX: startX,\n      id: \"startX\",\n      otherProps: _objectSpread(_objectSpread({}, this.props), {}, {\n        y: calculatedY\n      }),\n      onMouseEnter: this.handleEnterSlideOrTraveller,\n      onMouseLeave: this.handleLeaveSlideOrTraveller,\n      onMouseDown: this.travellerDragStartHandlers.startX,\n      onTouchStart: this.travellerDragStartHandlers.startX,\n      onTravellerMoveKeyboard: this.handleTravellerMoveKeyboard,\n      onFocus: () => {\n        this.setState({\n          isTravellerFocused: true\n        });\n      },\n      onBlur: () => {\n        this.setState({\n          isTravellerFocused: false\n        });\n      }\n    }), /*#__PURE__*/React.createElement(TravellerLayer, {\n      travellerX: endX,\n      id: \"endX\",\n      otherProps: _objectSpread(_objectSpread({}, this.props), {}, {\n        y: calculatedY\n      }),\n      onMouseEnter: this.handleEnterSlideOrTraveller,\n      onMouseLeave: this.handleLeaveSlideOrTraveller,\n      onMouseDown: this.travellerDragStartHandlers.endX,\n      onTouchStart: this.travellerDragStartHandlers.endX,\n      onTravellerMoveKeyboard: this.handleTravellerMoveKeyboard,\n      onFocus: () => {\n        this.setState({\n          isTravellerFocused: true\n        });\n      },\n      onBlur: () => {\n        this.setState({\n          isTravellerFocused: false\n        });\n      }\n    }), (isTextActive || isSlideMoving || isTravellerMoving || isTravellerFocused || alwaysShowText) && /*#__PURE__*/React.createElement(BrushText, {\n      startIndex: startIndex,\n      endIndex: endIndex,\n      y: calculatedY,\n      height: height,\n      travellerWidth: travellerWidth,\n      stroke: stroke,\n      tickFormatter: tickFormatter,\n      dataKey: dataKey,\n      data: data,\n      startX: startX,\n      endX: endX\n    }));\n  }\n}\nfunction BrushInternal(props) {\n  _s();\n  var dispatch = useAppDispatch();\n  var chartData = useChartData();\n  var dataIndexes = useDataIndex();\n  var onChangeFromContext = useContext(BrushUpdateDispatchContext);\n  var onChangeFromProps = props.onChange;\n  var {\n    startIndex: startIndexFromProps,\n    endIndex: endIndexFromProps\n  } = props;\n  useEffect(() => {\n    // start and end index can be controlled from props, and we need them to stay up-to-date in the Redux state too\n    dispatch(setDataStartEndIndexes({\n      startIndex: startIndexFromProps,\n      endIndex: endIndexFromProps\n    }));\n  }, [dispatch, endIndexFromProps, startIndexFromProps]);\n  useBrushChartSynchronisation();\n  var onChange = useCallback(nextState => {\n    if (dataIndexes == null) {\n      return;\n    }\n    var {\n      startIndex,\n      endIndex\n    } = dataIndexes;\n    if (nextState.startIndex !== startIndex || nextState.endIndex !== endIndex) {\n      onChangeFromContext === null || onChangeFromContext === void 0 || onChangeFromContext(nextState);\n      onChangeFromProps === null || onChangeFromProps === void 0 || onChangeFromProps(nextState);\n      dispatch(setDataStartEndIndexes(nextState));\n    }\n  }, [onChangeFromProps, onChangeFromContext, dispatch, dataIndexes]);\n  var brushDimensions = useAppSelector(selectBrushDimensions);\n  if (brushDimensions == null || dataIndexes == null || chartData == null || !chartData.length) {\n    return null;\n  }\n  var {\n    startIndex,\n    endIndex\n  } = dataIndexes;\n  var {\n    x,\n    y,\n    width\n  } = brushDimensions;\n  var contextProperties = {\n    data: chartData,\n    x,\n    y,\n    width,\n    startIndex,\n    endIndex,\n    onChange\n  };\n  return /*#__PURE__*/React.createElement(BrushWithState, _extends({}, props, contextProperties, {\n    startIndexControlledFromProps: startIndexFromProps !== null && startIndexFromProps !== void 0 ? startIndexFromProps : undefined,\n    endIndexControlledFromProps: endIndexFromProps !== null && endIndexFromProps !== void 0 ? endIndexFromProps : undefined\n  }));\n}\n_s(BrushInternal, \"pwLhVBnnGqs31YYn/tADwfPqXEo=\", false, function () {\n  return [useAppDispatch, useChartData, useDataIndex, useBrushChartSynchronisation, useAppSelector];\n});\n_c8 = BrushInternal;\nfunction BrushSettingsDispatcher(props) {\n  _s2();\n  var dispatch = useAppDispatch();\n  useEffect(() => {\n    dispatch(setBrushSettings(props));\n    return () => {\n      dispatch(setBrushSettings(null));\n    };\n  }, [dispatch, props]);\n  return null;\n}\n_s2(BrushSettingsDispatcher, \"DKdeqxp2QYw2p6z8/ErYMRK/Ubo=\", false, function () {\n  return [useAppDispatch];\n});\n_c9 = BrushSettingsDispatcher;\nexport var defaultBrushProps = {\n  height: 40,\n  travellerWidth: 5,\n  gap: 1,\n  fill: '#fff',\n  stroke: '#666',\n  padding: {\n    top: 1,\n    right: 1,\n    bottom: 1,\n    left: 1\n  },\n  leaveTimeOut: 1000,\n  alwaysShowText: false\n};\nexport function Brush(outsideProps) {\n  var props = resolveDefaultProps(outsideProps, defaultBrushProps);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(BrushSettingsDispatcher, {\n    height: props.height,\n    x: props.x,\n    y: props.y,\n    width: props.width,\n    padding: props.padding\n  }), /*#__PURE__*/React.createElement(BrushInternal, props));\n}\n_c0 = Brush;\nBrush.displayName = 'Brush';\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0;\n$RefreshReg$(_c, \"DefaultTraveller\");\n$RefreshReg$(_c2, \"Traveller\");\n$RefreshReg$(_c3, \"TravellerLayer\");\n$RefreshReg$(_c4, \"Background\");\n$RefreshReg$(_c5, \"BrushText\");\n$RefreshReg$(_c6, \"Slide\");\n$RefreshReg$(_c7, \"Panorama\");\n$RefreshReg$(_c8, \"BrushInternal\");\n$RefreshReg$(_c9, \"BrushSettingsDispatcher\");\n$RefreshReg$(_c0, \"Brush\");","map":{"version":3,"names":["_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","ownKeys","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","React","Children","PureComponent","useCallback","useContext","useEffect","clsx","scalePoint","range","Layer","Text","getValueByDataKey","isNumber","isNotNil","generatePrefixStyle","useChartData","useDataIndex","BrushUpdateDispatchContext","useAppDispatch","useAppSelector","setDataStartEndIndexes","setBrushSettings","PanoramaContextProvider","selectBrushDimensions","useBrushChartSynchronisation","resolveDefaultProps","svgPropertiesNoEvents","DefaultTraveller","props","x","y","width","height","stroke","lineY","Math","floor","createElement","Fragment","fill","x1","y1","x2","y2","_c","Traveller","travellerProps","travellerType","isValidElement","cloneElement","_c2","TravellerLayer","_ref","_data$startIndex","_data$endIndex","otherProps","travellerX","id","onMouseEnter","onMouseLeave","onMouseDown","onTouchStart","onTravellerMoveKeyboard","onFocus","onBlur","xFromProps","travellerWidth","traveller","ariaLabel","data","startIndex","endIndex","max","ariaLabelBrush","concat","name","tabIndex","role","className","onKeyDown","includes","key","preventDefault","stopPropagation","style","cursor","_c3","getTextOfTick","index","tickFormatter","dataKey","text","getIndexInRange","valueRange","len","start","end","middle","getIndex","_ref2","startX","endX","scaleValues","gap","lastIndex","min","minIndex","maxIndex","Background","_ref3","_c4","BrushText","_ref4","offset","attrs","pointerEvents","textAnchor","verticalAnchor","_c5","Slide","_ref5","abs","fillOpacity","_c6","Panorama","_ref6","children","padding","isPanoramic","count","chartElement","only","margin","compact","_c7","createScale","_ref7","scale","domain","map","entry","isTextActive","isSlideMoving","isTravellerMoving","isTravellerFocused","isTouch","changedTouches","BrushWithState","constructor","leaveTimer","clearTimeout","state","handleTravellerMove","handleSlideDrag","handleDrag","setState","onDragEnd","detachDragEndListener","window","setTimeout","handleDragEnd","leaveTimeOut","event","slideMoveStartX","pageX","attachDragEndListener","direction","currentIndex","newIndex","newScaleValue","onChange","travellerDragStartHandlers","handleTravellerDragStart","brushMoveStartX","movingTravellerId","undefined","getDerivedStateFromProps","nextProps","prevState","startIndexControlledFromProps","endIndexControlledFromProps","prevData","prevTravellerWidth","prevX","prevWidth","prevScale","prevStartIndexControlledFromProps","prevEndIndexControlledFromProps","componentWillUnmount","addEventListener","removeEventListener","delta","prevValue","params","isFullGap","render","dy","alwaysShowText","layerClass","calculatedY","handleLeaveWrapper","onTouchMove","handleTouchMove","handleEnterSlideOrTraveller","handleLeaveSlideOrTraveller","handleSlideDragStart","handleTravellerMoveKeyboard","BrushInternal","_s","dispatch","chartData","dataIndexes","onChangeFromContext","onChangeFromProps","startIndexFromProps","endIndexFromProps","nextState","brushDimensions","contextProperties","_c8","BrushSettingsDispatcher","_s2","_c9","defaultBrushProps","top","right","bottom","left","Brush","outsideProps","_c0","displayName","$RefreshReg$"],"sources":["E:/program/ai交友网站demo/dating-app/frontend/src/node_modules/recharts/es6/cartesian/Brush.js"],"sourcesContent":["function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport * as React from 'react';\nimport { Children, PureComponent, useCallback, useContext, useEffect } from 'react';\nimport { clsx } from 'clsx';\nimport { scalePoint } from 'victory-vendor/d3-scale';\nimport range from 'es-toolkit/compat/range';\nimport { Layer } from '../container/Layer';\nimport { Text } from '../component/Text';\nimport { getValueByDataKey } from '../util/ChartUtils';\nimport { isNumber, isNotNil } from '../util/DataUtils';\nimport { generatePrefixStyle } from '../util/CssPrefixUtils';\nimport { useChartData, useDataIndex } from '../context/chartDataContext';\nimport { BrushUpdateDispatchContext } from '../context/brushUpdateContext';\nimport { useAppDispatch, useAppSelector } from '../state/hooks';\nimport { setDataStartEndIndexes } from '../state/chartDataSlice';\nimport { setBrushSettings } from '../state/brushSlice';\nimport { PanoramaContextProvider } from '../context/PanoramaContext';\nimport { selectBrushDimensions } from '../state/selectors/brushSelectors';\nimport { useBrushChartSynchronisation } from '../synchronisation/useChartSynchronisation';\nimport { resolveDefaultProps } from '../util/resolveDefaultProps';\nimport { svgPropertiesNoEvents } from '../util/svgPropertiesNoEvents';\n\n// Why is this tickFormatter different from the other TickFormatters? This one allows to return numbers too for some reason.\n\nfunction DefaultTraveller(props) {\n  var {\n    x,\n    y,\n    width,\n    height,\n    stroke\n  } = props;\n  var lineY = Math.floor(y + height / 2) - 1;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"rect\", {\n    x: x,\n    y: y,\n    width: width,\n    height: height,\n    fill: stroke,\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: x + 1,\n    y1: lineY,\n    x2: x + width - 1,\n    y2: lineY,\n    fill: \"none\",\n    stroke: \"#fff\"\n  }), /*#__PURE__*/React.createElement(\"line\", {\n    x1: x + 1,\n    y1: lineY + 2,\n    x2: x + width - 1,\n    y2: lineY + 2,\n    fill: \"none\",\n    stroke: \"#fff\"\n  }));\n}\nfunction Traveller(props) {\n  var {\n    travellerProps,\n    travellerType\n  } = props;\n  if (/*#__PURE__*/React.isValidElement(travellerType)) {\n    // @ts-expect-error element cloning disagrees with the types (and it should)\n    return /*#__PURE__*/React.cloneElement(travellerType, travellerProps);\n  }\n  if (typeof travellerType === 'function') {\n    return travellerType(travellerProps);\n  }\n  return /*#__PURE__*/React.createElement(DefaultTraveller, travellerProps);\n}\nfunction TravellerLayer(_ref) {\n  var _data$startIndex, _data$endIndex;\n  var {\n    otherProps,\n    travellerX,\n    id,\n    onMouseEnter,\n    onMouseLeave,\n    onMouseDown,\n    onTouchStart,\n    onTravellerMoveKeyboard,\n    onFocus,\n    onBlur\n  } = _ref;\n  var {\n    y,\n    x: xFromProps,\n    travellerWidth,\n    height,\n    traveller,\n    ariaLabel,\n    data,\n    startIndex,\n    endIndex\n  } = otherProps;\n  var x = Math.max(travellerX, xFromProps);\n  var travellerProps = _objectSpread(_objectSpread({}, svgPropertiesNoEvents(otherProps)), {}, {\n    x,\n    y,\n    width: travellerWidth,\n    height\n  });\n  var ariaLabelBrush = ariaLabel || \"Min value: \".concat((_data$startIndex = data[startIndex]) === null || _data$startIndex === void 0 ? void 0 : _data$startIndex.name, \", Max value: \").concat((_data$endIndex = data[endIndex]) === null || _data$endIndex === void 0 ? void 0 : _data$endIndex.name);\n  return /*#__PURE__*/React.createElement(Layer, {\n    tabIndex: 0,\n    role: \"slider\",\n    \"aria-label\": ariaLabelBrush,\n    \"aria-valuenow\": travellerX,\n    className: \"recharts-brush-traveller\",\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    onMouseDown: onMouseDown,\n    onTouchStart: onTouchStart,\n    onKeyDown: e => {\n      if (!['ArrowLeft', 'ArrowRight'].includes(e.key)) {\n        return;\n      }\n      e.preventDefault();\n      e.stopPropagation();\n      onTravellerMoveKeyboard(e.key === 'ArrowRight' ? 1 : -1, id);\n    },\n    onFocus: onFocus,\n    onBlur: onBlur,\n    style: {\n      cursor: 'col-resize'\n    }\n  }, /*#__PURE__*/React.createElement(Traveller, {\n    travellerType: traveller,\n    travellerProps: travellerProps\n  }));\n}\n/*\n * This one cannot be a React Component because React is not happy with it returning only string | number.\n * React wants a full React.JSX.Element but that is not compatible with Text component.\n */\nfunction getTextOfTick(props) {\n  var {\n    index,\n    data,\n    tickFormatter,\n    dataKey\n  } = props;\n  // @ts-expect-error getValueByDataKey does not validate the output type\n  var text = getValueByDataKey(data[index], dataKey, index);\n  return typeof tickFormatter === 'function' ? tickFormatter(text, index) : text;\n}\nfunction getIndexInRange(valueRange, x) {\n  var len = valueRange.length;\n  var start = 0;\n  var end = len - 1;\n  while (end - start > 1) {\n    var middle = Math.floor((start + end) / 2);\n    if (valueRange[middle] > x) {\n      end = middle;\n    } else {\n      start = middle;\n    }\n  }\n  return x >= valueRange[end] ? end : start;\n}\nfunction getIndex(_ref2) {\n  var {\n    startX,\n    endX,\n    scaleValues,\n    gap,\n    data\n  } = _ref2;\n  var lastIndex = data.length - 1;\n  var min = Math.min(startX, endX);\n  var max = Math.max(startX, endX);\n  var minIndex = getIndexInRange(scaleValues, min);\n  var maxIndex = getIndexInRange(scaleValues, max);\n  return {\n    startIndex: minIndex - minIndex % gap,\n    endIndex: maxIndex === lastIndex ? lastIndex : maxIndex - maxIndex % gap\n  };\n}\nfunction Background(_ref3) {\n  var {\n    x,\n    y,\n    width,\n    height,\n    fill,\n    stroke\n  } = _ref3;\n  return /*#__PURE__*/React.createElement(\"rect\", {\n    stroke: stroke,\n    fill: fill,\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  });\n}\nfunction BrushText(_ref4) {\n  var {\n    startIndex,\n    endIndex,\n    y,\n    height,\n    travellerWidth,\n    stroke,\n    tickFormatter,\n    dataKey,\n    data,\n    startX,\n    endX\n  } = _ref4;\n  var offset = 5;\n  var attrs = {\n    pointerEvents: 'none',\n    fill: stroke\n  };\n  return /*#__PURE__*/React.createElement(Layer, {\n    className: \"recharts-brush-texts\"\n  }, /*#__PURE__*/React.createElement(Text, _extends({\n    textAnchor: \"end\",\n    verticalAnchor: \"middle\",\n    x: Math.min(startX, endX) - offset,\n    y: y + height / 2\n  }, attrs), getTextOfTick({\n    index: startIndex,\n    tickFormatter,\n    dataKey,\n    data\n  })), /*#__PURE__*/React.createElement(Text, _extends({\n    textAnchor: \"start\",\n    verticalAnchor: \"middle\",\n    x: Math.max(startX, endX) + travellerWidth + offset,\n    y: y + height / 2\n  }, attrs), getTextOfTick({\n    index: endIndex,\n    tickFormatter,\n    dataKey,\n    data\n  })));\n}\nfunction Slide(_ref5) {\n  var {\n    y,\n    height,\n    stroke,\n    travellerWidth,\n    startX,\n    endX,\n    onMouseEnter,\n    onMouseLeave,\n    onMouseDown,\n    onTouchStart\n  } = _ref5;\n  var x = Math.min(startX, endX) + travellerWidth;\n  var width = Math.max(Math.abs(endX - startX) - travellerWidth, 0);\n  return /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"recharts-brush-slide\",\n    onMouseEnter: onMouseEnter,\n    onMouseLeave: onMouseLeave,\n    onMouseDown: onMouseDown,\n    onTouchStart: onTouchStart,\n    style: {\n      cursor: 'move'\n    },\n    stroke: \"none\",\n    fill: stroke,\n    fillOpacity: 0.2,\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  });\n}\nfunction Panorama(_ref6) {\n  var {\n    x,\n    y,\n    width,\n    height,\n    data,\n    children,\n    padding\n  } = _ref6;\n  var isPanoramic = React.Children.count(children) === 1;\n  if (!isPanoramic) {\n    return null;\n  }\n  var chartElement = Children.only(children);\n  if (!chartElement) {\n    return null;\n  }\n  return /*#__PURE__*/React.cloneElement(chartElement, {\n    x,\n    y,\n    width,\n    height,\n    margin: padding,\n    compact: true,\n    data\n  });\n}\nvar createScale = _ref7 => {\n  var {\n    data,\n    startIndex,\n    endIndex,\n    x,\n    width,\n    travellerWidth\n  } = _ref7;\n  if (!data || !data.length) {\n    return {};\n  }\n  var len = data.length;\n  var scale = scalePoint().domain(range(0, len)).range([x, x + width - travellerWidth]);\n  var scaleValues = scale.domain().map(entry => scale(entry)).filter(isNotNil);\n  return {\n    isTextActive: false,\n    isSlideMoving: false,\n    isTravellerMoving: false,\n    isTravellerFocused: false,\n    startX: scale(startIndex),\n    endX: scale(endIndex),\n    scale,\n    scaleValues\n  };\n};\nvar isTouch = e => e.changedTouches && !!e.changedTouches.length;\nclass BrushWithState extends PureComponent {\n  constructor(props) {\n    super(props);\n    _defineProperty(this, \"handleDrag\", e => {\n      if (this.leaveTimer) {\n        clearTimeout(this.leaveTimer);\n        this.leaveTimer = null;\n      }\n      if (this.state.isTravellerMoving) {\n        this.handleTravellerMove(e);\n      } else if (this.state.isSlideMoving) {\n        this.handleSlideDrag(e);\n      }\n    });\n    _defineProperty(this, \"handleTouchMove\", e => {\n      if (e.changedTouches != null && e.changedTouches.length > 0) {\n        this.handleDrag(e.changedTouches[0]);\n      }\n    });\n    _defineProperty(this, \"handleDragEnd\", () => {\n      this.setState({\n        isTravellerMoving: false,\n        isSlideMoving: false\n      }, () => {\n        var {\n          endIndex,\n          onDragEnd,\n          startIndex\n        } = this.props;\n        onDragEnd === null || onDragEnd === void 0 || onDragEnd({\n          endIndex,\n          startIndex\n        });\n      });\n      this.detachDragEndListener();\n    });\n    _defineProperty(this, \"handleLeaveWrapper\", () => {\n      if (this.state.isTravellerMoving || this.state.isSlideMoving) {\n        this.leaveTimer = window.setTimeout(this.handleDragEnd, this.props.leaveTimeOut);\n      }\n    });\n    _defineProperty(this, \"handleEnterSlideOrTraveller\", () => {\n      this.setState({\n        isTextActive: true\n      });\n    });\n    _defineProperty(this, \"handleLeaveSlideOrTraveller\", () => {\n      this.setState({\n        isTextActive: false\n      });\n    });\n    _defineProperty(this, \"handleSlideDragStart\", e => {\n      var event = isTouch(e) ? e.changedTouches[0] : e;\n      this.setState({\n        isTravellerMoving: false,\n        isSlideMoving: true,\n        slideMoveStartX: event.pageX\n      });\n      this.attachDragEndListener();\n    });\n    _defineProperty(this, \"handleTravellerMoveKeyboard\", (direction, id) => {\n      var {\n        data,\n        gap,\n        startIndex,\n        endIndex\n      } = this.props;\n      // scaleValues are a list of coordinates. For example: [65, 250, 435, 620, 805, 990].\n      var {\n        scaleValues,\n        startX,\n        endX\n      } = this.state;\n      if (scaleValues == null) {\n        return;\n      }\n\n      // unless we search for the closest scaleValue to the current coordinate\n      // we need to move travelers via index when using the keyboard\n      var currentIndex = -1;\n      if (id === 'startX') {\n        currentIndex = startIndex;\n      } else if (id === 'endX') {\n        currentIndex = endIndex;\n      }\n      if (currentIndex < 0 || currentIndex >= data.length) {\n        return;\n      }\n      var newIndex = currentIndex + direction;\n      if (newIndex === -1 || newIndex >= scaleValues.length) {\n        return;\n      }\n      var newScaleValue = scaleValues[newIndex];\n\n      // Prevent travellers from being on top of each other or overlapping\n      if (id === 'startX' && newScaleValue >= endX || id === 'endX' && newScaleValue <= startX) {\n        return;\n      }\n      this.setState(\n      // @ts-expect-error not sure why typescript is not happy with this, partial update is fine in React\n      {\n        [id]: newScaleValue\n      }, () => {\n        this.props.onChange(getIndex({\n          startX: this.state.startX,\n          endX: this.state.endX,\n          data,\n          gap,\n          scaleValues\n        }));\n      });\n    });\n    this.travellerDragStartHandlers = {\n      startX: this.handleTravellerDragStart.bind(this, 'startX'),\n      endX: this.handleTravellerDragStart.bind(this, 'endX')\n    };\n    this.state = {\n      brushMoveStartX: 0,\n      movingTravellerId: undefined,\n      endX: 0,\n      startX: 0,\n      slideMoveStartX: 0\n    };\n  }\n  static getDerivedStateFromProps(nextProps, prevState) {\n    var {\n      data,\n      width,\n      x,\n      travellerWidth,\n      startIndex,\n      endIndex,\n      startIndexControlledFromProps,\n      endIndexControlledFromProps\n    } = nextProps;\n    if (data !== prevState.prevData) {\n      return _objectSpread({\n        prevData: data,\n        prevTravellerWidth: travellerWidth,\n        prevX: x,\n        prevWidth: width\n      }, data && data.length ? createScale({\n        data,\n        width,\n        x,\n        travellerWidth,\n        startIndex,\n        endIndex\n      }) : {\n        scale: undefined,\n        scaleValues: undefined\n      });\n    }\n    var prevScale = prevState.scale;\n    if (prevScale && (width !== prevState.prevWidth || x !== prevState.prevX || travellerWidth !== prevState.prevTravellerWidth)) {\n      prevScale.range([x, x + width - travellerWidth]);\n      var scaleValues = prevScale.domain().map(entry => prevScale(entry)).filter(value => value != null);\n      return {\n        prevData: data,\n        prevTravellerWidth: travellerWidth,\n        prevX: x,\n        prevWidth: width,\n        startX: prevScale(nextProps.startIndex),\n        endX: prevScale(nextProps.endIndex),\n        scaleValues\n      };\n    }\n    if (prevState.scale && !prevState.isSlideMoving && !prevState.isTravellerMoving && !prevState.isTravellerFocused && !prevState.isTextActive) {\n      /*\n       * If the startIndex or endIndex are controlled from the outside,\n       * we need to keep the startX and end up to date.\n       * Also we do not want to do that while user is interacting in the brush,\n       * because this will trigger re-render and interrupt the drag&drop.\n       */\n      if (startIndexControlledFromProps != null && prevState.prevStartIndexControlledFromProps !== startIndexControlledFromProps) {\n        return {\n          startX: prevState.scale(startIndexControlledFromProps),\n          prevStartIndexControlledFromProps: startIndexControlledFromProps\n        };\n      }\n      if (endIndexControlledFromProps != null && prevState.prevEndIndexControlledFromProps !== endIndexControlledFromProps) {\n        return {\n          endX: prevState.scale(endIndexControlledFromProps),\n          prevEndIndexControlledFromProps: endIndexControlledFromProps\n        };\n      }\n    }\n    return null;\n  }\n  componentWillUnmount() {\n    if (this.leaveTimer) {\n      clearTimeout(this.leaveTimer);\n      this.leaveTimer = null;\n    }\n    this.detachDragEndListener();\n  }\n  attachDragEndListener() {\n    window.addEventListener('mouseup', this.handleDragEnd, true);\n    window.addEventListener('touchend', this.handleDragEnd, true);\n    window.addEventListener('mousemove', this.handleDrag, true);\n  }\n  detachDragEndListener() {\n    window.removeEventListener('mouseup', this.handleDragEnd, true);\n    window.removeEventListener('touchend', this.handleDragEnd, true);\n    window.removeEventListener('mousemove', this.handleDrag, true);\n  }\n  handleSlideDrag(e) {\n    var {\n      slideMoveStartX,\n      startX,\n      endX,\n      scaleValues\n    } = this.state;\n    if (scaleValues == null) {\n      return;\n    }\n    var {\n      x,\n      width,\n      travellerWidth,\n      startIndex,\n      endIndex,\n      onChange,\n      data,\n      gap\n    } = this.props;\n    var delta = e.pageX - slideMoveStartX;\n    if (delta > 0) {\n      delta = Math.min(delta, x + width - travellerWidth - endX, x + width - travellerWidth - startX);\n    } else if (delta < 0) {\n      delta = Math.max(delta, x - startX, x - endX);\n    }\n    var newIndex = getIndex({\n      startX: startX + delta,\n      endX: endX + delta,\n      data,\n      gap,\n      scaleValues\n    });\n    if ((newIndex.startIndex !== startIndex || newIndex.endIndex !== endIndex) && onChange) {\n      onChange(newIndex);\n    }\n    this.setState({\n      startX: startX + delta,\n      endX: endX + delta,\n      slideMoveStartX: e.pageX\n    });\n  }\n  handleTravellerDragStart(id, e) {\n    var event = isTouch(e) ? e.changedTouches[0] : e;\n    this.setState({\n      isSlideMoving: false,\n      isTravellerMoving: true,\n      movingTravellerId: id,\n      brushMoveStartX: event.pageX\n    });\n    this.attachDragEndListener();\n  }\n  handleTravellerMove(e) {\n    var {\n      brushMoveStartX,\n      movingTravellerId,\n      endX,\n      startX,\n      scaleValues\n    } = this.state;\n    if (movingTravellerId == null || scaleValues == null) {\n      return;\n    }\n    var prevValue = this.state[movingTravellerId];\n    var {\n      x,\n      width,\n      travellerWidth,\n      onChange,\n      gap,\n      data\n    } = this.props;\n    var params = {\n      startX: this.state.startX,\n      endX: this.state.endX,\n      data,\n      gap,\n      scaleValues\n    };\n    var delta = e.pageX - brushMoveStartX;\n    if (delta > 0) {\n      delta = Math.min(delta, x + width - travellerWidth - prevValue);\n    } else if (delta < 0) {\n      delta = Math.max(delta, x - prevValue);\n    }\n    params[movingTravellerId] = prevValue + delta;\n    var newIndex = getIndex(params);\n    var {\n      startIndex,\n      endIndex\n    } = newIndex;\n    var isFullGap = () => {\n      var lastIndex = data.length - 1;\n      if (movingTravellerId === 'startX' && (endX > startX ? startIndex % gap === 0 : endIndex % gap === 0) || endX < startX && endIndex === lastIndex || movingTravellerId === 'endX' && (endX > startX ? endIndex % gap === 0 : startIndex % gap === 0) || endX > startX && endIndex === lastIndex) {\n        return true;\n      }\n      return false;\n    };\n    this.setState(\n    // @ts-expect-error not sure why typescript is not happy with this, partial update is fine in React\n    {\n      [movingTravellerId]: prevValue + delta,\n      brushMoveStartX: e.pageX\n    }, () => {\n      if (onChange) {\n        if (isFullGap()) {\n          onChange(newIndex);\n        }\n      }\n    });\n  }\n  render() {\n    var {\n      data,\n      className,\n      children,\n      x,\n      y,\n      dy,\n      width,\n      height,\n      alwaysShowText,\n      fill,\n      stroke,\n      startIndex,\n      endIndex,\n      travellerWidth,\n      tickFormatter,\n      dataKey,\n      padding\n    } = this.props;\n    var {\n      startX,\n      endX,\n      isTextActive,\n      isSlideMoving,\n      isTravellerMoving,\n      isTravellerFocused\n    } = this.state;\n    if (!data || !data.length || !isNumber(x) || !isNumber(y) || !isNumber(width) || !isNumber(height) || width <= 0 || height <= 0) {\n      return null;\n    }\n    var layerClass = clsx('recharts-brush', className);\n    var style = generatePrefixStyle('userSelect', 'none');\n    var calculatedY = y + (dy !== null && dy !== void 0 ? dy : 0);\n    return /*#__PURE__*/React.createElement(Layer, {\n      className: layerClass,\n      onMouseLeave: this.handleLeaveWrapper,\n      onTouchMove: this.handleTouchMove,\n      style: style\n    }, /*#__PURE__*/React.createElement(Background, {\n      x: x,\n      y: calculatedY,\n      width: width,\n      height: height,\n      fill: fill,\n      stroke: stroke\n    }), /*#__PURE__*/React.createElement(PanoramaContextProvider, null, /*#__PURE__*/React.createElement(Panorama, {\n      x: x,\n      y: calculatedY,\n      width: width,\n      height: height,\n      data: data,\n      padding: padding\n    }, children)), /*#__PURE__*/React.createElement(Slide, {\n      y: calculatedY,\n      height: height,\n      stroke: stroke,\n      travellerWidth: travellerWidth,\n      startX: startX,\n      endX: endX,\n      onMouseEnter: this.handleEnterSlideOrTraveller,\n      onMouseLeave: this.handleLeaveSlideOrTraveller,\n      onMouseDown: this.handleSlideDragStart,\n      onTouchStart: this.handleSlideDragStart\n    }), /*#__PURE__*/React.createElement(TravellerLayer, {\n      travellerX: startX,\n      id: \"startX\",\n      otherProps: _objectSpread(_objectSpread({}, this.props), {}, {\n        y: calculatedY\n      }),\n      onMouseEnter: this.handleEnterSlideOrTraveller,\n      onMouseLeave: this.handleLeaveSlideOrTraveller,\n      onMouseDown: this.travellerDragStartHandlers.startX,\n      onTouchStart: this.travellerDragStartHandlers.startX,\n      onTravellerMoveKeyboard: this.handleTravellerMoveKeyboard,\n      onFocus: () => {\n        this.setState({\n          isTravellerFocused: true\n        });\n      },\n      onBlur: () => {\n        this.setState({\n          isTravellerFocused: false\n        });\n      }\n    }), /*#__PURE__*/React.createElement(TravellerLayer, {\n      travellerX: endX,\n      id: \"endX\",\n      otherProps: _objectSpread(_objectSpread({}, this.props), {}, {\n        y: calculatedY\n      }),\n      onMouseEnter: this.handleEnterSlideOrTraveller,\n      onMouseLeave: this.handleLeaveSlideOrTraveller,\n      onMouseDown: this.travellerDragStartHandlers.endX,\n      onTouchStart: this.travellerDragStartHandlers.endX,\n      onTravellerMoveKeyboard: this.handleTravellerMoveKeyboard,\n      onFocus: () => {\n        this.setState({\n          isTravellerFocused: true\n        });\n      },\n      onBlur: () => {\n        this.setState({\n          isTravellerFocused: false\n        });\n      }\n    }), (isTextActive || isSlideMoving || isTravellerMoving || isTravellerFocused || alwaysShowText) && /*#__PURE__*/React.createElement(BrushText, {\n      startIndex: startIndex,\n      endIndex: endIndex,\n      y: calculatedY,\n      height: height,\n      travellerWidth: travellerWidth,\n      stroke: stroke,\n      tickFormatter: tickFormatter,\n      dataKey: dataKey,\n      data: data,\n      startX: startX,\n      endX: endX\n    }));\n  }\n}\nfunction BrushInternal(props) {\n  var dispatch = useAppDispatch();\n  var chartData = useChartData();\n  var dataIndexes = useDataIndex();\n  var onChangeFromContext = useContext(BrushUpdateDispatchContext);\n  var onChangeFromProps = props.onChange;\n  var {\n    startIndex: startIndexFromProps,\n    endIndex: endIndexFromProps\n  } = props;\n  useEffect(() => {\n    // start and end index can be controlled from props, and we need them to stay up-to-date in the Redux state too\n    dispatch(setDataStartEndIndexes({\n      startIndex: startIndexFromProps,\n      endIndex: endIndexFromProps\n    }));\n  }, [dispatch, endIndexFromProps, startIndexFromProps]);\n  useBrushChartSynchronisation();\n  var onChange = useCallback(nextState => {\n    if (dataIndexes == null) {\n      return;\n    }\n    var {\n      startIndex,\n      endIndex\n    } = dataIndexes;\n    if (nextState.startIndex !== startIndex || nextState.endIndex !== endIndex) {\n      onChangeFromContext === null || onChangeFromContext === void 0 || onChangeFromContext(nextState);\n      onChangeFromProps === null || onChangeFromProps === void 0 || onChangeFromProps(nextState);\n      dispatch(setDataStartEndIndexes(nextState));\n    }\n  }, [onChangeFromProps, onChangeFromContext, dispatch, dataIndexes]);\n  var brushDimensions = useAppSelector(selectBrushDimensions);\n  if (brushDimensions == null || dataIndexes == null || chartData == null || !chartData.length) {\n    return null;\n  }\n  var {\n    startIndex,\n    endIndex\n  } = dataIndexes;\n  var {\n    x,\n    y,\n    width\n  } = brushDimensions;\n  var contextProperties = {\n    data: chartData,\n    x,\n    y,\n    width,\n    startIndex,\n    endIndex,\n    onChange\n  };\n  return /*#__PURE__*/React.createElement(BrushWithState, _extends({}, props, contextProperties, {\n    startIndexControlledFromProps: startIndexFromProps !== null && startIndexFromProps !== void 0 ? startIndexFromProps : undefined,\n    endIndexControlledFromProps: endIndexFromProps !== null && endIndexFromProps !== void 0 ? endIndexFromProps : undefined\n  }));\n}\nfunction BrushSettingsDispatcher(props) {\n  var dispatch = useAppDispatch();\n  useEffect(() => {\n    dispatch(setBrushSettings(props));\n    return () => {\n      dispatch(setBrushSettings(null));\n    };\n  }, [dispatch, props]);\n  return null;\n}\nexport var defaultBrushProps = {\n  height: 40,\n  travellerWidth: 5,\n  gap: 1,\n  fill: '#fff',\n  stroke: '#666',\n  padding: {\n    top: 1,\n    right: 1,\n    bottom: 1,\n    left: 1\n  },\n  leaveTimeOut: 1000,\n  alwaysShowText: false\n};\nexport function Brush(outsideProps) {\n  var props = resolveDefaultProps(outsideProps, defaultBrushProps);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(BrushSettingsDispatcher, {\n    height: props.height,\n    x: props.x,\n    y: props.y,\n    width: props.width,\n    padding: props.padding\n  }), /*#__PURE__*/React.createElement(BrushInternal, props));\n}\nBrush.displayName = 'Brush';"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}