{"ast":null,"code":"function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e;}function _toPropertyKey(t){var i=_toPrimitive(t,\"string\");return\"symbol\"==typeof i?i:i+\"\";}function _toPrimitive(t,r){if(\"object\"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||\"default\");if(\"object\"!=typeof i)return i;throw new TypeError(\"@@toPrimitive must return a primitive value.\");}return(\"string\"===r?String:Number)(t);}import{createSelector}from'reselect';import range from'es-toolkit/compat/range';import*as d3Scales from'victory-vendor/d3-scale';import{selectChartLayout}from'../../context/chartLayoutContext';import{checkDomainOfScale,getDomainOfStackGroups,getStackedData,getValueByDataKey,isCategoricalAxis}from'../../util/ChartUtils';import{selectChartDataWithIndexes,selectChartDataWithIndexesIfNotInPanorama}from'./dataSelectors';import{isWellFormedNumberDomain,numericalDomainSpecifiedWithoutRequiringData,parseNumericalUserDomain}from'../../util/isDomainSpecifiedByUser';import{getPercentValue,hasDuplicate,isNan,isNumber,isNumOrStr,mathSign,upperFirst,isNotNil}from'../../util/DataUtils';import{isWellBehavedNumber}from'../../util/isWellBehavedNumber';import{getNiceTickValues,getTickValuesFixedDomain}from'../../util/scale';import{selectChartHeight,selectChartWidth}from'./containerSelectors';import{selectAllXAxes,selectAllYAxes}from'./selectAllAxes';import{selectChartOffsetInternal}from'./selectChartOffsetInternal';import{selectBrushDimensions,selectBrushSettings}from'./brushSelectors';import{selectBarCategoryGap,selectChartName,selectReverseStackOrder,selectStackOffsetType}from'./rootPropsSelectors';import{selectAngleAxis,selectAngleAxisRange,selectRadiusAxis,selectRadiusAxisRange}from'./polarAxisSelectors';import{pickAxisType}from'./pickAxisType';import{pickAxisId}from'./pickAxisId';import{combineAxisRangeWithReverse}from'./combiners/combineAxisRangeWithReverse';import{DEFAULT_Y_AXIS_WIDTH}from'../../util/Constants';import{getStackSeriesIdentifier}from'../../util/stacks/getStackSeriesIdentifier';import{combineDisplayedStackedData}from'./combiners/combineDisplayedStackedData';import{isStacked}from'../types/StackedGraphicalItem';import{numberDomainEqualityCheck}from'./numberDomainEqualityCheck';import{emptyArraysAreEqualCheck}from'./arrayEqualityCheck';import{selectTooltipAxisType}from'./selectTooltipAxisType';import{selectTooltipAxisId}from'./selectTooltipAxisId';export var defaultNumericDomain=[0,'auto'];/**\n * If an axis is not explicitly defined as an element,\n * we still need to render something in the chart and we need\n * some object to hold the domain and default settings.\n */export var implicitXAxis={allowDataOverflow:false,allowDecimals:true,allowDuplicatedCategory:true,angle:0,dataKey:undefined,domain:undefined,height:30,hide:true,id:0,includeHidden:false,interval:'preserveEnd',minTickGap:5,mirror:false,name:undefined,orientation:'bottom',padding:{left:0,right:0},reversed:false,scale:'auto',tick:true,tickCount:5,tickFormatter:undefined,ticks:undefined,type:'category',unit:undefined};export var selectXAxisSettingsNoDefaults=(state,axisId)=>{return state.cartesianAxis.xAxis[axisId];};export var selectXAxisSettings=(state,axisId)=>{var axis=selectXAxisSettingsNoDefaults(state,axisId);if(axis==null){return implicitXAxis;}return axis;};/**\n * If an axis is not explicitly defined as an element,\n * we still need to render something in the chart and we need\n * some object to hold the domain and default settings.\n */export var implicitYAxis={allowDataOverflow:false,allowDecimals:true,allowDuplicatedCategory:true,angle:0,dataKey:undefined,domain:defaultNumericDomain,hide:true,id:0,includeHidden:false,interval:'preserveEnd',minTickGap:5,mirror:false,name:undefined,orientation:'left',padding:{top:0,bottom:0},reversed:false,scale:'auto',tick:true,tickCount:5,tickFormatter:undefined,ticks:undefined,type:'number',unit:undefined,width:DEFAULT_Y_AXIS_WIDTH};export var selectYAxisSettingsNoDefaults=(state,axisId)=>{return state.cartesianAxis.yAxis[axisId];};export var selectYAxisSettings=(state,axisId)=>{var axis=selectYAxisSettingsNoDefaults(state,axisId);if(axis==null){return implicitYAxis;}return axis;};export var implicitZAxis={domain:[0,'auto'],includeHidden:false,reversed:false,allowDataOverflow:false,allowDuplicatedCategory:false,dataKey:undefined,id:0,name:'',range:[64,64],scale:'auto',type:'number',unit:''};export var selectZAxisSettings=(state,axisId)=>{var axis=state.cartesianAxis.zAxis[axisId];if(axis==null){return implicitZAxis;}return axis;};export var selectBaseAxis=(state,axisType,axisId)=>{switch(axisType){case'xAxis':{return selectXAxisSettings(state,axisId);}case'yAxis':{return selectYAxisSettings(state,axisId);}case'zAxis':{return selectZAxisSettings(state,axisId);}case'angleAxis':{return selectAngleAxis(state,axisId);}case'radiusAxis':{return selectRadiusAxis(state,axisId);}default:throw new Error(\"Unexpected axis type: \".concat(axisType));}};var selectCartesianAxisSettings=(state,axisType,axisId)=>{switch(axisType){case'xAxis':{return selectXAxisSettings(state,axisId);}case'yAxis':{return selectYAxisSettings(state,axisId);}default:throw new Error(\"Unexpected axis type: \".concat(axisType));}};/**\n * Selects either an X or Y axis. Doesn't work with Z axis - for that, instead use selectBaseAxis.\n * @param state Root state\n * @param axisType xAxis | yAxis\n * @param axisId xAxisId | yAxisId\n * @returns axis settings object\n */export var selectAxisSettings=(state,axisType,axisId)=>{switch(axisType){case'xAxis':{return selectXAxisSettings(state,axisId);}case'yAxis':{return selectYAxisSettings(state,axisId);}case'angleAxis':{return selectAngleAxis(state,axisId);}case'radiusAxis':{return selectRadiusAxis(state,axisId);}default:throw new Error(\"Unexpected axis type: \".concat(axisType));}};/**\n * @param state RechartsRootState\n * @return boolean true if there is at least one Bar or RadialBar\n */export var selectHasBar=state=>state.graphicalItems.cartesianItems.some(item=>item.type==='bar')||state.graphicalItems.polarItems.some(item=>item.type==='radialBar');/**\n * Filters CartesianGraphicalItemSettings by the relevant axis ID\n * @param axisType 'xAxis' | 'yAxis' | 'zAxis' | 'radiusAxis' | 'angleAxis'\n * @param axisId from props, defaults to 0\n *\n * @returns Predicate function that return true for CartesianGraphicalItemSettings that are relevant to the specified axis\n */export function itemAxisPredicate(axisType,axisId){return item=>{switch(axisType){case'xAxis':// This is sensitive to the data type, as 0 !== '0'. I wonder if we should be more flexible. How does 2.x branch behave? TODO write test for that\nreturn'xAxisId'in item&&item.xAxisId===axisId;case'yAxis':return'yAxisId'in item&&item.yAxisId===axisId;case'zAxis':return'zAxisId'in item&&item.zAxisId===axisId;case'angleAxis':return'angleAxisId'in item&&item.angleAxisId===axisId;case'radiusAxis':return'radiusAxisId'in item&&item.radiusAxisId===axisId;default:return false;}};}export var selectUnfilteredCartesianItems=state=>state.graphicalItems.cartesianItems;var selectAxisPredicate=createSelector([pickAxisType,pickAxisId],itemAxisPredicate);export var combineGraphicalItemsSettings=(graphicalItems,axisSettings,axisPredicate)=>graphicalItems.filter(axisPredicate).filter(item=>{if((axisSettings===null||axisSettings===void 0?void 0:axisSettings.includeHidden)===true){return true;}return!item.hide;});export var selectCartesianItemsSettings=createSelector([selectUnfilteredCartesianItems,selectBaseAxis,selectAxisPredicate],combineGraphicalItemsSettings,{memoizeOptions:{resultEqualityCheck:emptyArraysAreEqualCheck}});export var selectStackedCartesianItemsSettings=createSelector([selectCartesianItemsSettings],cartesianItems=>{return cartesianItems.filter(item=>item.type==='area'||item.type==='bar').filter(isStacked);});export var filterGraphicalNotStackedItems=cartesianItems=>cartesianItems.filter(item=>!('stackId'in item)||item.stackId===undefined);var selectCartesianItemsSettingsExceptStacked=createSelector([selectCartesianItemsSettings],filterGraphicalNotStackedItems);export var combineGraphicalItemsData=cartesianItems=>cartesianItems.map(item=>item.data).filter(Boolean).flat(1);/**\n * This is a \"cheap\" selector - it returns the data but doesn't iterate them, so it is not sensitive on the array length.\n * Also does not apply dataKey yet.\n * @param state RechartsRootState\n * @returns data defined on the chart graphical items, such as Line or Scatter or Pie, and filtered with appropriate dataKey\n */export var selectCartesianGraphicalItemsData=createSelector([selectCartesianItemsSettings],combineGraphicalItemsData,{memoizeOptions:{resultEqualityCheck:emptyArraysAreEqualCheck}});export var combineDisplayedData=(graphicalItemsData,_ref)=>{var{chartData=[],dataStartIndex,dataEndIndex}=_ref;if(graphicalItemsData.length>0){/*\n     * There is no slicing when data is defined on graphical items. Why?\n     * Because Brush ignores data defined on graphical items,\n     * and does not render.\n     * So Brush will never show up in a Scatter chart for example.\n     * This is something we will need to fix.\n     *\n     * Now, when the root chart data is not defined, the dataEndIndex is 0,\n     * which means the itemsData will be sliced to an empty array anyway.\n     * But that's an implementation detail, and we can fix that too.\n     *\n     * Also, in absence of Axis dataKey, we use the dataKey from each item, respectively.\n     * This is the usual pattern for numerical axis, that is the one where bars go up:\n     * users don't specify any dataKey by default and expect the axis to \"just match the data\".\n     */return graphicalItemsData;}return chartData.slice(dataStartIndex,dataEndIndex+1);};/**\n * This selector will return all data there is in the chart: graphical items, chart root, all together.\n * Useful for figuring out an axis domain (because that needs to know of everything),\n * not useful for rendering individual graphical elements (because they need to know which data is theirs and which is not).\n *\n * This function will discard the original indexes, so it is also not useful for anything that depends on ordering.\n */export var selectDisplayedData=createSelector([selectCartesianGraphicalItemsData,selectChartDataWithIndexesIfNotInPanorama],combineDisplayedData);export var combineAppliedValues=(data,axisSettings,items)=>{if((axisSettings===null||axisSettings===void 0?void 0:axisSettings.dataKey)!=null){return data.map(item=>({value:getValueByDataKey(item,axisSettings.dataKey)}));}if(items.length>0){return items.map(item=>item.dataKey).flatMap(dataKey=>data.map(entry=>({value:getValueByDataKey(entry,dataKey)})));}return data.map(entry=>({value:entry}));};/**\n * This selector will return all values with the appropriate dataKey applied on them.\n * Which dataKey is appropriate depends on where it is defined.\n *\n * This is an expensive selector - it will iterate all data and compute their value using the provided dataKey.\n */export var selectAllAppliedValues=createSelector([selectDisplayedData,selectBaseAxis,selectCartesianItemsSettings],combineAppliedValues);export function isErrorBarRelevantForAxisType(axisType,errorBar){switch(axisType){case'xAxis':return errorBar.direction==='x';case'yAxis':return errorBar.direction==='y';default:return false;}}/**\n * This is type of \"error\" in chart. It is set by using ErrorBar, and it can represent confidence interval,\n * or gap in the data, or standard deviation, or quartiles in boxplot, or whiskers or whatever.\n *\n * We will internally represent it as a tuple of two numbers, where the first number is the lower bound and the second number is the upper bound.\n *\n * It is also true that the first number should be lower than or equal to the associated \"main value\",\n * and the second number should be higher than or equal to the associated \"main value\".\n */export function fromMainValueToError(value){if(isNumber(value)&&Number.isFinite(value)){return[value,value];}if(Array.isArray(value)){var minError=Math.min(...value);var maxError=Math.max(...value);if(!isNan(minError)&&!isNan(maxError)&&Number.isFinite(minError)&&Number.isFinite(maxError)){return[minError,maxError];}}return undefined;}function makeNumber(val){if(isNumOrStr(val)||val instanceof Date){var n=Number(val);if(isWellBehavedNumber(n)){return n;}}return undefined;}function makeDomain(val){if(Array.isArray(val)){var attempt=[makeNumber(val[0]),makeNumber(val[1])];if(isWellFormedNumberDomain(attempt)){return attempt;}return undefined;}var n=makeNumber(val);if(n==null){return undefined;}return[n,n];}function onlyAllowNumbers(data){return data.map(makeNumber).filter(isNotNil);}/**\n * @param entry One item in the 'data' array. Could be anything really - this is defined externally. This is the raw, before dataKey application\n * @param appliedValue This is the result of applying the 'main' dataKey on the `entry`.\n * @param relevantErrorBars Error bars that are relevant for the current axis and layout and all that.\n * @return either undefined or an array of ErrorValue\n */export function getErrorDomainByDataKey(entry,appliedValue,relevantErrorBars){if(!relevantErrorBars||typeof appliedValue!=='number'||isNan(appliedValue)){return[];}if(!relevantErrorBars.length){return[];}return onlyAllowNumbers(relevantErrorBars.flatMap(eb=>{var errorValue=getValueByDataKey(entry,eb.dataKey);var lowBound,highBound;if(Array.isArray(errorValue)){[lowBound,highBound]=errorValue;}else{lowBound=highBound=errorValue;}if(!isWellBehavedNumber(lowBound)||!isWellBehavedNumber(highBound)){return undefined;}return[appliedValue-lowBound,appliedValue+highBound];}));}export var selectTooltipAxis=state=>{var axisType=selectTooltipAxisType(state);var axisId=selectTooltipAxisId(state);return selectAxisSettings(state,axisType,axisId);};export var selectTooltipAxisDataKey=createSelector([selectTooltipAxis],axis=>axis===null||axis===void 0?void 0:axis.dataKey);export var selectDisplayedStackedData=createSelector([selectStackedCartesianItemsSettings,selectChartDataWithIndexesIfNotInPanorama,selectTooltipAxis],combineDisplayedStackedData);export var combineStackGroups=(displayedData,items,stackOffsetType,reverseStackOrder)=>{var initialItemsGroups={};var itemsGroup=items.reduce((acc,item)=>{if(item.stackId==null){return acc;}if(acc[item.stackId]==null){acc[item.stackId]=[];}acc[item.stackId].push(item);return acc;},initialItemsGroups);return Object.fromEntries(Object.entries(itemsGroup).map(_ref2=>{var[stackId,graphicalItems]=_ref2;var orderedGraphicalItems=reverseStackOrder?[...graphicalItems].reverse():graphicalItems;var dataKeys=orderedGraphicalItems.map(getStackSeriesIdentifier);return[stackId,{// @ts-expect-error getStackedData requires that the input is array of objects, Recharts does not test for that\nstackedData:getStackedData(displayedData,dataKeys,stackOffsetType),graphicalItems:orderedGraphicalItems}];}));};/**\n * Stack groups are groups of graphical items that stack on each other.\n * Stack is a function of axis type (X, Y), axis ID, and stack ID.\n * Graphical items that do not have a stack ID are not going to be present in stack groups.\n */export var selectStackGroups=createSelector([selectDisplayedStackedData,selectStackedCartesianItemsSettings,selectStackOffsetType,selectReverseStackOrder],combineStackGroups);export var combineDomainOfStackGroups=(stackGroups,_ref3,axisType,domainFromUserPreference)=>{var{dataStartIndex,dataEndIndex}=_ref3;if(domainFromUserPreference!=null){// User has specified a domain, so we respect that and we can skip computing anything else\nreturn undefined;}if(axisType==='zAxis'){// ZAxis ignores stacks\nreturn undefined;}var domainOfStackGroups=getDomainOfStackGroups(stackGroups,dataStartIndex,dataEndIndex);if(domainOfStackGroups!=null&&domainOfStackGroups[0]===0&&domainOfStackGroups[1]===0){return undefined;}return domainOfStackGroups;};var selectAllowsDataOverflow=createSelector([selectBaseAxis],axisSettings=>axisSettings.allowDataOverflow);export var getDomainDefinition=axisSettings=>{var _axisSettings$domain;if(axisSettings==null||!('domain'in axisSettings)){return defaultNumericDomain;}if(axisSettings.domain!=null){return axisSettings.domain;}if(axisSettings.ticks!=null){if(axisSettings.type==='number'){var allValues=onlyAllowNumbers(axisSettings.ticks);return[Math.min(...allValues),Math.max(...allValues)];}if(axisSettings.type==='category'){return axisSettings.ticks.map(String);}}return(_axisSettings$domain=axisSettings===null||axisSettings===void 0?void 0:axisSettings.domain)!==null&&_axisSettings$domain!==void 0?_axisSettings$domain:defaultNumericDomain;};export var selectDomainDefinition=createSelector([selectBaseAxis],getDomainDefinition);/**\n * Under certain circumstances, we can determine the domain without looking at the data at all.\n * This is the case when the domain is explicitly specified as numbers, or when it is specified\n * as 'auto' or 'dataMin'/'dataMax' and data overflow is not allowed.\n *\n * In that case, this function will return the domain, otherwise it returns undefined.\n *\n * This is an optimization to avoid unnecessary data processing.\n * @param state\n * @param axisType\n * @param axisId\n * @param isPanorama\n */export var selectDomainFromUserPreference=createSelector([selectDomainDefinition,selectAllowsDataOverflow],numericalDomainSpecifiedWithoutRequiringData);export var selectDomainOfStackGroups=createSelector([selectStackGroups,selectChartDataWithIndexes,pickAxisType,selectDomainFromUserPreference],combineDomainOfStackGroups,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}});export var selectAllErrorBarSettings=state=>state.errorBars;var combineRelevantErrorBarSettings=(cartesianItemsSettings,allErrorBarSettings,axisType)=>{return cartesianItemsSettings.flatMap(item=>{return allErrorBarSettings[item.id];}).filter(Boolean).filter(e=>{return isErrorBarRelevantForAxisType(axisType,e);});};export var mergeDomains=function mergeDomains(){for(var _len=arguments.length,domains=new Array(_len),_key=0;_key<_len;_key++){domains[_key]=arguments[_key];}var allDomains=domains.filter(Boolean);if(allDomains.length===0){return undefined;}var allValues=allDomains.flat();var min=Math.min(...allValues);var max=Math.max(...allValues);return[min,max];};export var combineDomainOfAllAppliedNumericalValuesIncludingErrorValues=(data,axisSettings,items,errorBars,axisType)=>{var lowerEnd,upperEnd;if(items.length>0){data.forEach(entry=>{items.forEach(item=>{var _errorBars$item$id,_axisSettings$dataKey;var relevantErrorBars=(_errorBars$item$id=errorBars[item.id])===null||_errorBars$item$id===void 0?void 0:_errorBars$item$id.filter(errorBar=>isErrorBarRelevantForAxisType(axisType,errorBar));var valueByDataKey=getValueByDataKey(entry,(_axisSettings$dataKey=axisSettings.dataKey)!==null&&_axisSettings$dataKey!==void 0?_axisSettings$dataKey:item.dataKey);var errorDomain=getErrorDomainByDataKey(entry,valueByDataKey,relevantErrorBars);if(errorDomain.length>=2){var localLower=Math.min(...errorDomain);var localUpper=Math.max(...errorDomain);if(lowerEnd==null||localLower<lowerEnd){lowerEnd=localLower;}if(upperEnd==null||localUpper>upperEnd){upperEnd=localUpper;}}var dataValueDomain=makeDomain(valueByDataKey);if(dataValueDomain!=null){lowerEnd=lowerEnd==null?dataValueDomain[0]:Math.min(lowerEnd,dataValueDomain[0]);upperEnd=upperEnd==null?dataValueDomain[1]:Math.max(upperEnd,dataValueDomain[1]);}});});}if((axisSettings===null||axisSettings===void 0?void 0:axisSettings.dataKey)!=null){data.forEach(item=>{var dataValueDomain=makeDomain(getValueByDataKey(item,axisSettings.dataKey));if(dataValueDomain!=null){lowerEnd=lowerEnd==null?dataValueDomain[0]:Math.min(lowerEnd,dataValueDomain[0]);upperEnd=upperEnd==null?dataValueDomain[1]:Math.max(upperEnd,dataValueDomain[1]);}});}if(isWellBehavedNumber(lowerEnd)&&isWellBehavedNumber(upperEnd)){return[lowerEnd,upperEnd];}return undefined;};var selectDomainOfAllAppliedNumericalValuesIncludingErrorValues=createSelector([selectDisplayedData,selectBaseAxis,selectCartesianItemsSettingsExceptStacked,selectAllErrorBarSettings,pickAxisType],combineDomainOfAllAppliedNumericalValuesIncludingErrorValues,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}});function onlyAllowNumbersAndStringsAndDates(item){var{value}=item;if(isNumOrStr(value)||value instanceof Date){return value;}return undefined;}var computeDomainOfTypeCategory=(allDataSquished,axisSettings,isCategorical)=>{var categoricalDomain=allDataSquished.map(onlyAllowNumbersAndStringsAndDates).filter(v=>v!=null);if(isCategorical&&(axisSettings.dataKey==null||axisSettings.allowDuplicatedCategory&&hasDuplicate(categoricalDomain))){/*\n     * 1. In an absence of dataKey, Recharts will use array indexes as its categorical domain\n     * 2. When category axis has duplicated text, serial numbers are used to generate scale\n     */return range(0,allDataSquished.length);}if(axisSettings.allowDuplicatedCategory){return categoricalDomain;}return Array.from(new Set(categoricalDomain));};export var selectReferenceDots=state=>state.referenceElements.dots;export var filterReferenceElements=(elements,axisType,axisId)=>{return elements.filter(el=>el.ifOverflow==='extendDomain').filter(el=>{if(axisType==='xAxis'){return el.xAxisId===axisId;}return el.yAxisId===axisId;});};export var selectReferenceDotsByAxis=createSelector([selectReferenceDots,pickAxisType,pickAxisId],filterReferenceElements);export var selectReferenceAreas=state=>state.referenceElements.areas;export var selectReferenceAreasByAxis=createSelector([selectReferenceAreas,pickAxisType,pickAxisId],filterReferenceElements);export var selectReferenceLines=state=>state.referenceElements.lines;export var selectReferenceLinesByAxis=createSelector([selectReferenceLines,pickAxisType,pickAxisId],filterReferenceElements);export var combineDotsDomain=(dots,axisType)=>{var allCoords=onlyAllowNumbers(dots.map(dot=>axisType==='xAxis'?dot.x:dot.y));if(allCoords.length===0){return undefined;}return[Math.min(...allCoords),Math.max(...allCoords)];};var selectReferenceDotsDomain=createSelector(selectReferenceDotsByAxis,pickAxisType,combineDotsDomain);export var combineAreasDomain=(areas,axisType)=>{var allCoords=onlyAllowNumbers(areas.flatMap(area=>[axisType==='xAxis'?area.x1:area.y1,axisType==='xAxis'?area.x2:area.y2]));if(allCoords.length===0){return undefined;}return[Math.min(...allCoords),Math.max(...allCoords)];};var selectReferenceAreasDomain=createSelector([selectReferenceAreasByAxis,pickAxisType],combineAreasDomain);function extractXCoordinates(line){var _line$segment;if(line.x!=null){return onlyAllowNumbers([line.x]);}var segmentCoordinates=(_line$segment=line.segment)===null||_line$segment===void 0?void 0:_line$segment.map(s=>s.x);if(segmentCoordinates==null||segmentCoordinates.length===0){return[];}return onlyAllowNumbers(segmentCoordinates);}function extractYCoordinates(line){var _line$segment2;if(line.y!=null){return onlyAllowNumbers([line.y]);}var segmentCoordinates=(_line$segment2=line.segment)===null||_line$segment2===void 0?void 0:_line$segment2.map(s=>s.y);if(segmentCoordinates==null||segmentCoordinates.length===0){return[];}return onlyAllowNumbers(segmentCoordinates);}export var combineLinesDomain=(lines,axisType)=>{var allCoords=lines.flatMap(line=>axisType==='xAxis'?extractXCoordinates(line):extractYCoordinates(line));if(allCoords.length===0){return undefined;}return[Math.min(...allCoords),Math.max(...allCoords)];};var selectReferenceLinesDomain=createSelector([selectReferenceLinesByAxis,pickAxisType],combineLinesDomain);var selectReferenceElementsDomain=createSelector(selectReferenceDotsDomain,selectReferenceLinesDomain,selectReferenceAreasDomain,(dotsDomain,linesDomain,areasDomain)=>{return mergeDomains(dotsDomain,areasDomain,linesDomain);});export var combineNumericalDomain=(axisSettings,domainDefinition,domainFromUserPreference,domainOfStackGroups,dataAndErrorBarsDomain,referenceElementsDomain,layout,axisType)=>{if(domainFromUserPreference!=null){// We're done! No need to compute anything else.\nreturn domainFromUserPreference;}var shouldIncludeDomainOfStackGroups=layout==='vertical'&&axisType==='xAxis'||layout==='horizontal'&&axisType==='yAxis';var mergedDomains=shouldIncludeDomainOfStackGroups?mergeDomains(domainOfStackGroups,referenceElementsDomain,dataAndErrorBarsDomain):mergeDomains(referenceElementsDomain,dataAndErrorBarsDomain);return parseNumericalUserDomain(domainDefinition,mergedDomains,axisSettings.allowDataOverflow);};export var selectNumericalDomain=createSelector([selectBaseAxis,selectDomainDefinition,selectDomainFromUserPreference,selectDomainOfStackGroups,selectDomainOfAllAppliedNumericalValuesIncludingErrorValues,selectReferenceElementsDomain,selectChartLayout,pickAxisType],combineNumericalDomain,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}});/**\n * Expand by design maps everything between 0 and 1,\n * there is nothing to compute.\n * See https://d3js.org/d3-shape/stack#stack-offsets\n */var expandDomain=[0,1];export var combineAxisDomain=(axisSettings,layout,displayedData,allAppliedValues,stackOffsetType,axisType,numericalDomain)=>{if((axisSettings==null||displayedData==null||displayedData.length===0)&&numericalDomain===undefined){return undefined;}var{dataKey,type}=axisSettings;var isCategorical=isCategoricalAxis(layout,axisType);if(isCategorical&&dataKey==null){var _displayedData$length;return range(0,(_displayedData$length=displayedData===null||displayedData===void 0?void 0:displayedData.length)!==null&&_displayedData$length!==void 0?_displayedData$length:0);}if(type==='category'){return computeDomainOfTypeCategory(allAppliedValues,axisSettings,isCategorical);}if(stackOffsetType==='expand'){return expandDomain;}return numericalDomain;};export var selectAxisDomain=createSelector([selectBaseAxis,selectChartLayout,selectDisplayedData,selectAllAppliedValues,selectStackOffsetType,pickAxisType,selectNumericalDomain],combineAxisDomain);export var combineRealScaleType=(axisConfig,layout,hasBar,chartType,axisType)=>{if(axisConfig==null){return undefined;}var{scale,type}=axisConfig;if(scale==='auto'){if(layout==='radial'&&axisType==='radiusAxis'){return'band';}if(layout==='radial'&&axisType==='angleAxis'){return'linear';}if(type==='category'&&chartType&&(chartType.indexOf('LineChart')>=0||chartType.indexOf('AreaChart')>=0||chartType.indexOf('ComposedChart')>=0&&!hasBar)){return'point';}if(type==='category'){return'band';}return'linear';}if(typeof scale==='string'){var name=\"scale\".concat(upperFirst(scale));return name in d3Scales?name:'point';}return undefined;};export var selectRealScaleType=createSelector([selectBaseAxis,selectChartLayout,selectHasBar,selectChartName,pickAxisType],combineRealScaleType);function getD3ScaleFromType(realScaleType){if(realScaleType==null){return undefined;}if(realScaleType in d3Scales){// @ts-expect-error we should do better type verification here\nreturn d3Scales[realScaleType]();}var name=\"scale\".concat(upperFirst(realScaleType));if(name in d3Scales){// @ts-expect-error we should do better type verification here\nreturn d3Scales[name]();}return undefined;}export function combineScaleFunction(axis,realScaleType,axisDomain,axisRange){if(axisDomain==null||axisRange==null){return undefined;}if(typeof axis.scale==='function'){// @ts-expect-error we're going to assume here that if axis.scale is a function then it is a d3Scale function\nreturn axis.scale.copy().domain(axisDomain).range(axisRange);}var d3ScaleFunction=getD3ScaleFromType(realScaleType);if(d3ScaleFunction==null){return undefined;}var scale=d3ScaleFunction.domain(axisDomain).range(axisRange);// I don't like this function because it mutates the scale. We should come up with a way to compute the domain up front.\ncheckDomainOfScale(scale);return scale;}export var combineNiceTicks=(axisDomain,axisSettings,realScaleType)=>{var domainDefinition=getDomainDefinition(axisSettings);if(realScaleType!=='auto'&&realScaleType!=='linear'){return undefined;}if(axisSettings!=null&&axisSettings.tickCount&&Array.isArray(domainDefinition)&&(domainDefinition[0]==='auto'||domainDefinition[1]==='auto')&&isWellFormedNumberDomain(axisDomain)){return getNiceTickValues(axisDomain,axisSettings.tickCount,axisSettings.allowDecimals);}if(axisSettings!=null&&axisSettings.tickCount&&axisSettings.type==='number'&&isWellFormedNumberDomain(axisDomain)){return getTickValuesFixedDomain(axisDomain,axisSettings.tickCount,axisSettings.allowDecimals);}return undefined;};export var selectNiceTicks=createSelector([selectAxisDomain,selectAxisSettings,selectRealScaleType],combineNiceTicks);export var combineAxisDomainWithNiceTicks=(axisSettings,domain,niceTicks,axisType)=>{if(/*\n   * Angle axis for some reason uses nice ticks when rendering axis tick labels,\n   * but doesn't use nice ticks for extending domain like all the other axes do.\n   * Not really sure why? Is there a good reason,\n   * or is it just because someone added support for nice ticks to the other axes and forgot this one?\n   */axisType!=='angleAxis'&&(axisSettings===null||axisSettings===void 0?void 0:axisSettings.type)==='number'&&isWellFormedNumberDomain(domain)&&Array.isArray(niceTicks)&&niceTicks.length>0){var minFromDomain=domain[0];var minFromTicks=niceTicks[0];var maxFromDomain=domain[1];var maxFromTicks=niceTicks[niceTicks.length-1];return[Math.min(minFromDomain,minFromTicks),Math.max(maxFromDomain,maxFromTicks)];}return domain;};export var selectAxisDomainIncludingNiceTicks=createSelector([selectBaseAxis,selectAxisDomain,selectNiceTicks,pickAxisType],combineAxisDomainWithNiceTicks);/**\n * Returns the smallest gap, between two numbers in the data, as a ratio of the whole range (max - min).\n * Ignores domain provided by user and only considers domain from data.\n *\n * The result is a number between 0 and 1.\n */export var selectSmallestDistanceBetweenValues=createSelector(selectAllAppliedValues,selectBaseAxis,(allDataSquished,axisSettings)=>{if(!axisSettings||axisSettings.type!=='number'){return undefined;}var smallestDistanceBetweenValues=Infinity;var sortedValues=Array.from(onlyAllowNumbers(allDataSquished.map(d=>d.value))).sort((a,b)=>a-b);if(sortedValues.length<2){return Infinity;}var diff=sortedValues[sortedValues.length-1]-sortedValues[0];if(diff===0){return Infinity;}// Only do n - 1 distance calculations because there's only n - 1 distances between n values.\nfor(var i=0;i<sortedValues.length-1;i++){var distance=sortedValues[i+1]-sortedValues[i];smallestDistanceBetweenValues=Math.min(smallestDistanceBetweenValues,distance);}return smallestDistanceBetweenValues/diff;});var selectCalculatedPadding=createSelector(selectSmallestDistanceBetweenValues,selectChartLayout,selectBarCategoryGap,selectChartOffsetInternal,(_1,_2,_3,padding)=>padding,(smallestDistanceInPercent,layout,barCategoryGap,offset,padding)=>{if(!isWellBehavedNumber(smallestDistanceInPercent)){return 0;}var rangeWidth=layout==='vertical'?offset.height:offset.width;if(padding==='gap'){return smallestDistanceInPercent*rangeWidth/2;}if(padding==='no-gap'){var gap=getPercentValue(barCategoryGap,smallestDistanceInPercent*rangeWidth);var halfBand=smallestDistanceInPercent*rangeWidth/2;return halfBand-gap-(halfBand-gap)/rangeWidth*gap;}return 0;});export var selectCalculatedXAxisPadding=(state,axisId)=>{var xAxisSettings=selectXAxisSettings(state,axisId);if(xAxisSettings==null||typeof xAxisSettings.padding!=='string'){return 0;}return selectCalculatedPadding(state,'xAxis',axisId,xAxisSettings.padding);};export var selectCalculatedYAxisPadding=(state,axisId)=>{var yAxisSettings=selectYAxisSettings(state,axisId);if(yAxisSettings==null||typeof yAxisSettings.padding!=='string'){return 0;}return selectCalculatedPadding(state,'yAxis',axisId,yAxisSettings.padding);};var selectXAxisPadding=createSelector(selectXAxisSettings,selectCalculatedXAxisPadding,(xAxisSettings,calculated)=>{var _padding$left,_padding$right;if(xAxisSettings==null){return{left:0,right:0};}var{padding}=xAxisSettings;if(typeof padding==='string'){return{left:calculated,right:calculated};}return{left:((_padding$left=padding.left)!==null&&_padding$left!==void 0?_padding$left:0)+calculated,right:((_padding$right=padding.right)!==null&&_padding$right!==void 0?_padding$right:0)+calculated};});var selectYAxisPadding=createSelector(selectYAxisSettings,selectCalculatedYAxisPadding,(yAxisSettings,calculated)=>{var _padding$top,_padding$bottom;if(yAxisSettings==null){return{top:0,bottom:0};}var{padding}=yAxisSettings;if(typeof padding==='string'){return{top:calculated,bottom:calculated};}return{top:((_padding$top=padding.top)!==null&&_padding$top!==void 0?_padding$top:0)+calculated,bottom:((_padding$bottom=padding.bottom)!==null&&_padding$bottom!==void 0?_padding$bottom:0)+calculated};});export var combineXAxisRange=createSelector([selectChartOffsetInternal,selectXAxisPadding,selectBrushDimensions,selectBrushSettings,(_state,_axisId,isPanorama)=>isPanorama],(offset,padding,brushDimensions,_ref4,isPanorama)=>{var{padding:brushPadding}=_ref4;if(isPanorama){return[brushPadding.left,brushDimensions.width-brushPadding.right];}return[offset.left+padding.left,offset.left+offset.width-padding.right];});export var combineYAxisRange=createSelector([selectChartOffsetInternal,selectChartLayout,selectYAxisPadding,selectBrushDimensions,selectBrushSettings,(_state,_axisId,isPanorama)=>isPanorama],(offset,layout,padding,brushDimensions,_ref5,isPanorama)=>{var{padding:brushPadding}=_ref5;if(isPanorama){return[brushDimensions.height-brushPadding.bottom,brushPadding.top];}if(layout==='horizontal'){return[offset.top+offset.height-padding.bottom,offset.top+padding.top];}return[offset.top+padding.top,offset.top+offset.height-padding.bottom];});export var selectAxisRange=(state,axisType,axisId,isPanorama)=>{var _selectZAxisSettings;switch(axisType){case'xAxis':return combineXAxisRange(state,axisId,isPanorama);case'yAxis':return combineYAxisRange(state,axisId,isPanorama);case'zAxis':return(_selectZAxisSettings=selectZAxisSettings(state,axisId))===null||_selectZAxisSettings===void 0?void 0:_selectZAxisSettings.range;case'angleAxis':return selectAngleAxisRange(state);case'radiusAxis':return selectRadiusAxisRange(state,axisId);default:return undefined;}};export var selectAxisRangeWithReverse=createSelector([selectBaseAxis,selectAxisRange],combineAxisRangeWithReverse);export var selectAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomainIncludingNiceTicks,selectAxisRangeWithReverse],combineScaleFunction);export var selectErrorBarsSettings=createSelector([selectCartesianItemsSettings,selectAllErrorBarSettings,pickAxisType],combineRelevantErrorBarSettings);function compareIds(a,b){if(a.id<b.id){return-1;}if(a.id>b.id){return 1;}return 0;}var pickAxisOrientation=(_state,orientation)=>orientation;var pickMirror=(_state,_orientation,mirror)=>mirror;var selectAllXAxesWithOffsetType=createSelector(selectAllXAxes,pickAxisOrientation,pickMirror,(allAxes,orientation,mirror)=>allAxes.filter(axis=>axis.orientation===orientation).filter(axis=>axis.mirror===mirror).sort(compareIds));var selectAllYAxesWithOffsetType=createSelector(selectAllYAxes,pickAxisOrientation,pickMirror,(allAxes,orientation,mirror)=>allAxes.filter(axis=>axis.orientation===orientation).filter(axis=>axis.mirror===mirror).sort(compareIds));var getXAxisSize=(offset,axisSettings)=>{return{width:offset.width,height:axisSettings.height};};var getYAxisSize=(offset,axisSettings)=>{var width=typeof axisSettings.width==='number'?axisSettings.width:DEFAULT_Y_AXIS_WIDTH;return{width,height:offset.height};};export var selectXAxisSize=createSelector(selectChartOffsetInternal,selectXAxisSettings,getXAxisSize);var combineXAxisPositionStartingPoint=(offset,orientation,chartHeight)=>{switch(orientation){case'top':return offset.top;case'bottom':return chartHeight-offset.bottom;default:return 0;}};var combineYAxisPositionStartingPoint=(offset,orientation,chartWidth)=>{switch(orientation){case'left':return offset.left;case'right':return chartWidth-offset.right;default:return 0;}};export var selectAllXAxesOffsetSteps=createSelector(selectChartHeight,selectChartOffsetInternal,selectAllXAxesWithOffsetType,pickAxisOrientation,pickMirror,(chartHeight,offset,allAxesWithSameOffsetType,orientation,mirror)=>{var steps={};var position;allAxesWithSameOffsetType.forEach(axis=>{var axisSize=getXAxisSize(offset,axis);if(position==null){position=combineXAxisPositionStartingPoint(offset,orientation,chartHeight);}var needSpace=orientation==='top'&&!mirror||orientation==='bottom'&&mirror;steps[axis.id]=position-Number(needSpace)*axisSize.height;position+=(needSpace?-1:1)*axisSize.height;});return steps;});export var selectAllYAxesOffsetSteps=createSelector(selectChartWidth,selectChartOffsetInternal,selectAllYAxesWithOffsetType,pickAxisOrientation,pickMirror,(chartWidth,offset,allAxesWithSameOffsetType,orientation,mirror)=>{var steps={};var position;allAxesWithSameOffsetType.forEach(axis=>{var axisSize=getYAxisSize(offset,axis);if(position==null){position=combineYAxisPositionStartingPoint(offset,orientation,chartWidth);}var needSpace=orientation==='left'&&!mirror||orientation==='right'&&mirror;steps[axis.id]=position-Number(needSpace)*axisSize.width;position+=(needSpace?-1:1)*axisSize.width;});return steps;});var selectXAxisOffsetSteps=(state,axisId)=>{var axisSettings=selectXAxisSettings(state,axisId);if(axisSettings==null){return undefined;}return selectAllXAxesOffsetSteps(state,axisSettings.orientation,axisSettings.mirror);};export var selectXAxisPosition=createSelector([selectChartOffsetInternal,selectXAxisSettings,selectXAxisOffsetSteps,(_,axisId)=>axisId],(offset,axisSettings,allSteps,axisId)=>{if(axisSettings==null){return undefined;}var stepOfThisAxis=allSteps===null||allSteps===void 0?void 0:allSteps[axisId];if(stepOfThisAxis==null){return{x:offset.left,y:0};}return{x:offset.left,y:stepOfThisAxis};});var selectYAxisOffsetSteps=(state,axisId)=>{var axisSettings=selectYAxisSettings(state,axisId);if(axisSettings==null){return undefined;}return selectAllYAxesOffsetSteps(state,axisSettings.orientation,axisSettings.mirror);};export var selectYAxisPosition=createSelector([selectChartOffsetInternal,selectYAxisSettings,selectYAxisOffsetSteps,(_,axisId)=>axisId],(offset,axisSettings,allSteps,axisId)=>{if(axisSettings==null){return undefined;}var stepOfThisAxis=allSteps===null||allSteps===void 0?void 0:allSteps[axisId];if(stepOfThisAxis==null){return{x:0,y:offset.top};}return{x:stepOfThisAxis,y:offset.top};});export var selectYAxisSize=createSelector(selectChartOffsetInternal,selectYAxisSettings,(offset,axisSettings)=>{var width=typeof axisSettings.width==='number'?axisSettings.width:DEFAULT_Y_AXIS_WIDTH;return{width,height:offset.height};});export var selectCartesianAxisSize=(state,axisType,axisId)=>{switch(axisType){case'xAxis':{return selectXAxisSize(state,axisId).width;}case'yAxis':{return selectYAxisSize(state,axisId).height;}default:{return undefined;}}};export var combineDuplicateDomain=(chartLayout,appliedValues,axis,axisType)=>{if(axis==null){return undefined;}var{allowDuplicatedCategory,type,dataKey}=axis;var isCategorical=isCategoricalAxis(chartLayout,axisType);var allData=appliedValues.map(av=>av.value);if(dataKey&&isCategorical&&type==='category'&&allowDuplicatedCategory&&hasDuplicate(allData)){return allData;}return undefined;};export var selectDuplicateDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectBaseAxis,pickAxisType],combineDuplicateDomain);export var combineCategoricalDomain=(layout,appliedValues,axis,axisType)=>{if(axis==null||axis.dataKey==null){return undefined;}var{type,scale}=axis;var isCategorical=isCategoricalAxis(layout,axisType);if(isCategorical&&(type==='number'||scale!=='auto')){return appliedValues.map(d=>d.value);}return undefined;};export var selectCategoricalDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectAxisSettings,pickAxisType],combineCategoricalDomain);export var selectAxisPropsNeededForCartesianGridTicksGenerator=createSelector([selectChartLayout,selectCartesianAxisSettings,selectRealScaleType,selectAxisScale,selectDuplicateDomain,selectCategoricalDomain,selectAxisRange,selectNiceTicks,pickAxisType],(layout,axis,realScaleType,scale,duplicateDomain,categoricalDomain,axisRange,niceTicks,axisType)=>{if(axis==null){return undefined;}var isCategorical=isCategoricalAxis(layout,axisType);return{angle:axis.angle,interval:axis.interval,minTickGap:axis.minTickGap,orientation:axis.orientation,tick:axis.tick,tickCount:axis.tickCount,tickFormatter:axis.tickFormatter,ticks:axis.ticks,type:axis.type,unit:axis.unit,axisType,categoricalDomain,duplicateDomain,isCategorical,niceTicks,range:axisRange,realScaleType,scale};});export var combineAxisTicks=(layout,axis,realScaleType,scale,niceTicks,axisRange,duplicateDomain,categoricalDomain,axisType)=>{if(axis==null||scale==null){return undefined;}var isCategorical=isCategoricalAxis(layout,axisType);var{type,ticks,tickCount}=axis;// This is testing for `scaleBand` but for band axis the type is reported as `band` so this looks like a dead code with a workaround elsewhere?\nvar offsetForBand=realScaleType==='scaleBand'&&typeof scale.bandwidth==='function'?scale.bandwidth()/2:2;var offset=type==='category'&&scale.bandwidth?scale.bandwidth()/offsetForBand:0;offset=axisType==='angleAxis'&&axisRange!=null&&axisRange.length>=2?mathSign(axisRange[0]-axisRange[1])*2*offset:offset;// The ticks set by user should only affect the ticks adjacent to axis line\nvar ticksOrNiceTicks=ticks||niceTicks;if(ticksOrNiceTicks){var result=ticksOrNiceTicks.map((entry,index)=>{var scaleContent=duplicateDomain?duplicateDomain.indexOf(entry):entry;return{index,// If the scaleContent is not a number, the coordinate will be NaN.\n// That could be the case for example with a PointScale and a string as domain.\ncoordinate:scale(scaleContent)+offset,value:entry,offset};});return result.filter(row=>isWellBehavedNumber(row.coordinate));}// When axis is a categorical axis, but the type of axis is number or the scale of axis is not \"auto\"\nif(isCategorical&&categoricalDomain){return categoricalDomain.map((entry,index)=>({coordinate:scale(entry)+offset,value:entry,index,offset})).filter(row=>isWellBehavedNumber(row.coordinate));}if(scale.ticks){return scale.ticks(tickCount)// @ts-expect-error why does the offset go here? The type does not require it\n.map(entry=>({coordinate:scale(entry)+offset,value:entry,offset}));}// When axis has duplicated text, serial numbers are used to generate scale\nreturn scale.domain().map((entry,index)=>({coordinate:scale(entry)+offset,value:duplicateDomain?duplicateDomain[entry]:entry,index,offset}));};export var selectTicksOfAxis=createSelector([selectChartLayout,selectAxisSettings,selectRealScaleType,selectAxisScale,selectNiceTicks,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineAxisTicks);export var combineGraphicalItemTicks=(layout,axis,scale,axisRange,duplicateDomain,categoricalDomain,axisType)=>{if(axis==null||scale==null||axisRange==null||axisRange[0]===axisRange[1]){return undefined;}var isCategorical=isCategoricalAxis(layout,axisType);var{tickCount}=axis;var offset=0;offset=axisType==='angleAxis'&&(axisRange===null||axisRange===void 0?void 0:axisRange.length)>=2?mathSign(axisRange[0]-axisRange[1])*2*offset:offset;// When axis is a categorical axis, but the type of axis is number or the scale of axis is not \"auto\"\nif(isCategorical&&categoricalDomain){return categoricalDomain.map((entry,index)=>({coordinate:scale(entry)+offset,value:entry,index,offset}));}if(scale.ticks){return scale.ticks(tickCount)// @ts-expect-error why does the offset go here? The type does not require it\n.map(entry=>({coordinate:scale(entry)+offset,value:entry,offset}));}// When axis has duplicated text, serial numbers are used to generate scale\nreturn scale.domain().map((entry,index)=>({coordinate:scale(entry)+offset,value:duplicateDomain?duplicateDomain[entry]:entry,index,offset}));};export var selectTicksOfGraphicalItem=createSelector([selectChartLayout,selectAxisSettings,selectAxisScale,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineGraphicalItemTicks);export var selectAxisWithScale=createSelector(selectBaseAxis,selectAxisScale,(axis,scale)=>{if(axis==null||scale==null){return undefined;}return _objectSpread(_objectSpread({},axis),{},{scale});});var selectZAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomain,selectAxisRangeWithReverse],combineScaleFunction);export var selectZAxisWithScale=createSelector((state,_axisType,axisId)=>selectZAxisSettings(state,axisId),selectZAxisScale,(axis,scale)=>{if(axis==null||scale==null){return undefined;}return _objectSpread(_objectSpread({},axis),{},{scale});});/**\n * We are also going to need to implement polar chart directions if we want to support keyboard controls for those.\n */export var selectChartDirection=createSelector([selectChartLayout,selectAllXAxes,selectAllYAxes],(layout,allXAxes,allYAxes)=>{switch(layout){case'horizontal':{return allXAxes.some(axis=>axis.reversed)?'right-to-left':'left-to-right';}case'vertical':{return allYAxes.some(axis=>axis.reversed)?'bottom-to-top':'top-to-bottom';}// TODO: make this better. For now, right arrow triggers \"forward\", left arrow \"back\"\n// however, the tooltip moves an unintuitive direction because of how the indices are rendered\ncase'centric':case'radial':{return'left-to-right';}default:{return undefined;}}});","map":{"version":3,"names":["ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","call","TypeError","String","Number","createSelector","range","d3Scales","selectChartLayout","checkDomainOfScale","getDomainOfStackGroups","getStackedData","getValueByDataKey","isCategoricalAxis","selectChartDataWithIndexes","selectChartDataWithIndexesIfNotInPanorama","isWellFormedNumberDomain","numericalDomainSpecifiedWithoutRequiringData","parseNumericalUserDomain","getPercentValue","hasDuplicate","isNan","isNumber","isNumOrStr","mathSign","upperFirst","isNotNil","isWellBehavedNumber","getNiceTickValues","getTickValuesFixedDomain","selectChartHeight","selectChartWidth","selectAllXAxes","selectAllYAxes","selectChartOffsetInternal","selectBrushDimensions","selectBrushSettings","selectBarCategoryGap","selectChartName","selectReverseStackOrder","selectStackOffsetType","selectAngleAxis","selectAngleAxisRange","selectRadiusAxis","selectRadiusAxisRange","pickAxisType","pickAxisId","combineAxisRangeWithReverse","DEFAULT_Y_AXIS_WIDTH","getStackSeriesIdentifier","combineDisplayedStackedData","isStacked","numberDomainEqualityCheck","emptyArraysAreEqualCheck","selectTooltipAxisType","selectTooltipAxisId","defaultNumericDomain","implicitXAxis","allowDataOverflow","allowDecimals","allowDuplicatedCategory","angle","dataKey","undefined","domain","height","hide","id","includeHidden","interval","minTickGap","mirror","name","orientation","padding","left","right","reversed","scale","tick","tickCount","tickFormatter","ticks","type","unit","selectXAxisSettingsNoDefaults","state","axisId","cartesianAxis","xAxis","selectXAxisSettings","axis","implicitYAxis","top","bottom","width","selectYAxisSettingsNoDefaults","yAxis","selectYAxisSettings","implicitZAxis","selectZAxisSettings","zAxis","selectBaseAxis","axisType","Error","concat","selectCartesianAxisSettings","selectAxisSettings","selectHasBar","graphicalItems","cartesianItems","some","item","polarItems","itemAxisPredicate","xAxisId","yAxisId","zAxisId","angleAxisId","radiusAxisId","selectUnfilteredCartesianItems","selectAxisPredicate","combineGraphicalItemsSettings","axisSettings","axisPredicate","selectCartesianItemsSettings","memoizeOptions","resultEqualityCheck","selectStackedCartesianItemsSettings","filterGraphicalNotStackedItems","stackId","selectCartesianItemsSettingsExceptStacked","combineGraphicalItemsData","map","data","Boolean","flat","selectCartesianGraphicalItemsData","combineDisplayedData","graphicalItemsData","_ref","chartData","dataStartIndex","dataEndIndex","slice","selectDisplayedData","combineAppliedValues","items","flatMap","entry","selectAllAppliedValues","isErrorBarRelevantForAxisType","errorBar","direction","fromMainValueToError","isFinite","Array","isArray","minError","Math","min","maxError","max","makeNumber","val","Date","n","makeDomain","attempt","onlyAllowNumbers","getErrorDomainByDataKey","appliedValue","relevantErrorBars","eb","errorValue","lowBound","highBound","selectTooltipAxis","selectTooltipAxisDataKey","selectDisplayedStackedData","combineStackGroups","displayedData","stackOffsetType","reverseStackOrder","initialItemsGroups","itemsGroup","reduce","acc","fromEntries","entries","_ref2","orderedGraphicalItems","reverse","dataKeys","stackedData","selectStackGroups","combineDomainOfStackGroups","stackGroups","_ref3","domainFromUserPreference","domainOfStackGroups","selectAllowsDataOverflow","getDomainDefinition","_axisSettings$domain","allValues","selectDomainDefinition","selectDomainFromUserPreference","selectDomainOfStackGroups","selectAllErrorBarSettings","errorBars","combineRelevantErrorBarSettings","cartesianItemsSettings","allErrorBarSettings","mergeDomains","_len","domains","_key","allDomains","combineDomainOfAllAppliedNumericalValuesIncludingErrorValues","lowerEnd","upperEnd","_errorBars$item$id","_axisSettings$dataKey","valueByDataKey","errorDomain","localLower","localUpper","dataValueDomain","selectDomainOfAllAppliedNumericalValuesIncludingErrorValues","onlyAllowNumbersAndStringsAndDates","computeDomainOfTypeCategory","allDataSquished","isCategorical","categoricalDomain","v","from","Set","selectReferenceDots","referenceElements","dots","filterReferenceElements","elements","el","ifOverflow","selectReferenceDotsByAxis","selectReferenceAreas","areas","selectReferenceAreasByAxis","selectReferenceLines","lines","selectReferenceLinesByAxis","combineDotsDomain","allCoords","dot","x","y","selectReferenceDotsDomain","combineAreasDomain","area","x1","y1","x2","y2","selectReferenceAreasDomain","extractXCoordinates","line","_line$segment","segmentCoordinates","segment","s","extractYCoordinates","_line$segment2","combineLinesDomain","selectReferenceLinesDomain","selectReferenceElementsDomain","dotsDomain","linesDomain","areasDomain","combineNumericalDomain","domainDefinition","dataAndErrorBarsDomain","referenceElementsDomain","layout","shouldIncludeDomainOfStackGroups","mergedDomains","selectNumericalDomain","expandDomain","combineAxisDomain","allAppliedValues","numericalDomain","_displayedData$length","selectAxisDomain","combineRealScaleType","axisConfig","hasBar","chartType","indexOf","selectRealScaleType","getD3ScaleFromType","realScaleType","combineScaleFunction","axisDomain","axisRange","copy","d3ScaleFunction","combineNiceTicks","selectNiceTicks","combineAxisDomainWithNiceTicks","niceTicks","minFromDomain","minFromTicks","maxFromDomain","maxFromTicks","selectAxisDomainIncludingNiceTicks","selectSmallestDistanceBetweenValues","smallestDistanceBetweenValues","Infinity","sortedValues","d","sort","a","b","diff","distance","selectCalculatedPadding","_1","_2","_3","smallestDistanceInPercent","barCategoryGap","offset","rangeWidth","gap","halfBand","selectCalculatedXAxisPadding","xAxisSettings","selectCalculatedYAxisPadding","yAxisSettings","selectXAxisPadding","calculated","_padding$left","_padding$right","selectYAxisPadding","_padding$top","_padding$bottom","combineXAxisRange","_state","_axisId","isPanorama","brushDimensions","_ref4","brushPadding","combineYAxisRange","_ref5","selectAxisRange","_selectZAxisSettings","selectAxisRangeWithReverse","selectAxisScale","selectErrorBarsSettings","compareIds","pickAxisOrientation","pickMirror","_orientation","selectAllXAxesWithOffsetType","allAxes","selectAllYAxesWithOffsetType","getXAxisSize","getYAxisSize","selectXAxisSize","combineXAxisPositionStartingPoint","chartHeight","combineYAxisPositionStartingPoint","chartWidth","selectAllXAxesOffsetSteps","allAxesWithSameOffsetType","steps","position","axisSize","needSpace","selectAllYAxesOffsetSteps","selectXAxisOffsetSteps","selectXAxisPosition","_","allSteps","stepOfThisAxis","selectYAxisOffsetSteps","selectYAxisPosition","selectYAxisSize","selectCartesianAxisSize","combineDuplicateDomain","chartLayout","appliedValues","allData","av","selectDuplicateDomain","combineCategoricalDomain","selectCategoricalDomain","selectAxisPropsNeededForCartesianGridTicksGenerator","duplicateDomain","combineAxisTicks","offsetForBand","bandwidth","ticksOrNiceTicks","result","index","scaleContent","coordinate","row","selectTicksOfAxis","combineGraphicalItemTicks","selectTicksOfGraphicalItem","selectAxisWithScale","selectZAxisScale","selectZAxisWithScale","_axisType","selectChartDirection","allXAxes","allYAxes"],"sources":["E:/program/aidemo/dating-app/frontend/src/node_modules/recharts/es6/state/selectors/axisSelectors.js"],"sourcesContent":["function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport { createSelector } from 'reselect';\nimport range from 'es-toolkit/compat/range';\nimport * as d3Scales from 'victory-vendor/d3-scale';\nimport { selectChartLayout } from '../../context/chartLayoutContext';\nimport { checkDomainOfScale, getDomainOfStackGroups, getStackedData, getValueByDataKey, isCategoricalAxis } from '../../util/ChartUtils';\nimport { selectChartDataWithIndexes, selectChartDataWithIndexesIfNotInPanorama } from './dataSelectors';\nimport { isWellFormedNumberDomain, numericalDomainSpecifiedWithoutRequiringData, parseNumericalUserDomain } from '../../util/isDomainSpecifiedByUser';\nimport { getPercentValue, hasDuplicate, isNan, isNumber, isNumOrStr, mathSign, upperFirst, isNotNil } from '../../util/DataUtils';\nimport { isWellBehavedNumber } from '../../util/isWellBehavedNumber';\nimport { getNiceTickValues, getTickValuesFixedDomain } from '../../util/scale';\nimport { selectChartHeight, selectChartWidth } from './containerSelectors';\nimport { selectAllXAxes, selectAllYAxes } from './selectAllAxes';\nimport { selectChartOffsetInternal } from './selectChartOffsetInternal';\nimport { selectBrushDimensions, selectBrushSettings } from './brushSelectors';\nimport { selectBarCategoryGap, selectChartName, selectReverseStackOrder, selectStackOffsetType } from './rootPropsSelectors';\nimport { selectAngleAxis, selectAngleAxisRange, selectRadiusAxis, selectRadiusAxisRange } from './polarAxisSelectors';\nimport { pickAxisType } from './pickAxisType';\nimport { pickAxisId } from './pickAxisId';\nimport { combineAxisRangeWithReverse } from './combiners/combineAxisRangeWithReverse';\nimport { DEFAULT_Y_AXIS_WIDTH } from '../../util/Constants';\nimport { getStackSeriesIdentifier } from '../../util/stacks/getStackSeriesIdentifier';\nimport { combineDisplayedStackedData } from './combiners/combineDisplayedStackedData';\nimport { isStacked } from '../types/StackedGraphicalItem';\nimport { numberDomainEqualityCheck } from './numberDomainEqualityCheck';\nimport { emptyArraysAreEqualCheck } from './arrayEqualityCheck';\nimport { selectTooltipAxisType } from './selectTooltipAxisType';\nimport { selectTooltipAxisId } from './selectTooltipAxisId';\nexport var defaultNumericDomain = [0, 'auto'];\n/**\n * If an axis is not explicitly defined as an element,\n * we still need to render something in the chart and we need\n * some object to hold the domain and default settings.\n */\nexport var implicitXAxis = {\n  allowDataOverflow: false,\n  allowDecimals: true,\n  allowDuplicatedCategory: true,\n  angle: 0,\n  dataKey: undefined,\n  domain: undefined,\n  height: 30,\n  hide: true,\n  id: 0,\n  includeHidden: false,\n  interval: 'preserveEnd',\n  minTickGap: 5,\n  mirror: false,\n  name: undefined,\n  orientation: 'bottom',\n  padding: {\n    left: 0,\n    right: 0\n  },\n  reversed: false,\n  scale: 'auto',\n  tick: true,\n  tickCount: 5,\n  tickFormatter: undefined,\n  ticks: undefined,\n  type: 'category',\n  unit: undefined\n};\nexport var selectXAxisSettingsNoDefaults = (state, axisId) => {\n  return state.cartesianAxis.xAxis[axisId];\n};\nexport var selectXAxisSettings = (state, axisId) => {\n  var axis = selectXAxisSettingsNoDefaults(state, axisId);\n  if (axis == null) {\n    return implicitXAxis;\n  }\n  return axis;\n};\n\n/**\n * If an axis is not explicitly defined as an element,\n * we still need to render something in the chart and we need\n * some object to hold the domain and default settings.\n */\nexport var implicitYAxis = {\n  allowDataOverflow: false,\n  allowDecimals: true,\n  allowDuplicatedCategory: true,\n  angle: 0,\n  dataKey: undefined,\n  domain: defaultNumericDomain,\n  hide: true,\n  id: 0,\n  includeHidden: false,\n  interval: 'preserveEnd',\n  minTickGap: 5,\n  mirror: false,\n  name: undefined,\n  orientation: 'left',\n  padding: {\n    top: 0,\n    bottom: 0\n  },\n  reversed: false,\n  scale: 'auto',\n  tick: true,\n  tickCount: 5,\n  tickFormatter: undefined,\n  ticks: undefined,\n  type: 'number',\n  unit: undefined,\n  width: DEFAULT_Y_AXIS_WIDTH\n};\nexport var selectYAxisSettingsNoDefaults = (state, axisId) => {\n  return state.cartesianAxis.yAxis[axisId];\n};\nexport var selectYAxisSettings = (state, axisId) => {\n  var axis = selectYAxisSettingsNoDefaults(state, axisId);\n  if (axis == null) {\n    return implicitYAxis;\n  }\n  return axis;\n};\nexport var implicitZAxis = {\n  domain: [0, 'auto'],\n  includeHidden: false,\n  reversed: false,\n  allowDataOverflow: false,\n  allowDuplicatedCategory: false,\n  dataKey: undefined,\n  id: 0,\n  name: '',\n  range: [64, 64],\n  scale: 'auto',\n  type: 'number',\n  unit: ''\n};\nexport var selectZAxisSettings = (state, axisId) => {\n  var axis = state.cartesianAxis.zAxis[axisId];\n  if (axis == null) {\n    return implicitZAxis;\n  }\n  return axis;\n};\nexport var selectBaseAxis = (state, axisType, axisId) => {\n  switch (axisType) {\n    case 'xAxis':\n      {\n        return selectXAxisSettings(state, axisId);\n      }\n    case 'yAxis':\n      {\n        return selectYAxisSettings(state, axisId);\n      }\n    case 'zAxis':\n      {\n        return selectZAxisSettings(state, axisId);\n      }\n    case 'angleAxis':\n      {\n        return selectAngleAxis(state, axisId);\n      }\n    case 'radiusAxis':\n      {\n        return selectRadiusAxis(state, axisId);\n      }\n    default:\n      throw new Error(\"Unexpected axis type: \".concat(axisType));\n  }\n};\nvar selectCartesianAxisSettings = (state, axisType, axisId) => {\n  switch (axisType) {\n    case 'xAxis':\n      {\n        return selectXAxisSettings(state, axisId);\n      }\n    case 'yAxis':\n      {\n        return selectYAxisSettings(state, axisId);\n      }\n    default:\n      throw new Error(\"Unexpected axis type: \".concat(axisType));\n  }\n};\n\n/**\n * Selects either an X or Y axis. Doesn't work with Z axis - for that, instead use selectBaseAxis.\n * @param state Root state\n * @param axisType xAxis | yAxis\n * @param axisId xAxisId | yAxisId\n * @returns axis settings object\n */\nexport var selectAxisSettings = (state, axisType, axisId) => {\n  switch (axisType) {\n    case 'xAxis':\n      {\n        return selectXAxisSettings(state, axisId);\n      }\n    case 'yAxis':\n      {\n        return selectYAxisSettings(state, axisId);\n      }\n    case 'angleAxis':\n      {\n        return selectAngleAxis(state, axisId);\n      }\n    case 'radiusAxis':\n      {\n        return selectRadiusAxis(state, axisId);\n      }\n    default:\n      throw new Error(\"Unexpected axis type: \".concat(axisType));\n  }\n};\n\n/**\n * @param state RechartsRootState\n * @return boolean true if there is at least one Bar or RadialBar\n */\nexport var selectHasBar = state => state.graphicalItems.cartesianItems.some(item => item.type === 'bar') || state.graphicalItems.polarItems.some(item => item.type === 'radialBar');\n\n/**\n * Filters CartesianGraphicalItemSettings by the relevant axis ID\n * @param axisType 'xAxis' | 'yAxis' | 'zAxis' | 'radiusAxis' | 'angleAxis'\n * @param axisId from props, defaults to 0\n *\n * @returns Predicate function that return true for CartesianGraphicalItemSettings that are relevant to the specified axis\n */\nexport function itemAxisPredicate(axisType, axisId) {\n  return item => {\n    switch (axisType) {\n      case 'xAxis':\n        // This is sensitive to the data type, as 0 !== '0'. I wonder if we should be more flexible. How does 2.x branch behave? TODO write test for that\n        return 'xAxisId' in item && item.xAxisId === axisId;\n      case 'yAxis':\n        return 'yAxisId' in item && item.yAxisId === axisId;\n      case 'zAxis':\n        return 'zAxisId' in item && item.zAxisId === axisId;\n      case 'angleAxis':\n        return 'angleAxisId' in item && item.angleAxisId === axisId;\n      case 'radiusAxis':\n        return 'radiusAxisId' in item && item.radiusAxisId === axisId;\n      default:\n        return false;\n    }\n  };\n}\nexport var selectUnfilteredCartesianItems = state => state.graphicalItems.cartesianItems;\nvar selectAxisPredicate = createSelector([pickAxisType, pickAxisId], itemAxisPredicate);\nexport var combineGraphicalItemsSettings = (graphicalItems, axisSettings, axisPredicate) => graphicalItems.filter(axisPredicate).filter(item => {\n  if ((axisSettings === null || axisSettings === void 0 ? void 0 : axisSettings.includeHidden) === true) {\n    return true;\n  }\n  return !item.hide;\n});\nexport var selectCartesianItemsSettings = createSelector([selectUnfilteredCartesianItems, selectBaseAxis, selectAxisPredicate], combineGraphicalItemsSettings, {\n  memoizeOptions: {\n    resultEqualityCheck: emptyArraysAreEqualCheck\n  }\n});\nexport var selectStackedCartesianItemsSettings = createSelector([selectCartesianItemsSettings], cartesianItems => {\n  return cartesianItems.filter(item => item.type === 'area' || item.type === 'bar').filter(isStacked);\n});\nexport var filterGraphicalNotStackedItems = cartesianItems => cartesianItems.filter(item => !('stackId' in item) || item.stackId === undefined);\nvar selectCartesianItemsSettingsExceptStacked = createSelector([selectCartesianItemsSettings], filterGraphicalNotStackedItems);\nexport var combineGraphicalItemsData = cartesianItems => cartesianItems.map(item => item.data).filter(Boolean).flat(1);\n\n/**\n * This is a \"cheap\" selector - it returns the data but doesn't iterate them, so it is not sensitive on the array length.\n * Also does not apply dataKey yet.\n * @param state RechartsRootState\n * @returns data defined on the chart graphical items, such as Line or Scatter or Pie, and filtered with appropriate dataKey\n */\nexport var selectCartesianGraphicalItemsData = createSelector([selectCartesianItemsSettings], combineGraphicalItemsData, {\n  memoizeOptions: {\n    resultEqualityCheck: emptyArraysAreEqualCheck\n  }\n});\nexport var combineDisplayedData = (graphicalItemsData, _ref) => {\n  var {\n    chartData = [],\n    dataStartIndex,\n    dataEndIndex\n  } = _ref;\n  if (graphicalItemsData.length > 0) {\n    /*\n     * There is no slicing when data is defined on graphical items. Why?\n     * Because Brush ignores data defined on graphical items,\n     * and does not render.\n     * So Brush will never show up in a Scatter chart for example.\n     * This is something we will need to fix.\n     *\n     * Now, when the root chart data is not defined, the dataEndIndex is 0,\n     * which means the itemsData will be sliced to an empty array anyway.\n     * But that's an implementation detail, and we can fix that too.\n     *\n     * Also, in absence of Axis dataKey, we use the dataKey from each item, respectively.\n     * This is the usual pattern for numerical axis, that is the one where bars go up:\n     * users don't specify any dataKey by default and expect the axis to \"just match the data\".\n     */\n    return graphicalItemsData;\n  }\n  return chartData.slice(dataStartIndex, dataEndIndex + 1);\n};\n\n/**\n * This selector will return all data there is in the chart: graphical items, chart root, all together.\n * Useful for figuring out an axis domain (because that needs to know of everything),\n * not useful for rendering individual graphical elements (because they need to know which data is theirs and which is not).\n *\n * This function will discard the original indexes, so it is also not useful for anything that depends on ordering.\n */\nexport var selectDisplayedData = createSelector([selectCartesianGraphicalItemsData, selectChartDataWithIndexesIfNotInPanorama], combineDisplayedData);\nexport var combineAppliedValues = (data, axisSettings, items) => {\n  if ((axisSettings === null || axisSettings === void 0 ? void 0 : axisSettings.dataKey) != null) {\n    return data.map(item => ({\n      value: getValueByDataKey(item, axisSettings.dataKey)\n    }));\n  }\n  if (items.length > 0) {\n    return items.map(item => item.dataKey).flatMap(dataKey => data.map(entry => ({\n      value: getValueByDataKey(entry, dataKey)\n    })));\n  }\n  return data.map(entry => ({\n    value: entry\n  }));\n};\n\n/**\n * This selector will return all values with the appropriate dataKey applied on them.\n * Which dataKey is appropriate depends on where it is defined.\n *\n * This is an expensive selector - it will iterate all data and compute their value using the provided dataKey.\n */\nexport var selectAllAppliedValues = createSelector([selectDisplayedData, selectBaseAxis, selectCartesianItemsSettings], combineAppliedValues);\nexport function isErrorBarRelevantForAxisType(axisType, errorBar) {\n  switch (axisType) {\n    case 'xAxis':\n      return errorBar.direction === 'x';\n    case 'yAxis':\n      return errorBar.direction === 'y';\n    default:\n      return false;\n  }\n}\n\n/**\n * This is type of \"error\" in chart. It is set by using ErrorBar, and it can represent confidence interval,\n * or gap in the data, or standard deviation, or quartiles in boxplot, or whiskers or whatever.\n *\n * We will internally represent it as a tuple of two numbers, where the first number is the lower bound and the second number is the upper bound.\n *\n * It is also true that the first number should be lower than or equal to the associated \"main value\",\n * and the second number should be higher than or equal to the associated \"main value\".\n */\n\nexport function fromMainValueToError(value) {\n  if (isNumber(value) && Number.isFinite(value)) {\n    return [value, value];\n  }\n  if (Array.isArray(value)) {\n    var minError = Math.min(...value);\n    var maxError = Math.max(...value);\n    if (!isNan(minError) && !isNan(maxError) && Number.isFinite(minError) && Number.isFinite(maxError)) {\n      return [minError, maxError];\n    }\n  }\n  return undefined;\n}\nfunction makeNumber(val) {\n  if (isNumOrStr(val) || val instanceof Date) {\n    var n = Number(val);\n    if (isWellBehavedNumber(n)) {\n      return n;\n    }\n  }\n  return undefined;\n}\nfunction makeDomain(val) {\n  if (Array.isArray(val)) {\n    var attempt = [makeNumber(val[0]), makeNumber(val[1])];\n    if (isWellFormedNumberDomain(attempt)) {\n      return attempt;\n    }\n    return undefined;\n  }\n  var n = makeNumber(val);\n  if (n == null) {\n    return undefined;\n  }\n  return [n, n];\n}\nfunction onlyAllowNumbers(data) {\n  return data.map(makeNumber).filter(isNotNil);\n}\n\n/**\n * @param entry One item in the 'data' array. Could be anything really - this is defined externally. This is the raw, before dataKey application\n * @param appliedValue This is the result of applying the 'main' dataKey on the `entry`.\n * @param relevantErrorBars Error bars that are relevant for the current axis and layout and all that.\n * @return either undefined or an array of ErrorValue\n */\nexport function getErrorDomainByDataKey(entry, appliedValue, relevantErrorBars) {\n  if (!relevantErrorBars || typeof appliedValue !== 'number' || isNan(appliedValue)) {\n    return [];\n  }\n  if (!relevantErrorBars.length) {\n    return [];\n  }\n  return onlyAllowNumbers(relevantErrorBars.flatMap(eb => {\n    var errorValue = getValueByDataKey(entry, eb.dataKey);\n    var lowBound, highBound;\n    if (Array.isArray(errorValue)) {\n      [lowBound, highBound] = errorValue;\n    } else {\n      lowBound = highBound = errorValue;\n    }\n    if (!isWellBehavedNumber(lowBound) || !isWellBehavedNumber(highBound)) {\n      return undefined;\n    }\n    return [appliedValue - lowBound, appliedValue + highBound];\n  }));\n}\nexport var selectTooltipAxis = state => {\n  var axisType = selectTooltipAxisType(state);\n  var axisId = selectTooltipAxisId(state);\n  return selectAxisSettings(state, axisType, axisId);\n};\nexport var selectTooltipAxisDataKey = createSelector([selectTooltipAxis], axis => axis === null || axis === void 0 ? void 0 : axis.dataKey);\nexport var selectDisplayedStackedData = createSelector([selectStackedCartesianItemsSettings, selectChartDataWithIndexesIfNotInPanorama, selectTooltipAxis], combineDisplayedStackedData);\nexport var combineStackGroups = (displayedData, items, stackOffsetType, reverseStackOrder) => {\n  var initialItemsGroups = {};\n  var itemsGroup = items.reduce((acc, item) => {\n    if (item.stackId == null) {\n      return acc;\n    }\n    if (acc[item.stackId] == null) {\n      acc[item.stackId] = [];\n    }\n    acc[item.stackId].push(item);\n    return acc;\n  }, initialItemsGroups);\n  return Object.fromEntries(Object.entries(itemsGroup).map(_ref2 => {\n    var [stackId, graphicalItems] = _ref2;\n    var orderedGraphicalItems = reverseStackOrder ? [...graphicalItems].reverse() : graphicalItems;\n    var dataKeys = orderedGraphicalItems.map(getStackSeriesIdentifier);\n    return [stackId, {\n      // @ts-expect-error getStackedData requires that the input is array of objects, Recharts does not test for that\n      stackedData: getStackedData(displayedData, dataKeys, stackOffsetType),\n      graphicalItems: orderedGraphicalItems\n    }];\n  }));\n};\n\n/**\n * Stack groups are groups of graphical items that stack on each other.\n * Stack is a function of axis type (X, Y), axis ID, and stack ID.\n * Graphical items that do not have a stack ID are not going to be present in stack groups.\n */\nexport var selectStackGroups = createSelector([selectDisplayedStackedData, selectStackedCartesianItemsSettings, selectStackOffsetType, selectReverseStackOrder], combineStackGroups);\nexport var combineDomainOfStackGroups = (stackGroups, _ref3, axisType, domainFromUserPreference) => {\n  var {\n    dataStartIndex,\n    dataEndIndex\n  } = _ref3;\n  if (domainFromUserPreference != null) {\n    // User has specified a domain, so we respect that and we can skip computing anything else\n    return undefined;\n  }\n  if (axisType === 'zAxis') {\n    // ZAxis ignores stacks\n    return undefined;\n  }\n  var domainOfStackGroups = getDomainOfStackGroups(stackGroups, dataStartIndex, dataEndIndex);\n  if (domainOfStackGroups != null && domainOfStackGroups[0] === 0 && domainOfStackGroups[1] === 0) {\n    return undefined;\n  }\n  return domainOfStackGroups;\n};\nvar selectAllowsDataOverflow = createSelector([selectBaseAxis], axisSettings => axisSettings.allowDataOverflow);\nexport var getDomainDefinition = axisSettings => {\n  var _axisSettings$domain;\n  if (axisSettings == null || !('domain' in axisSettings)) {\n    return defaultNumericDomain;\n  }\n  if (axisSettings.domain != null) {\n    return axisSettings.domain;\n  }\n  if (axisSettings.ticks != null) {\n    if (axisSettings.type === 'number') {\n      var allValues = onlyAllowNumbers(axisSettings.ticks);\n      return [Math.min(...allValues), Math.max(...allValues)];\n    }\n    if (axisSettings.type === 'category') {\n      return axisSettings.ticks.map(String);\n    }\n  }\n  return (_axisSettings$domain = axisSettings === null || axisSettings === void 0 ? void 0 : axisSettings.domain) !== null && _axisSettings$domain !== void 0 ? _axisSettings$domain : defaultNumericDomain;\n};\nexport var selectDomainDefinition = createSelector([selectBaseAxis], getDomainDefinition);\n\n/**\n * Under certain circumstances, we can determine the domain without looking at the data at all.\n * This is the case when the domain is explicitly specified as numbers, or when it is specified\n * as 'auto' or 'dataMin'/'dataMax' and data overflow is not allowed.\n *\n * In that case, this function will return the domain, otherwise it returns undefined.\n *\n * This is an optimization to avoid unnecessary data processing.\n * @param state\n * @param axisType\n * @param axisId\n * @param isPanorama\n */\nexport var selectDomainFromUserPreference = createSelector([selectDomainDefinition, selectAllowsDataOverflow], numericalDomainSpecifiedWithoutRequiringData);\nexport var selectDomainOfStackGroups = createSelector([selectStackGroups, selectChartDataWithIndexes, pickAxisType, selectDomainFromUserPreference], combineDomainOfStackGroups, {\n  memoizeOptions: {\n    resultEqualityCheck: numberDomainEqualityCheck\n  }\n});\nexport var selectAllErrorBarSettings = state => state.errorBars;\nvar combineRelevantErrorBarSettings = (cartesianItemsSettings, allErrorBarSettings, axisType) => {\n  return cartesianItemsSettings.flatMap(item => {\n    return allErrorBarSettings[item.id];\n  }).filter(Boolean).filter(e => {\n    return isErrorBarRelevantForAxisType(axisType, e);\n  });\n};\nexport var mergeDomains = function mergeDomains() {\n  for (var _len = arguments.length, domains = new Array(_len), _key = 0; _key < _len; _key++) {\n    domains[_key] = arguments[_key];\n  }\n  var allDomains = domains.filter(Boolean);\n  if (allDomains.length === 0) {\n    return undefined;\n  }\n  var allValues = allDomains.flat();\n  var min = Math.min(...allValues);\n  var max = Math.max(...allValues);\n  return [min, max];\n};\nexport var combineDomainOfAllAppliedNumericalValuesIncludingErrorValues = (data, axisSettings, items, errorBars, axisType) => {\n  var lowerEnd, upperEnd;\n  if (items.length > 0) {\n    data.forEach(entry => {\n      items.forEach(item => {\n        var _errorBars$item$id, _axisSettings$dataKey;\n        var relevantErrorBars = (_errorBars$item$id = errorBars[item.id]) === null || _errorBars$item$id === void 0 ? void 0 : _errorBars$item$id.filter(errorBar => isErrorBarRelevantForAxisType(axisType, errorBar));\n        var valueByDataKey = getValueByDataKey(entry, (_axisSettings$dataKey = axisSettings.dataKey) !== null && _axisSettings$dataKey !== void 0 ? _axisSettings$dataKey : item.dataKey);\n        var errorDomain = getErrorDomainByDataKey(entry, valueByDataKey, relevantErrorBars);\n        if (errorDomain.length >= 2) {\n          var localLower = Math.min(...errorDomain);\n          var localUpper = Math.max(...errorDomain);\n          if (lowerEnd == null || localLower < lowerEnd) {\n            lowerEnd = localLower;\n          }\n          if (upperEnd == null || localUpper > upperEnd) {\n            upperEnd = localUpper;\n          }\n        }\n        var dataValueDomain = makeDomain(valueByDataKey);\n        if (dataValueDomain != null) {\n          lowerEnd = lowerEnd == null ? dataValueDomain[0] : Math.min(lowerEnd, dataValueDomain[0]);\n          upperEnd = upperEnd == null ? dataValueDomain[1] : Math.max(upperEnd, dataValueDomain[1]);\n        }\n      });\n    });\n  }\n  if ((axisSettings === null || axisSettings === void 0 ? void 0 : axisSettings.dataKey) != null) {\n    data.forEach(item => {\n      var dataValueDomain = makeDomain(getValueByDataKey(item, axisSettings.dataKey));\n      if (dataValueDomain != null) {\n        lowerEnd = lowerEnd == null ? dataValueDomain[0] : Math.min(lowerEnd, dataValueDomain[0]);\n        upperEnd = upperEnd == null ? dataValueDomain[1] : Math.max(upperEnd, dataValueDomain[1]);\n      }\n    });\n  }\n  if (isWellBehavedNumber(lowerEnd) && isWellBehavedNumber(upperEnd)) {\n    return [lowerEnd, upperEnd];\n  }\n  return undefined;\n};\nvar selectDomainOfAllAppliedNumericalValuesIncludingErrorValues = createSelector([selectDisplayedData, selectBaseAxis, selectCartesianItemsSettingsExceptStacked, selectAllErrorBarSettings, pickAxisType], combineDomainOfAllAppliedNumericalValuesIncludingErrorValues, {\n  memoizeOptions: {\n    resultEqualityCheck: numberDomainEqualityCheck\n  }\n});\nfunction onlyAllowNumbersAndStringsAndDates(item) {\n  var {\n    value\n  } = item;\n  if (isNumOrStr(value) || value instanceof Date) {\n    return value;\n  }\n  return undefined;\n}\nvar computeDomainOfTypeCategory = (allDataSquished, axisSettings, isCategorical) => {\n  var categoricalDomain = allDataSquished.map(onlyAllowNumbersAndStringsAndDates).filter(v => v != null);\n  if (isCategorical && (axisSettings.dataKey == null || axisSettings.allowDuplicatedCategory && hasDuplicate(categoricalDomain))) {\n    /*\n     * 1. In an absence of dataKey, Recharts will use array indexes as its categorical domain\n     * 2. When category axis has duplicated text, serial numbers are used to generate scale\n     */\n    return range(0, allDataSquished.length);\n  }\n  if (axisSettings.allowDuplicatedCategory) {\n    return categoricalDomain;\n  }\n  return Array.from(new Set(categoricalDomain));\n};\nexport var selectReferenceDots = state => state.referenceElements.dots;\nexport var filterReferenceElements = (elements, axisType, axisId) => {\n  return elements.filter(el => el.ifOverflow === 'extendDomain').filter(el => {\n    if (axisType === 'xAxis') {\n      return el.xAxisId === axisId;\n    }\n    return el.yAxisId === axisId;\n  });\n};\nexport var selectReferenceDotsByAxis = createSelector([selectReferenceDots, pickAxisType, pickAxisId], filterReferenceElements);\nexport var selectReferenceAreas = state => state.referenceElements.areas;\nexport var selectReferenceAreasByAxis = createSelector([selectReferenceAreas, pickAxisType, pickAxisId], filterReferenceElements);\nexport var selectReferenceLines = state => state.referenceElements.lines;\nexport var selectReferenceLinesByAxis = createSelector([selectReferenceLines, pickAxisType, pickAxisId], filterReferenceElements);\nexport var combineDotsDomain = (dots, axisType) => {\n  var allCoords = onlyAllowNumbers(dots.map(dot => axisType === 'xAxis' ? dot.x : dot.y));\n  if (allCoords.length === 0) {\n    return undefined;\n  }\n  return [Math.min(...allCoords), Math.max(...allCoords)];\n};\nvar selectReferenceDotsDomain = createSelector(selectReferenceDotsByAxis, pickAxisType, combineDotsDomain);\nexport var combineAreasDomain = (areas, axisType) => {\n  var allCoords = onlyAllowNumbers(areas.flatMap(area => [axisType === 'xAxis' ? area.x1 : area.y1, axisType === 'xAxis' ? area.x2 : area.y2]));\n  if (allCoords.length === 0) {\n    return undefined;\n  }\n  return [Math.min(...allCoords), Math.max(...allCoords)];\n};\nvar selectReferenceAreasDomain = createSelector([selectReferenceAreasByAxis, pickAxisType], combineAreasDomain);\nfunction extractXCoordinates(line) {\n  var _line$segment;\n  if (line.x != null) {\n    return onlyAllowNumbers([line.x]);\n  }\n  var segmentCoordinates = (_line$segment = line.segment) === null || _line$segment === void 0 ? void 0 : _line$segment.map(s => s.x);\n  if (segmentCoordinates == null || segmentCoordinates.length === 0) {\n    return [];\n  }\n  return onlyAllowNumbers(segmentCoordinates);\n}\nfunction extractYCoordinates(line) {\n  var _line$segment2;\n  if (line.y != null) {\n    return onlyAllowNumbers([line.y]);\n  }\n  var segmentCoordinates = (_line$segment2 = line.segment) === null || _line$segment2 === void 0 ? void 0 : _line$segment2.map(s => s.y);\n  if (segmentCoordinates == null || segmentCoordinates.length === 0) {\n    return [];\n  }\n  return onlyAllowNumbers(segmentCoordinates);\n}\nexport var combineLinesDomain = (lines, axisType) => {\n  var allCoords = lines.flatMap(line => axisType === 'xAxis' ? extractXCoordinates(line) : extractYCoordinates(line));\n  if (allCoords.length === 0) {\n    return undefined;\n  }\n  return [Math.min(...allCoords), Math.max(...allCoords)];\n};\nvar selectReferenceLinesDomain = createSelector([selectReferenceLinesByAxis, pickAxisType], combineLinesDomain);\nvar selectReferenceElementsDomain = createSelector(selectReferenceDotsDomain, selectReferenceLinesDomain, selectReferenceAreasDomain, (dotsDomain, linesDomain, areasDomain) => {\n  return mergeDomains(dotsDomain, areasDomain, linesDomain);\n});\nexport var combineNumericalDomain = (axisSettings, domainDefinition, domainFromUserPreference, domainOfStackGroups, dataAndErrorBarsDomain, referenceElementsDomain, layout, axisType) => {\n  if (domainFromUserPreference != null) {\n    // We're done! No need to compute anything else.\n    return domainFromUserPreference;\n  }\n  var shouldIncludeDomainOfStackGroups = layout === 'vertical' && axisType === 'xAxis' || layout === 'horizontal' && axisType === 'yAxis';\n  var mergedDomains = shouldIncludeDomainOfStackGroups ? mergeDomains(domainOfStackGroups, referenceElementsDomain, dataAndErrorBarsDomain) : mergeDomains(referenceElementsDomain, dataAndErrorBarsDomain);\n  return parseNumericalUserDomain(domainDefinition, mergedDomains, axisSettings.allowDataOverflow);\n};\nexport var selectNumericalDomain = createSelector([selectBaseAxis, selectDomainDefinition, selectDomainFromUserPreference, selectDomainOfStackGroups, selectDomainOfAllAppliedNumericalValuesIncludingErrorValues, selectReferenceElementsDomain, selectChartLayout, pickAxisType], combineNumericalDomain, {\n  memoizeOptions: {\n    resultEqualityCheck: numberDomainEqualityCheck\n  }\n});\n\n/**\n * Expand by design maps everything between 0 and 1,\n * there is nothing to compute.\n * See https://d3js.org/d3-shape/stack#stack-offsets\n */\nvar expandDomain = [0, 1];\nexport var combineAxisDomain = (axisSettings, layout, displayedData, allAppliedValues, stackOffsetType, axisType, numericalDomain) => {\n  if ((axisSettings == null || displayedData == null || displayedData.length === 0) && numericalDomain === undefined) {\n    return undefined;\n  }\n  var {\n    dataKey,\n    type\n  } = axisSettings;\n  var isCategorical = isCategoricalAxis(layout, axisType);\n  if (isCategorical && dataKey == null) {\n    var _displayedData$length;\n    return range(0, (_displayedData$length = displayedData === null || displayedData === void 0 ? void 0 : displayedData.length) !== null && _displayedData$length !== void 0 ? _displayedData$length : 0);\n  }\n  if (type === 'category') {\n    return computeDomainOfTypeCategory(allAppliedValues, axisSettings, isCategorical);\n  }\n  if (stackOffsetType === 'expand') {\n    return expandDomain;\n  }\n  return numericalDomain;\n};\nexport var selectAxisDomain = createSelector([selectBaseAxis, selectChartLayout, selectDisplayedData, selectAllAppliedValues, selectStackOffsetType, pickAxisType, selectNumericalDomain], combineAxisDomain);\nexport var combineRealScaleType = (axisConfig, layout, hasBar, chartType, axisType) => {\n  if (axisConfig == null) {\n    return undefined;\n  }\n  var {\n    scale,\n    type\n  } = axisConfig;\n  if (scale === 'auto') {\n    if (layout === 'radial' && axisType === 'radiusAxis') {\n      return 'band';\n    }\n    if (layout === 'radial' && axisType === 'angleAxis') {\n      return 'linear';\n    }\n    if (type === 'category' && chartType && (chartType.indexOf('LineChart') >= 0 || chartType.indexOf('AreaChart') >= 0 || chartType.indexOf('ComposedChart') >= 0 && !hasBar)) {\n      return 'point';\n    }\n    if (type === 'category') {\n      return 'band';\n    }\n    return 'linear';\n  }\n  if (typeof scale === 'string') {\n    var name = \"scale\".concat(upperFirst(scale));\n    return name in d3Scales ? name : 'point';\n  }\n  return undefined;\n};\nexport var selectRealScaleType = createSelector([selectBaseAxis, selectChartLayout, selectHasBar, selectChartName, pickAxisType], combineRealScaleType);\nfunction getD3ScaleFromType(realScaleType) {\n  if (realScaleType == null) {\n    return undefined;\n  }\n  if (realScaleType in d3Scales) {\n    // @ts-expect-error we should do better type verification here\n    return d3Scales[realScaleType]();\n  }\n  var name = \"scale\".concat(upperFirst(realScaleType));\n  if (name in d3Scales) {\n    // @ts-expect-error we should do better type verification here\n    return d3Scales[name]();\n  }\n  return undefined;\n}\nexport function combineScaleFunction(axis, realScaleType, axisDomain, axisRange) {\n  if (axisDomain == null || axisRange == null) {\n    return undefined;\n  }\n  if (typeof axis.scale === 'function') {\n    // @ts-expect-error we're going to assume here that if axis.scale is a function then it is a d3Scale function\n    return axis.scale.copy().domain(axisDomain).range(axisRange);\n  }\n  var d3ScaleFunction = getD3ScaleFromType(realScaleType);\n  if (d3ScaleFunction == null) {\n    return undefined;\n  }\n  var scale = d3ScaleFunction.domain(axisDomain).range(axisRange);\n  // I don't like this function because it mutates the scale. We should come up with a way to compute the domain up front.\n  checkDomainOfScale(scale);\n  return scale;\n}\nexport var combineNiceTicks = (axisDomain, axisSettings, realScaleType) => {\n  var domainDefinition = getDomainDefinition(axisSettings);\n  if (realScaleType !== 'auto' && realScaleType !== 'linear') {\n    return undefined;\n  }\n  if (axisSettings != null && axisSettings.tickCount && Array.isArray(domainDefinition) && (domainDefinition[0] === 'auto' || domainDefinition[1] === 'auto') && isWellFormedNumberDomain(axisDomain)) {\n    return getNiceTickValues(axisDomain, axisSettings.tickCount, axisSettings.allowDecimals);\n  }\n  if (axisSettings != null && axisSettings.tickCount && axisSettings.type === 'number' && isWellFormedNumberDomain(axisDomain)) {\n    return getTickValuesFixedDomain(axisDomain, axisSettings.tickCount, axisSettings.allowDecimals);\n  }\n  return undefined;\n};\nexport var selectNiceTicks = createSelector([selectAxisDomain, selectAxisSettings, selectRealScaleType], combineNiceTicks);\nexport var combineAxisDomainWithNiceTicks = (axisSettings, domain, niceTicks, axisType) => {\n  if (\n  /*\n   * Angle axis for some reason uses nice ticks when rendering axis tick labels,\n   * but doesn't use nice ticks for extending domain like all the other axes do.\n   * Not really sure why? Is there a good reason,\n   * or is it just because someone added support for nice ticks to the other axes and forgot this one?\n   */\n  axisType !== 'angleAxis' && (axisSettings === null || axisSettings === void 0 ? void 0 : axisSettings.type) === 'number' && isWellFormedNumberDomain(domain) && Array.isArray(niceTicks) && niceTicks.length > 0) {\n    var minFromDomain = domain[0];\n    var minFromTicks = niceTicks[0];\n    var maxFromDomain = domain[1];\n    var maxFromTicks = niceTicks[niceTicks.length - 1];\n    return [Math.min(minFromDomain, minFromTicks), Math.max(maxFromDomain, maxFromTicks)];\n  }\n  return domain;\n};\nexport var selectAxisDomainIncludingNiceTicks = createSelector([selectBaseAxis, selectAxisDomain, selectNiceTicks, pickAxisType], combineAxisDomainWithNiceTicks);\n\n/**\n * Returns the smallest gap, between two numbers in the data, as a ratio of the whole range (max - min).\n * Ignores domain provided by user and only considers domain from data.\n *\n * The result is a number between 0 and 1.\n */\nexport var selectSmallestDistanceBetweenValues = createSelector(selectAllAppliedValues, selectBaseAxis, (allDataSquished, axisSettings) => {\n  if (!axisSettings || axisSettings.type !== 'number') {\n    return undefined;\n  }\n  var smallestDistanceBetweenValues = Infinity;\n  var sortedValues = Array.from(onlyAllowNumbers(allDataSquished.map(d => d.value))).sort((a, b) => a - b);\n  if (sortedValues.length < 2) {\n    return Infinity;\n  }\n  var diff = sortedValues[sortedValues.length - 1] - sortedValues[0];\n  if (diff === 0) {\n    return Infinity;\n  }\n  // Only do n - 1 distance calculations because there's only n - 1 distances between n values.\n  for (var i = 0; i < sortedValues.length - 1; i++) {\n    var distance = sortedValues[i + 1] - sortedValues[i];\n    smallestDistanceBetweenValues = Math.min(smallestDistanceBetweenValues, distance);\n  }\n  return smallestDistanceBetweenValues / diff;\n});\nvar selectCalculatedPadding = createSelector(selectSmallestDistanceBetweenValues, selectChartLayout, selectBarCategoryGap, selectChartOffsetInternal, (_1, _2, _3, padding) => padding, (smallestDistanceInPercent, layout, barCategoryGap, offset, padding) => {\n  if (!isWellBehavedNumber(smallestDistanceInPercent)) {\n    return 0;\n  }\n  var rangeWidth = layout === 'vertical' ? offset.height : offset.width;\n  if (padding === 'gap') {\n    return smallestDistanceInPercent * rangeWidth / 2;\n  }\n  if (padding === 'no-gap') {\n    var gap = getPercentValue(barCategoryGap, smallestDistanceInPercent * rangeWidth);\n    var halfBand = smallestDistanceInPercent * rangeWidth / 2;\n    return halfBand - gap - (halfBand - gap) / rangeWidth * gap;\n  }\n  return 0;\n});\nexport var selectCalculatedXAxisPadding = (state, axisId) => {\n  var xAxisSettings = selectXAxisSettings(state, axisId);\n  if (xAxisSettings == null || typeof xAxisSettings.padding !== 'string') {\n    return 0;\n  }\n  return selectCalculatedPadding(state, 'xAxis', axisId, xAxisSettings.padding);\n};\nexport var selectCalculatedYAxisPadding = (state, axisId) => {\n  var yAxisSettings = selectYAxisSettings(state, axisId);\n  if (yAxisSettings == null || typeof yAxisSettings.padding !== 'string') {\n    return 0;\n  }\n  return selectCalculatedPadding(state, 'yAxis', axisId, yAxisSettings.padding);\n};\nvar selectXAxisPadding = createSelector(selectXAxisSettings, selectCalculatedXAxisPadding, (xAxisSettings, calculated) => {\n  var _padding$left, _padding$right;\n  if (xAxisSettings == null) {\n    return {\n      left: 0,\n      right: 0\n    };\n  }\n  var {\n    padding\n  } = xAxisSettings;\n  if (typeof padding === 'string') {\n    return {\n      left: calculated,\n      right: calculated\n    };\n  }\n  return {\n    left: ((_padding$left = padding.left) !== null && _padding$left !== void 0 ? _padding$left : 0) + calculated,\n    right: ((_padding$right = padding.right) !== null && _padding$right !== void 0 ? _padding$right : 0) + calculated\n  };\n});\nvar selectYAxisPadding = createSelector(selectYAxisSettings, selectCalculatedYAxisPadding, (yAxisSettings, calculated) => {\n  var _padding$top, _padding$bottom;\n  if (yAxisSettings == null) {\n    return {\n      top: 0,\n      bottom: 0\n    };\n  }\n  var {\n    padding\n  } = yAxisSettings;\n  if (typeof padding === 'string') {\n    return {\n      top: calculated,\n      bottom: calculated\n    };\n  }\n  return {\n    top: ((_padding$top = padding.top) !== null && _padding$top !== void 0 ? _padding$top : 0) + calculated,\n    bottom: ((_padding$bottom = padding.bottom) !== null && _padding$bottom !== void 0 ? _padding$bottom : 0) + calculated\n  };\n});\nexport var combineXAxisRange = createSelector([selectChartOffsetInternal, selectXAxisPadding, selectBrushDimensions, selectBrushSettings, (_state, _axisId, isPanorama) => isPanorama], (offset, padding, brushDimensions, _ref4, isPanorama) => {\n  var {\n    padding: brushPadding\n  } = _ref4;\n  if (isPanorama) {\n    return [brushPadding.left, brushDimensions.width - brushPadding.right];\n  }\n  return [offset.left + padding.left, offset.left + offset.width - padding.right];\n});\nexport var combineYAxisRange = createSelector([selectChartOffsetInternal, selectChartLayout, selectYAxisPadding, selectBrushDimensions, selectBrushSettings, (_state, _axisId, isPanorama) => isPanorama], (offset, layout, padding, brushDimensions, _ref5, isPanorama) => {\n  var {\n    padding: brushPadding\n  } = _ref5;\n  if (isPanorama) {\n    return [brushDimensions.height - brushPadding.bottom, brushPadding.top];\n  }\n  if (layout === 'horizontal') {\n    return [offset.top + offset.height - padding.bottom, offset.top + padding.top];\n  }\n  return [offset.top + padding.top, offset.top + offset.height - padding.bottom];\n});\nexport var selectAxisRange = (state, axisType, axisId, isPanorama) => {\n  var _selectZAxisSettings;\n  switch (axisType) {\n    case 'xAxis':\n      return combineXAxisRange(state, axisId, isPanorama);\n    case 'yAxis':\n      return combineYAxisRange(state, axisId, isPanorama);\n    case 'zAxis':\n      return (_selectZAxisSettings = selectZAxisSettings(state, axisId)) === null || _selectZAxisSettings === void 0 ? void 0 : _selectZAxisSettings.range;\n    case 'angleAxis':\n      return selectAngleAxisRange(state);\n    case 'radiusAxis':\n      return selectRadiusAxisRange(state, axisId);\n    default:\n      return undefined;\n  }\n};\nexport var selectAxisRangeWithReverse = createSelector([selectBaseAxis, selectAxisRange], combineAxisRangeWithReverse);\nexport var selectAxisScale = createSelector([selectBaseAxis, selectRealScaleType, selectAxisDomainIncludingNiceTicks, selectAxisRangeWithReverse], combineScaleFunction);\nexport var selectErrorBarsSettings = createSelector([selectCartesianItemsSettings, selectAllErrorBarSettings, pickAxisType], combineRelevantErrorBarSettings);\nfunction compareIds(a, b) {\n  if (a.id < b.id) {\n    return -1;\n  }\n  if (a.id > b.id) {\n    return 1;\n  }\n  return 0;\n}\nvar pickAxisOrientation = (_state, orientation) => orientation;\nvar pickMirror = (_state, _orientation, mirror) => mirror;\nvar selectAllXAxesWithOffsetType = createSelector(selectAllXAxes, pickAxisOrientation, pickMirror, (allAxes, orientation, mirror) => allAxes.filter(axis => axis.orientation === orientation).filter(axis => axis.mirror === mirror).sort(compareIds));\nvar selectAllYAxesWithOffsetType = createSelector(selectAllYAxes, pickAxisOrientation, pickMirror, (allAxes, orientation, mirror) => allAxes.filter(axis => axis.orientation === orientation).filter(axis => axis.mirror === mirror).sort(compareIds));\nvar getXAxisSize = (offset, axisSettings) => {\n  return {\n    width: offset.width,\n    height: axisSettings.height\n  };\n};\nvar getYAxisSize = (offset, axisSettings) => {\n  var width = typeof axisSettings.width === 'number' ? axisSettings.width : DEFAULT_Y_AXIS_WIDTH;\n  return {\n    width,\n    height: offset.height\n  };\n};\nexport var selectXAxisSize = createSelector(selectChartOffsetInternal, selectXAxisSettings, getXAxisSize);\nvar combineXAxisPositionStartingPoint = (offset, orientation, chartHeight) => {\n  switch (orientation) {\n    case 'top':\n      return offset.top;\n    case 'bottom':\n      return chartHeight - offset.bottom;\n    default:\n      return 0;\n  }\n};\nvar combineYAxisPositionStartingPoint = (offset, orientation, chartWidth) => {\n  switch (orientation) {\n    case 'left':\n      return offset.left;\n    case 'right':\n      return chartWidth - offset.right;\n    default:\n      return 0;\n  }\n};\nexport var selectAllXAxesOffsetSteps = createSelector(selectChartHeight, selectChartOffsetInternal, selectAllXAxesWithOffsetType, pickAxisOrientation, pickMirror, (chartHeight, offset, allAxesWithSameOffsetType, orientation, mirror) => {\n  var steps = {};\n  var position;\n  allAxesWithSameOffsetType.forEach(axis => {\n    var axisSize = getXAxisSize(offset, axis);\n    if (position == null) {\n      position = combineXAxisPositionStartingPoint(offset, orientation, chartHeight);\n    }\n    var needSpace = orientation === 'top' && !mirror || orientation === 'bottom' && mirror;\n    steps[axis.id] = position - Number(needSpace) * axisSize.height;\n    position += (needSpace ? -1 : 1) * axisSize.height;\n  });\n  return steps;\n});\nexport var selectAllYAxesOffsetSteps = createSelector(selectChartWidth, selectChartOffsetInternal, selectAllYAxesWithOffsetType, pickAxisOrientation, pickMirror, (chartWidth, offset, allAxesWithSameOffsetType, orientation, mirror) => {\n  var steps = {};\n  var position;\n  allAxesWithSameOffsetType.forEach(axis => {\n    var axisSize = getYAxisSize(offset, axis);\n    if (position == null) {\n      position = combineYAxisPositionStartingPoint(offset, orientation, chartWidth);\n    }\n    var needSpace = orientation === 'left' && !mirror || orientation === 'right' && mirror;\n    steps[axis.id] = position - Number(needSpace) * axisSize.width;\n    position += (needSpace ? -1 : 1) * axisSize.width;\n  });\n  return steps;\n});\nvar selectXAxisOffsetSteps = (state, axisId) => {\n  var axisSettings = selectXAxisSettings(state, axisId);\n  if (axisSettings == null) {\n    return undefined;\n  }\n  return selectAllXAxesOffsetSteps(state, axisSettings.orientation, axisSettings.mirror);\n};\nexport var selectXAxisPosition = createSelector([selectChartOffsetInternal, selectXAxisSettings, selectXAxisOffsetSteps, (_, axisId) => axisId], (offset, axisSettings, allSteps, axisId) => {\n  if (axisSettings == null) {\n    return undefined;\n  }\n  var stepOfThisAxis = allSteps === null || allSteps === void 0 ? void 0 : allSteps[axisId];\n  if (stepOfThisAxis == null) {\n    return {\n      x: offset.left,\n      y: 0\n    };\n  }\n  return {\n    x: offset.left,\n    y: stepOfThisAxis\n  };\n});\nvar selectYAxisOffsetSteps = (state, axisId) => {\n  var axisSettings = selectYAxisSettings(state, axisId);\n  if (axisSettings == null) {\n    return undefined;\n  }\n  return selectAllYAxesOffsetSteps(state, axisSettings.orientation, axisSettings.mirror);\n};\nexport var selectYAxisPosition = createSelector([selectChartOffsetInternal, selectYAxisSettings, selectYAxisOffsetSteps, (_, axisId) => axisId], (offset, axisSettings, allSteps, axisId) => {\n  if (axisSettings == null) {\n    return undefined;\n  }\n  var stepOfThisAxis = allSteps === null || allSteps === void 0 ? void 0 : allSteps[axisId];\n  if (stepOfThisAxis == null) {\n    return {\n      x: 0,\n      y: offset.top\n    };\n  }\n  return {\n    x: stepOfThisAxis,\n    y: offset.top\n  };\n});\nexport var selectYAxisSize = createSelector(selectChartOffsetInternal, selectYAxisSettings, (offset, axisSettings) => {\n  var width = typeof axisSettings.width === 'number' ? axisSettings.width : DEFAULT_Y_AXIS_WIDTH;\n  return {\n    width,\n    height: offset.height\n  };\n});\nexport var selectCartesianAxisSize = (state, axisType, axisId) => {\n  switch (axisType) {\n    case 'xAxis':\n      {\n        return selectXAxisSize(state, axisId).width;\n      }\n    case 'yAxis':\n      {\n        return selectYAxisSize(state, axisId).height;\n      }\n    default:\n      {\n        return undefined;\n      }\n  }\n};\nexport var combineDuplicateDomain = (chartLayout, appliedValues, axis, axisType) => {\n  if (axis == null) {\n    return undefined;\n  }\n  var {\n    allowDuplicatedCategory,\n    type,\n    dataKey\n  } = axis;\n  var isCategorical = isCategoricalAxis(chartLayout, axisType);\n  var allData = appliedValues.map(av => av.value);\n  if (dataKey && isCategorical && type === 'category' && allowDuplicatedCategory && hasDuplicate(allData)) {\n    return allData;\n  }\n  return undefined;\n};\nexport var selectDuplicateDomain = createSelector([selectChartLayout, selectAllAppliedValues, selectBaseAxis, pickAxisType], combineDuplicateDomain);\nexport var combineCategoricalDomain = (layout, appliedValues, axis, axisType) => {\n  if (axis == null || axis.dataKey == null) {\n    return undefined;\n  }\n  var {\n    type,\n    scale\n  } = axis;\n  var isCategorical = isCategoricalAxis(layout, axisType);\n  if (isCategorical && (type === 'number' || scale !== 'auto')) {\n    return appliedValues.map(d => d.value);\n  }\n  return undefined;\n};\nexport var selectCategoricalDomain = createSelector([selectChartLayout, selectAllAppliedValues, selectAxisSettings, pickAxisType], combineCategoricalDomain);\nexport var selectAxisPropsNeededForCartesianGridTicksGenerator = createSelector([selectChartLayout, selectCartesianAxisSettings, selectRealScaleType, selectAxisScale, selectDuplicateDomain, selectCategoricalDomain, selectAxisRange, selectNiceTicks, pickAxisType], (layout, axis, realScaleType, scale, duplicateDomain, categoricalDomain, axisRange, niceTicks, axisType) => {\n  if (axis == null) {\n    return undefined;\n  }\n  var isCategorical = isCategoricalAxis(layout, axisType);\n  return {\n    angle: axis.angle,\n    interval: axis.interval,\n    minTickGap: axis.minTickGap,\n    orientation: axis.orientation,\n    tick: axis.tick,\n    tickCount: axis.tickCount,\n    tickFormatter: axis.tickFormatter,\n    ticks: axis.ticks,\n    type: axis.type,\n    unit: axis.unit,\n    axisType,\n    categoricalDomain,\n    duplicateDomain,\n    isCategorical,\n    niceTicks,\n    range: axisRange,\n    realScaleType,\n    scale\n  };\n});\nexport var combineAxisTicks = (layout, axis, realScaleType, scale, niceTicks, axisRange, duplicateDomain, categoricalDomain, axisType) => {\n  if (axis == null || scale == null) {\n    return undefined;\n  }\n  var isCategorical = isCategoricalAxis(layout, axisType);\n  var {\n    type,\n    ticks,\n    tickCount\n  } = axis;\n\n  // This is testing for `scaleBand` but for band axis the type is reported as `band` so this looks like a dead code with a workaround elsewhere?\n  var offsetForBand = realScaleType === 'scaleBand' && typeof scale.bandwidth === 'function' ? scale.bandwidth() / 2 : 2;\n  var offset = type === 'category' && scale.bandwidth ? scale.bandwidth() / offsetForBand : 0;\n  offset = axisType === 'angleAxis' && axisRange != null && axisRange.length >= 2 ? mathSign(axisRange[0] - axisRange[1]) * 2 * offset : offset;\n\n  // The ticks set by user should only affect the ticks adjacent to axis line\n  var ticksOrNiceTicks = ticks || niceTicks;\n  if (ticksOrNiceTicks) {\n    var result = ticksOrNiceTicks.map((entry, index) => {\n      var scaleContent = duplicateDomain ? duplicateDomain.indexOf(entry) : entry;\n      return {\n        index,\n        // If the scaleContent is not a number, the coordinate will be NaN.\n        // That could be the case for example with a PointScale and a string as domain.\n        coordinate: scale(scaleContent) + offset,\n        value: entry,\n        offset\n      };\n    });\n    return result.filter(row => isWellBehavedNumber(row.coordinate));\n  }\n\n  // When axis is a categorical axis, but the type of axis is number or the scale of axis is not \"auto\"\n  if (isCategorical && categoricalDomain) {\n    return categoricalDomain.map((entry, index) => ({\n      coordinate: scale(entry) + offset,\n      value: entry,\n      index,\n      offset\n    })).filter(row => isWellBehavedNumber(row.coordinate));\n  }\n  if (scale.ticks) {\n    return scale.ticks(tickCount)\n    // @ts-expect-error why does the offset go here? The type does not require it\n    .map(entry => ({\n      coordinate: scale(entry) + offset,\n      value: entry,\n      offset\n    }));\n  }\n\n  // When axis has duplicated text, serial numbers are used to generate scale\n  return scale.domain().map((entry, index) => ({\n    coordinate: scale(entry) + offset,\n    value: duplicateDomain ? duplicateDomain[entry] : entry,\n    index,\n    offset\n  }));\n};\nexport var selectTicksOfAxis = createSelector([selectChartLayout, selectAxisSettings, selectRealScaleType, selectAxisScale, selectNiceTicks, selectAxisRange, selectDuplicateDomain, selectCategoricalDomain, pickAxisType], combineAxisTicks);\nexport var combineGraphicalItemTicks = (layout, axis, scale, axisRange, duplicateDomain, categoricalDomain, axisType) => {\n  if (axis == null || scale == null || axisRange == null || axisRange[0] === axisRange[1]) {\n    return undefined;\n  }\n  var isCategorical = isCategoricalAxis(layout, axisType);\n  var {\n    tickCount\n  } = axis;\n  var offset = 0;\n  offset = axisType === 'angleAxis' && (axisRange === null || axisRange === void 0 ? void 0 : axisRange.length) >= 2 ? mathSign(axisRange[0] - axisRange[1]) * 2 * offset : offset;\n\n  // When axis is a categorical axis, but the type of axis is number or the scale of axis is not \"auto\"\n  if (isCategorical && categoricalDomain) {\n    return categoricalDomain.map((entry, index) => ({\n      coordinate: scale(entry) + offset,\n      value: entry,\n      index,\n      offset\n    }));\n  }\n  if (scale.ticks) {\n    return scale.ticks(tickCount)\n    // @ts-expect-error why does the offset go here? The type does not require it\n    .map(entry => ({\n      coordinate: scale(entry) + offset,\n      value: entry,\n      offset\n    }));\n  }\n\n  // When axis has duplicated text, serial numbers are used to generate scale\n  return scale.domain().map((entry, index) => ({\n    coordinate: scale(entry) + offset,\n    value: duplicateDomain ? duplicateDomain[entry] : entry,\n    index,\n    offset\n  }));\n};\nexport var selectTicksOfGraphicalItem = createSelector([selectChartLayout, selectAxisSettings, selectAxisScale, selectAxisRange, selectDuplicateDomain, selectCategoricalDomain, pickAxisType], combineGraphicalItemTicks);\nexport var selectAxisWithScale = createSelector(selectBaseAxis, selectAxisScale, (axis, scale) => {\n  if (axis == null || scale == null) {\n    return undefined;\n  }\n  return _objectSpread(_objectSpread({}, axis), {}, {\n    scale\n  });\n});\nvar selectZAxisScale = createSelector([selectBaseAxis, selectRealScaleType, selectAxisDomain, selectAxisRangeWithReverse], combineScaleFunction);\nexport var selectZAxisWithScale = createSelector((state, _axisType, axisId) => selectZAxisSettings(state, axisId), selectZAxisScale, (axis, scale) => {\n  if (axis == null || scale == null) {\n    return undefined;\n  }\n  return _objectSpread(_objectSpread({}, axis), {}, {\n    scale\n  });\n});\n\n/**\n * We are also going to need to implement polar chart directions if we want to support keyboard controls for those.\n */\n\nexport var selectChartDirection = createSelector([selectChartLayout, selectAllXAxes, selectAllYAxes], (layout, allXAxes, allYAxes) => {\n  switch (layout) {\n    case 'horizontal':\n      {\n        return allXAxes.some(axis => axis.reversed) ? 'right-to-left' : 'left-to-right';\n      }\n    case 'vertical':\n      {\n        return allYAxes.some(axis => axis.reversed) ? 'bottom-to-top' : 'top-to-bottom';\n      }\n    // TODO: make this better. For now, right arrow triggers \"forward\", left arrow \"back\"\n    // however, the tooltip moves an unintuitive direction because of how the indices are rendered\n    case 'centric':\n    case 'radial':\n      {\n        return 'left-to-right';\n      }\n    default:\n      {\n        return undefined;\n      }\n  }\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}