{"ast":null,"code":"import{useCallback,useEffect,useRef,useState}from'react';import{noop}from'../util/DataUtils';import{resolveDefaultProps}from'../util/resolveDefaultProps';import{useAnimationManager}from'./useAnimationManager';import{getTransitionVal}from'./util';import{Global}from'../util/Global';var defaultProps={begin:0,duration:1000,easing:'ease',isActive:true,canBegin:true,onAnimationEnd:()=>{},onAnimationStart:()=>{}};export function CSSTransitionAnimate(outsideProps){var props=resolveDefaultProps(outsideProps,defaultProps);var{animationId,from,to,attributeName,isActive:isActiveProp,canBegin,duration,easing,begin,onAnimationEnd,onAnimationStart:onAnimationStartFromProps,children}=props;var isActive=isActiveProp==='auto'?!Global.isSsr:isActiveProp;var animationManager=useAnimationManager(animationId+attributeName,props.animationManager);var[style,setStyle]=useState(()=>{if(!isActive){return to;}return from;});var initialized=useRef(false);var onAnimationStart=useCallback(()=>{setStyle(from);onAnimationStartFromProps();},[from,onAnimationStartFromProps]);useEffect(()=>{if(!isActive||!canBegin){return noop;}initialized.current=true;var unsubscribe=animationManager.subscribe(setStyle);animationManager.start([onAnimationStart,begin,to,duration,onAnimationEnd]);return()=>{animationManager.stop();if(unsubscribe){unsubscribe();}onAnimationEnd();};},[isActive,canBegin,duration,easing,begin,onAnimationStart,onAnimationEnd,animationManager,to,from]);if(!isActive){/*\n     * With isActive=false, the component always renders with the final style, immediately,\n     * and ignores all other props.\n     * Also there is no transition applied.\n     */return children({[attributeName]:to});}if(!canBegin){return children({[attributeName]:from});}if(initialized.current){var transition=getTransitionVal([attributeName],duration,easing);return children({transition,[attributeName]:style});}return children({[attributeName]:from});}","map":{"version":3,"names":["useCallback","useEffect","useRef","useState","noop","resolveDefaultProps","useAnimationManager","getTransitionVal","Global","defaultProps","begin","duration","easing","isActive","canBegin","onAnimationEnd","onAnimationStart","CSSTransitionAnimate","outsideProps","props","animationId","from","to","attributeName","isActiveProp","onAnimationStartFromProps","children","isSsr","animationManager","style","setStyle","initialized","current","unsubscribe","subscribe","start","stop","transition"],"sources":["E:/program/ai交友网站demo/dating-app/frontend/src/node_modules/recharts/es6/animation/CSSTransitionAnimate.js"],"sourcesContent":["import { useCallback, useEffect, useRef, useState } from 'react';\nimport { noop } from '../util/DataUtils';\nimport { resolveDefaultProps } from '../util/resolveDefaultProps';\nimport { useAnimationManager } from './useAnimationManager';\nimport { getTransitionVal } from './util';\nimport { Global } from '../util/Global';\nvar defaultProps = {\n  begin: 0,\n  duration: 1000,\n  easing: 'ease',\n  isActive: true,\n  canBegin: true,\n  onAnimationEnd: () => {},\n  onAnimationStart: () => {}\n};\nexport function CSSTransitionAnimate(outsideProps) {\n  var props = resolveDefaultProps(outsideProps, defaultProps);\n  var {\n    animationId,\n    from,\n    to,\n    attributeName,\n    isActive: isActiveProp,\n    canBegin,\n    duration,\n    easing,\n    begin,\n    onAnimationEnd,\n    onAnimationStart: onAnimationStartFromProps,\n    children\n  } = props;\n  var isActive = isActiveProp === 'auto' ? !Global.isSsr : isActiveProp;\n  var animationManager = useAnimationManager(animationId + attributeName, props.animationManager);\n  var [style, setStyle] = useState(() => {\n    if (!isActive) {\n      return to;\n    }\n    return from;\n  });\n  var initialized = useRef(false);\n  var onAnimationStart = useCallback(() => {\n    setStyle(from);\n    onAnimationStartFromProps();\n  }, [from, onAnimationStartFromProps]);\n  useEffect(() => {\n    if (!isActive || !canBegin) {\n      return noop;\n    }\n    initialized.current = true;\n    var unsubscribe = animationManager.subscribe(setStyle);\n    animationManager.start([onAnimationStart, begin, to, duration, onAnimationEnd]);\n    return () => {\n      animationManager.stop();\n      if (unsubscribe) {\n        unsubscribe();\n      }\n      onAnimationEnd();\n    };\n  }, [isActive, canBegin, duration, easing, begin, onAnimationStart, onAnimationEnd, animationManager, to, from]);\n  if (!isActive) {\n    /*\n     * With isActive=false, the component always renders with the final style, immediately,\n     * and ignores all other props.\n     * Also there is no transition applied.\n     */\n    return children({\n      [attributeName]: to\n    });\n  }\n  if (!canBegin) {\n    return children({\n      [attributeName]: from\n    });\n  }\n  if (initialized.current) {\n    var transition = getTransitionVal([attributeName], duration, easing);\n    return children({\n      transition,\n      [attributeName]: style\n    });\n  }\n  return children({\n    [attributeName]: from\n  });\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}