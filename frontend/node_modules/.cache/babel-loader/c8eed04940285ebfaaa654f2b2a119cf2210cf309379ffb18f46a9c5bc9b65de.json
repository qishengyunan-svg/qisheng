{"ast":null,"code":"import{useLayoutEffect}from'react';import{createPortal}from'react-dom';import{noop}from'../util/DataUtils';import{useAppDispatch,useAppSelector}from'../state/hooks';import{selectZIndexPortalId}from'./zIndexSelectors';import{registerZIndexPortal,unregisterZIndexPortal}from'../state/zIndexSlice';import{useIsInChartContext}from'../context/chartLayoutContext';import{useIsPanorama}from'../context/PanoramaContext';/**\n * @since 3.4\n *//**\n * A layer that renders its children into a portal corresponding to the given zIndex.\n * We can't use regular CSS z-index because SVG does not support it.\n * So instead, we create separate DOM nodes for each zIndex layer\n * and render the children into the corresponding DOM node using React portals.\n *\n * This component must be used inside a Chart component.\n *\n * @param zIndex numeric zIndex value, higher values are rendered on top of lower values\n * @param children the content to render inside this zIndex layer\n */export function ZIndexLayer(_ref){var{zIndex,children}=_ref;/*\n   * If we are outside of chart, then we can't rely on the zIndex portal state,\n   * so we just render normally.\n   */var isInChartContext=useIsInChartContext();/*\n   * If zIndex is undefined then we render normally without portals.\n   * Also, if zIndex is 0, we render normally without portals,\n   * because 0 is the default layer that does not need a portal.\n   */var shouldRenderInPortal=isInChartContext&&zIndex!==undefined&&zIndex!==0;var isPanorama=useIsPanorama();var dispatch=useAppDispatch();useLayoutEffect(()=>{if(!shouldRenderInPortal){// Nothing to do. We have to call the hook because of the rules of hooks.\nreturn noop;}/*\n     * Because zIndexes are dynamic (meaning, we're not working with a predefined set of layers,\n     * but we allow users to define any zIndex at any time), we need to register\n     * the requested zIndex in the global store. This way, the ZIndexPortals component\n     * can render the corresponding portals and only the requested ones.\n     */dispatch(registerZIndexPortal({zIndex}));return()=>{dispatch(unregisterZIndexPortal({zIndex}));};},[dispatch,zIndex,shouldRenderInPortal]);var portalId=useAppSelector(state=>selectZIndexPortalId(state,zIndex,isPanorama));if(!shouldRenderInPortal){// If no zIndex is provided or zIndex is 0, render normally without portals\nreturn children;}if(!portalId){/*\n     * If we don't have a portalId yet, this means that the registration\n     * has not been processed yet by the ZIndexPortals component.\n     * So here we render null and wait for the next render cycle.\n     */return null;}var zIndexPortal=document.getElementById(portalId);if(zIndexPortal){return/*#__PURE__*/createPortal(children,zIndexPortal);}/*\n   * If the portal is not found, this means it has not been rendered yet.\n   * So here we render null and wait for the next render cycle.\n   */return null;}","map":{"version":3,"names":["useLayoutEffect","createPortal","noop","useAppDispatch","useAppSelector","selectZIndexPortalId","registerZIndexPortal","unregisterZIndexPortal","useIsInChartContext","useIsPanorama","ZIndexLayer","_ref","zIndex","children","isInChartContext","shouldRenderInPortal","undefined","isPanorama","dispatch","portalId","state","zIndexPortal","document","getElementById"],"sources":["E:/program/ai交友网站demo/dating-app/frontend/src/node_modules/recharts/es6/zIndex/ZIndexLayer.js"],"sourcesContent":["import { useLayoutEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport { noop } from '../util/DataUtils';\nimport { useAppDispatch, useAppSelector } from '../state/hooks';\nimport { selectZIndexPortalId } from './zIndexSelectors';\nimport { registerZIndexPortal, unregisterZIndexPortal } from '../state/zIndexSlice';\nimport { useIsInChartContext } from '../context/chartLayoutContext';\nimport { useIsPanorama } from '../context/PanoramaContext';\n\n/**\n * @since 3.4\n */\n\n/**\n * A layer that renders its children into a portal corresponding to the given zIndex.\n * We can't use regular CSS z-index because SVG does not support it.\n * So instead, we create separate DOM nodes for each zIndex layer\n * and render the children into the corresponding DOM node using React portals.\n *\n * This component must be used inside a Chart component.\n *\n * @param zIndex numeric zIndex value, higher values are rendered on top of lower values\n * @param children the content to render inside this zIndex layer\n */\nexport function ZIndexLayer(_ref) {\n  var {\n    zIndex,\n    children\n  } = _ref;\n  /*\n   * If we are outside of chart, then we can't rely on the zIndex portal state,\n   * so we just render normally.\n   */\n  var isInChartContext = useIsInChartContext();\n  /*\n   * If zIndex is undefined then we render normally without portals.\n   * Also, if zIndex is 0, we render normally without portals,\n   * because 0 is the default layer that does not need a portal.\n   */\n  var shouldRenderInPortal = isInChartContext && zIndex !== undefined && zIndex !== 0;\n  var isPanorama = useIsPanorama();\n  var dispatch = useAppDispatch();\n  useLayoutEffect(() => {\n    if (!shouldRenderInPortal) {\n      // Nothing to do. We have to call the hook because of the rules of hooks.\n      return noop;\n    }\n    /*\n     * Because zIndexes are dynamic (meaning, we're not working with a predefined set of layers,\n     * but we allow users to define any zIndex at any time), we need to register\n     * the requested zIndex in the global store. This way, the ZIndexPortals component\n     * can render the corresponding portals and only the requested ones.\n     */\n    dispatch(registerZIndexPortal({\n      zIndex\n    }));\n    return () => {\n      dispatch(unregisterZIndexPortal({\n        zIndex\n      }));\n    };\n  }, [dispatch, zIndex, shouldRenderInPortal]);\n  var portalId = useAppSelector(state => selectZIndexPortalId(state, zIndex, isPanorama));\n  if (!shouldRenderInPortal) {\n    // If no zIndex is provided or zIndex is 0, render normally without portals\n    return children;\n  }\n  if (!portalId) {\n    /*\n     * If we don't have a portalId yet, this means that the registration\n     * has not been processed yet by the ZIndexPortals component.\n     * So here we render null and wait for the next render cycle.\n     */\n    return null;\n  }\n  var zIndexPortal = document.getElementById(portalId);\n  if (zIndexPortal) {\n    return /*#__PURE__*/createPortal(children, zIndexPortal);\n  }\n  /*\n   * If the portal is not found, this means it has not been rendered yet.\n   * So here we render null and wait for the next render cycle.\n   */\n  return null;\n}"],"mappings":"AAAA,OAASA,eAAe,KAAQ,OAAO,CACvC,OAASC,YAAY,KAAQ,WAAW,CACxC,OAASC,IAAI,KAAQ,mBAAmB,CACxC,OAASC,cAAc,CAAEC,cAAc,KAAQ,gBAAgB,CAC/D,OAASC,oBAAoB,KAAQ,mBAAmB,CACxD,OAASC,oBAAoB,CAAEC,sBAAsB,KAAQ,sBAAsB,CACnF,OAASC,mBAAmB,KAAQ,+BAA+B,CACnE,OAASC,aAAa,KAAQ,4BAA4B,CAE1D;AACA;AACA,GAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GACA,MAAO,SAAS,CAAAC,WAAWA,CAACC,IAAI,CAAE,CAChC,GAAI,CACFC,MAAM,CACNC,QACF,CAAC,CAAGF,IAAI,CACR;AACF;AACA;AACA,KACE,GAAI,CAAAG,gBAAgB,CAAGN,mBAAmB,CAAC,CAAC,CAC5C;AACF;AACA;AACA;AACA,KACE,GAAI,CAAAO,oBAAoB,CAAGD,gBAAgB,EAAIF,MAAM,GAAKI,SAAS,EAAIJ,MAAM,GAAK,CAAC,CACnF,GAAI,CAAAK,UAAU,CAAGR,aAAa,CAAC,CAAC,CAChC,GAAI,CAAAS,QAAQ,CAAGf,cAAc,CAAC,CAAC,CAC/BH,eAAe,CAAC,IAAM,CACpB,GAAI,CAACe,oBAAoB,CAAE,CACzB;AACA,MAAO,CAAAb,IAAI,CACb,CACA;AACJ;AACA;AACA;AACA;AACA,OACIgB,QAAQ,CAACZ,oBAAoB,CAAC,CAC5BM,MACF,CAAC,CAAC,CAAC,CACH,MAAO,IAAM,CACXM,QAAQ,CAACX,sBAAsB,CAAC,CAC9BK,MACF,CAAC,CAAC,CAAC,CACL,CAAC,CACH,CAAC,CAAE,CAACM,QAAQ,CAAEN,MAAM,CAAEG,oBAAoB,CAAC,CAAC,CAC5C,GAAI,CAAAI,QAAQ,CAAGf,cAAc,CAACgB,KAAK,EAAIf,oBAAoB,CAACe,KAAK,CAAER,MAAM,CAAEK,UAAU,CAAC,CAAC,CACvF,GAAI,CAACF,oBAAoB,CAAE,CACzB;AACA,MAAO,CAAAF,QAAQ,CACjB,CACA,GAAI,CAACM,QAAQ,CAAE,CACb;AACJ;AACA;AACA;AACA,OACI,MAAO,KAAI,CACb,CACA,GAAI,CAAAE,YAAY,CAAGC,QAAQ,CAACC,cAAc,CAACJ,QAAQ,CAAC,CACpD,GAAIE,YAAY,CAAE,CAChB,MAAO,aAAapB,YAAY,CAACY,QAAQ,CAAEQ,YAAY,CAAC,CAC1D,CACA;AACF;AACA;AACA,KACE,MAAO,KAAI,CACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}