{"ast":null,"code":"var _excluded=[\"onMouseEnter\",\"onMouseLeave\",\"onClick\"],_excluded2=[\"value\",\"background\",\"tooltipPosition\"],_excluded3=[\"id\"],_excluded4=[\"onMouseEnter\",\"onClick\",\"onMouseLeave\"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r]);}return n;},_extends.apply(null,arguments);}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e;}function _toPropertyKey(t){var i=_toPrimitive(t,\"string\");return\"symbol\"==typeof i?i:i+\"\";}function _toPrimitive(t,r){if(\"object\"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||\"default\");if(\"object\"!=typeof i)return i;throw new TypeError(\"@@toPrimitive must return a primitive value.\");}return(\"string\"===r?String:Number)(t);}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o]);}return i;}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n];}return t;}import*as React from'react';import{PureComponent,useCallback,useRef,useState}from'react';import{clsx}from'clsx';import{Layer}from'../container/Layer';import{Cell}from'../component/Cell';import{CartesianLabelListContextProvider,LabelListFromLabelProp}from'../component/LabelList';import{interpolate,isNan,mathSign}from'../util/DataUtils';import{findAllByType}from'../util/ReactUtils';import{getBaseValueOfBar,getCateCoordinateOfBar,getNormalizedStackId,getTooltipNameProp,getValueByDataKey,truncateByDomain}from'../util/ChartUtils';import{adaptEventsOfChild}from'../util/types';import{BarRectangle,minPointSizeCallback}from'../util/BarUtils';import{useMouseClickItemDispatch,useMouseEnterItemDispatch,useMouseLeaveItemDispatch}from'../context/tooltipContext';import{SetTooltipEntrySettings}from'../state/SetTooltipEntrySettings';import{SetErrorBarContext}from'../context/ErrorBarContext';import{GraphicalItemClipPath,useNeedsClip}from'./GraphicalItemClipPath';import{useChartLayout}from'../context/chartLayoutContext';import{selectBarRectangles}from'../state/selectors/barSelectors';import{useAppSelector}from'../state/hooks';import{useIsPanorama}from'../context/PanoramaContext';import{selectActiveTooltipDataKey,selectActiveTooltipIndex}from'../state/selectors/tooltipSelectors';import{SetLegendPayload}from'../state/SetLegendPayload';import{useAnimationId}from'../util/useAnimationId';import{resolveDefaultProps}from'../util/resolveDefaultProps';import{RegisterGraphicalItemId}from'../context/RegisterGraphicalItemId';import{SetCartesianGraphicalItem}from'../state/SetGraphicalItem';import{svgPropertiesNoEvents,svgPropertiesNoEventsFromUnknown}from'../util/svgPropertiesNoEvents';import{JavascriptAnimate}from'../animation/JavascriptAnimate';import{ZIndexLayer}from'../zIndex/ZIndexLayer';import{DefaultZIndexes}from'../zIndex/DefaultZIndexes';import{getZIndexFromUnknown}from'../zIndex/getZIndexFromUnknown';import{propsAreEqual}from'../util/propsAreEqual';var computeLegendPayloadFromBarData=props=>{var{dataKey,name,fill,legendType,hide}=props;return[{inactive:hide,dataKey,type:legendType,color:fill,value:getTooltipNameProp(name,dataKey),payload:props}];};var SetBarTooltipEntrySettings=/*#__PURE__*/React.memo(_ref=>{var{dataKey,stroke,strokeWidth,fill,name,hide,unit,tooltipType}=_ref;var tooltipEntrySettings={dataDefinedOnItem:undefined,positions:undefined,settings:{stroke,strokeWidth,fill,dataKey,nameKey:undefined,name:getTooltipNameProp(name,dataKey),hide,type:tooltipType,color:fill,unit}};return/*#__PURE__*/React.createElement(SetTooltipEntrySettings,{tooltipEntrySettings:tooltipEntrySettings});});function BarBackground(props){var activeIndex=useAppSelector(selectActiveTooltipIndex);var{data,dataKey,background:backgroundFromProps,allOtherBarProps}=props;var{onMouseEnter:onMouseEnterFromProps,onMouseLeave:onMouseLeaveFromProps,onClick:onItemClickFromProps}=allOtherBarProps,restOfAllOtherProps=_objectWithoutProperties(allOtherBarProps,_excluded);// @ts-expect-error bar mouse events are not compatible with recharts mouse events\nvar onMouseEnterFromContext=useMouseEnterItemDispatch(onMouseEnterFromProps,dataKey);// @ts-expect-error bar mouse events are not compatible with recharts mouse events\nvar onMouseLeaveFromContext=useMouseLeaveItemDispatch(onMouseLeaveFromProps);// @ts-expect-error bar mouse events are not compatible with recharts mouse events\nvar onClickFromContext=useMouseClickItemDispatch(onItemClickFromProps,dataKey);if(!backgroundFromProps||data==null){return null;}var backgroundProps=svgPropertiesNoEventsFromUnknown(backgroundFromProps);return/*#__PURE__*/React.createElement(ZIndexLayer,{zIndex:getZIndexFromUnknown(backgroundFromProps,DefaultZIndexes.barBackground)},data.map((entry,i)=>{var{value,background:backgroundFromDataEntry,tooltipPosition}=entry,rest=_objectWithoutProperties(entry,_excluded2);if(!backgroundFromDataEntry){return null;}// @ts-expect-error BarRectangleItem type definition says it's missing properties, but I can see them present in debugger!\nvar onMouseEnter=onMouseEnterFromContext(entry,i);// @ts-expect-error BarRectangleItem type definition says it's missing properties, but I can see them present in debugger!\nvar onMouseLeave=onMouseLeaveFromContext(entry,i);// @ts-expect-error BarRectangleItem type definition says it's missing properties, but I can see them present in debugger!\nvar onClick=onClickFromContext(entry,i);var barRectangleProps=_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({option:backgroundFromProps,isActive:String(i)===activeIndex},rest),{},{// @ts-expect-error backgroundProps is contributing unknown props\nfill:'#eee'},backgroundFromDataEntry),backgroundProps),adaptEventsOfChild(restOfAllOtherProps,entry,i)),{},{onMouseEnter,onMouseLeave,onClick,dataKey,index:i,className:'recharts-bar-background-rectangle'});return/*#__PURE__*/React.createElement(BarRectangle,_extends({key:\"background-bar-\".concat(i)},barRectangleProps));}));}function BarLabelListProvider(_ref2){var{showLabels,children,rects}=_ref2;var labelListEntries=rects===null||rects===void 0?void 0:rects.map(entry=>{var viewBox={x:entry.x,y:entry.y,width:entry.width,lowerWidth:entry.width,upperWidth:entry.width,height:entry.height};return _objectSpread(_objectSpread({},viewBox),{},{value:entry.value,payload:entry.payload,parentViewBox:entry.parentViewBox,viewBox,fill:entry.fill});});return/*#__PURE__*/React.createElement(CartesianLabelListContextProvider,{value:showLabels?labelListEntries:undefined},children);}function BarRectangleWithActiveState(props){var{shape,activeBar,baseProps,entry,index,dataKey}=props;var activeIndex=useAppSelector(selectActiveTooltipIndex);var activeDataKey=useAppSelector(selectActiveTooltipDataKey);/*\n   * Bars support stacking, meaning that there can be multiple bars at the same x value.\n   * With Tooltip shared=false we only want to highlight the currently active Bar, not all.\n   *\n   * Also, if the tooltip is shared, we want to highlight all bars at the same x value\n   * regardless of the dataKey.\n   *\n   * With shared Tooltip, the activeDataKey is undefined.\n   */var isActive=activeBar&&String(index)===activeIndex&&(activeDataKey==null||dataKey===activeDataKey);var option=isActive?activeBar:shape;if(isActive){return/*#__PURE__*/React.createElement(ZIndexLayer,{zIndex:DefaultZIndexes.activeBar},/*#__PURE__*/React.createElement(BarRectangle,_extends({},baseProps,{name:String(baseProps.name)},entry,{isActive:isActive,option:option,index:index,dataKey:dataKey})));}return/*#__PURE__*/React.createElement(BarRectangle,_extends({},baseProps,{name:String(baseProps.name)},entry,{isActive:isActive,option:option,index:index,dataKey:dataKey}));}function BarRectangleNeverActive(props){var{shape,baseProps,entry,index,dataKey}=props;return/*#__PURE__*/React.createElement(BarRectangle,_extends({},baseProps,{name:String(baseProps.name)},entry,{isActive:false,option:shape,index:index,dataKey:dataKey}));}function BarRectangles(_ref3){var _svgPropertiesNoEvent;var{data,props}=_ref3;var _ref4=(_svgPropertiesNoEvent=svgPropertiesNoEvents(props))!==null&&_svgPropertiesNoEvent!==void 0?_svgPropertiesNoEvent:{},{id}=_ref4,baseProps=_objectWithoutProperties(_ref4,_excluded3);var{shape,dataKey,activeBar}=props;var{onMouseEnter:onMouseEnterFromProps,onClick:onItemClickFromProps,onMouseLeave:onMouseLeaveFromProps}=props,restOfAllOtherProps=_objectWithoutProperties(props,_excluded4);// @ts-expect-error bar mouse events are not compatible with recharts mouse events\nvar onMouseEnterFromContext=useMouseEnterItemDispatch(onMouseEnterFromProps,dataKey);// @ts-expect-error bar mouse events are not compatible with recharts mouse events\nvar onMouseLeaveFromContext=useMouseLeaveItemDispatch(onMouseLeaveFromProps);// @ts-expect-error bar mouse events are not compatible with recharts mouse events\nvar onClickFromContext=useMouseClickItemDispatch(onItemClickFromProps,dataKey);if(!data){return null;}return/*#__PURE__*/React.createElement(React.Fragment,null,data.map((entry,i)=>{return/*#__PURE__*/React.createElement(Layer// https://github.com/recharts/recharts/issues/5415\n,_extends({key:\"rectangle-\".concat(entry===null||entry===void 0?void 0:entry.x,\"-\").concat(entry===null||entry===void 0?void 0:entry.y,\"-\").concat(entry===null||entry===void 0?void 0:entry.value,\"-\").concat(i),className:\"recharts-bar-rectangle\"},adaptEventsOfChild(restOfAllOtherProps,entry,i),{// @ts-expect-error BarRectangleItem type definition says it's missing properties, but I can see them present in debugger!\nonMouseEnter:onMouseEnterFromContext(entry,i)// @ts-expect-error BarRectangleItem type definition says it's missing properties, but I can see them present in debugger!\n,onMouseLeave:onMouseLeaveFromContext(entry,i)// @ts-expect-error BarRectangleItem type definition says it's missing properties, but I can see them present in debugger!\n,onClick:onClickFromContext(entry,i)}),activeBar?/*#__PURE__*/React.createElement(BarRectangleWithActiveState,{shape:shape,activeBar:activeBar,baseProps:baseProps,entry:entry,index:i,dataKey:dataKey}):/*#__PURE__*//*\n     * If the `activeBar` prop is falsy, then let's call the variant without hooks.\n     * Using the `selectActiveTooltipIndex` selector is usually fast\n     * but in charts with large-ish amount of data even the few nanoseconds add up to a noticeable jank.\n     * If the activeBar is false then we don't need to know which index is active - because we won't use it anyway.\n     * So let's just skip the hooks altogether. That way, React can skip rendering the component,\n     * and can skip the tree reconciliation for its children too.\n     * Because we can't call hooks conditionally, we need to have a separate component for that.\n     */React.createElement(BarRectangleNeverActive,{shape:shape,baseProps:baseProps,entry:entry,index:i,dataKey:dataKey}));}));}function RectanglesWithAnimation(_ref5){var{props,previousRectanglesRef}=_ref5;var{data,layout,isAnimationActive,animationBegin,animationDuration,animationEasing,onAnimationEnd,onAnimationStart}=props;var prevData=previousRectanglesRef.current;var animationId=useAnimationId(props,'recharts-bar-');var[isAnimating,setIsAnimating]=useState(false);var showLabels=!isAnimating;var handleAnimationEnd=useCallback(()=>{if(typeof onAnimationEnd==='function'){onAnimationEnd();}setIsAnimating(false);},[onAnimationEnd]);var handleAnimationStart=useCallback(()=>{if(typeof onAnimationStart==='function'){onAnimationStart();}setIsAnimating(true);},[onAnimationStart]);return/*#__PURE__*/React.createElement(BarLabelListProvider,{showLabels:showLabels,rects:data},/*#__PURE__*/React.createElement(JavascriptAnimate,{animationId:animationId,begin:animationBegin,duration:animationDuration,isActive:isAnimationActive,easing:animationEasing,onAnimationEnd:handleAnimationEnd,onAnimationStart:handleAnimationStart,key:animationId},t=>{var stepData=t===1?data:data===null||data===void 0?void 0:data.map((entry,index)=>{var prev=prevData&&prevData[index];if(prev){return _objectSpread(_objectSpread({},entry),{},{x:interpolate(prev.x,entry.x,t),y:interpolate(prev.y,entry.y,t),width:interpolate(prev.width,entry.width,t),height:interpolate(prev.height,entry.height,t)});}if(layout==='horizontal'){var height=interpolate(0,entry.height,t);var y=interpolate(entry.stackedBarStart,entry.y,t);return _objectSpread(_objectSpread({},entry),{},{y,height});}var w=interpolate(0,entry.width,t);var x=interpolate(entry.stackedBarStart,entry.x,t);return _objectSpread(_objectSpread({},entry),{},{width:w,x});});if(t>0){// eslint-disable-next-line no-param-reassign\npreviousRectanglesRef.current=stepData!==null&&stepData!==void 0?stepData:null;}if(stepData==null){return null;}return/*#__PURE__*/React.createElement(Layer,null,/*#__PURE__*/React.createElement(BarRectangles,{props:props,data:stepData}));}),/*#__PURE__*/React.createElement(LabelListFromLabelProp,{label:props.label}),props.children);}function RenderRectangles(props){var previousRectanglesRef=useRef(null);return/*#__PURE__*/React.createElement(RectanglesWithAnimation,{previousRectanglesRef:previousRectanglesRef,props:props});}var defaultMinPointSize=0;var errorBarDataPointFormatter=(dataPoint,dataKey)=>{/**\n   * if the value coming from `selectBarRectangles` is an array then this is a stacked bar chart.\n   * arr[1] represents end value of the bar since the data is in the form of [startValue, endValue].\n   * */var value=Array.isArray(dataPoint.value)?dataPoint.value[1]:dataPoint.value;return{x:dataPoint.x,y:dataPoint.y,value,// @ts-expect-error getValueByDataKey does not validate the output type\nerrorVal:getValueByDataKey(dataPoint,dataKey)};};class BarWithState extends PureComponent{render(){var{hide,data,dataKey,className,xAxisId,yAxisId,needClip,background,id}=this.props;if(hide||data==null){return null;}var layerClass=clsx('recharts-bar',className);var clipPathId=id;return/*#__PURE__*/React.createElement(Layer,{className:layerClass,id:id},needClip&&/*#__PURE__*/React.createElement(\"defs\",null,/*#__PURE__*/React.createElement(GraphicalItemClipPath,{clipPathId:clipPathId,xAxisId:xAxisId,yAxisId:yAxisId})),/*#__PURE__*/React.createElement(Layer,{className:\"recharts-bar-rectangles\",clipPath:needClip?\"url(#clipPath-\".concat(clipPathId,\")\"):undefined},/*#__PURE__*/React.createElement(BarBackground,{data:data,dataKey:dataKey,background:background,allOtherBarProps:this.props}),/*#__PURE__*/React.createElement(RenderRectangles,this.props)));}}export var defaultBarProps={activeBar:false,animationBegin:0,animationDuration:400,animationEasing:'ease',background:false,hide:false,isAnimationActive:'auto',label:false,legendType:'rect',minPointSize:defaultMinPointSize,xAxisId:0,yAxisId:0,zIndex:DefaultZIndexes.bar};function BarImpl(props){var{xAxisId,yAxisId,hide,legendType,minPointSize,activeBar,animationBegin,animationDuration,animationEasing,isAnimationActive}=props;var{needClip}=useNeedsClip(xAxisId,yAxisId);var layout=useChartLayout();var isPanorama=useIsPanorama();var cells=findAllByType(props.children,Cell);var rects=useAppSelector(state=>selectBarRectangles(state,xAxisId,yAxisId,isPanorama,props.id,cells));if(layout!=='vertical'&&layout!=='horizontal'){return null;}var errorBarOffset;var firstDataPoint=rects===null||rects===void 0?void 0:rects[0];if(firstDataPoint==null||firstDataPoint.height==null||firstDataPoint.width==null){errorBarOffset=0;}else{errorBarOffset=layout==='vertical'?firstDataPoint.height/2:firstDataPoint.width/2;}return/*#__PURE__*/React.createElement(SetErrorBarContext,{xAxisId:xAxisId,yAxisId:yAxisId,data:rects,dataPointFormatter:errorBarDataPointFormatter,errorBarOffset:errorBarOffset},/*#__PURE__*/React.createElement(BarWithState,_extends({},props,{layout:layout,needClip:needClip,data:rects,xAxisId:xAxisId,yAxisId:yAxisId,hide:hide,legendType:legendType,minPointSize:minPointSize,activeBar:activeBar,animationBegin:animationBegin,animationDuration:animationDuration,animationEasing:animationEasing,isAnimationActive:isAnimationActive})));}export function computeBarRectangles(_ref6){var{layout,barSettings:{dataKey,minPointSize:minPointSizeProp},pos,bandSize,xAxis,yAxis,xAxisTicks,yAxisTicks,stackedData,displayedData,offset,cells,parentViewBox,dataStartIndex}=_ref6;var numericAxis=layout==='horizontal'?yAxis:xAxis;// @ts-expect-error this assumes that the domain is always numeric, but doesn't check for it\nvar stackedDomain=stackedData?numericAxis.scale.domain():null;var baseValue=getBaseValueOfBar({numericAxis});var stackedBarStart=numericAxis.scale(baseValue);return displayedData.map((entry,index)=>{var value,x,y,width,height,background;if(stackedData){// Use dataStartIndex to access the correct element in the full stackedData array\nvalue=truncateByDomain(stackedData[index+dataStartIndex],stackedDomain);}else{value=getValueByDataKey(entry,dataKey);if(!Array.isArray(value)){value=[baseValue,value];}}var minPointSize=minPointSizeCallback(minPointSizeProp,defaultMinPointSize)(value[1],index);if(layout==='horizontal'){var _ref7;var[baseValueScale,currentValueScale]=[yAxis.scale(value[0]),yAxis.scale(value[1])];x=getCateCoordinateOfBar({axis:xAxis,ticks:xAxisTicks,bandSize,offset:pos.offset,entry,index});y=(_ref7=currentValueScale!==null&&currentValueScale!==void 0?currentValueScale:baseValueScale)!==null&&_ref7!==void 0?_ref7:undefined;width=pos.size;var computedHeight=baseValueScale-currentValueScale;height=isNan(computedHeight)?0:computedHeight;background={x,y:offset.top,width,height:offset.height};if(Math.abs(minPointSize)>0&&Math.abs(height)<Math.abs(minPointSize)){var delta=mathSign(height||minPointSize)*(Math.abs(minPointSize)-Math.abs(height));y-=delta;height+=delta;}}else{var[_baseValueScale,_currentValueScale]=[xAxis.scale(value[0]),xAxis.scale(value[1])];x=_baseValueScale;y=getCateCoordinateOfBar({axis:yAxis,ticks:yAxisTicks,bandSize,offset:pos.offset,entry,index});width=_currentValueScale-_baseValueScale;height=pos.size;background={x:offset.left,y,width:offset.width,height};if(Math.abs(minPointSize)>0&&Math.abs(width)<Math.abs(minPointSize)){var _delta=mathSign(width||minPointSize)*(Math.abs(minPointSize)-Math.abs(width));width+=_delta;}}if(x==null||y==null||width==null||height==null){return null;}var barRectangleItem=_objectSpread(_objectSpread({},entry),{},{stackedBarStart,x,y,width,height,value:stackedData?value:value[1],payload:entry,background,tooltipPosition:{x:x+width/2,y:y+height/2},parentViewBox},cells&&cells[index]&&cells[index].props);return barRectangleItem;}).filter(Boolean);}function BarFn(outsideProps){var props=resolveDefaultProps(outsideProps,defaultBarProps);var isPanorama=useIsPanorama();// Report all props to Redux store first, before calling any hooks, to avoid circular dependencies.\nreturn/*#__PURE__*/React.createElement(RegisterGraphicalItemId,{id:props.id,type:\"bar\"},id=>/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromBarData(props)}),/*#__PURE__*/React.createElement(SetBarTooltipEntrySettings,{dataKey:props.dataKey,stroke:props.stroke,strokeWidth:props.strokeWidth,fill:props.fill,name:props.name,hide:props.hide,unit:props.unit,tooltipType:props.tooltipType}),/*#__PURE__*/React.createElement(SetCartesianGraphicalItem,{type:\"bar\",id:id// Bar does not allow setting data directly on the graphical item (why?)\n,data:undefined,xAxisId:props.xAxisId,yAxisId:props.yAxisId,zAxisId:0,dataKey:props.dataKey,stackId:getNormalizedStackId(props.stackId),hide:props.hide,barSize:props.barSize,minPointSize:props.minPointSize,maxBarSize:props.maxBarSize,isPanorama:isPanorama}),/*#__PURE__*/React.createElement(ZIndexLayer,{zIndex:props.zIndex},/*#__PURE__*/React.createElement(BarImpl,_extends({},props,{id:id})))));}export var Bar=/*#__PURE__*/React.memo(BarFn,propsAreEqual);Bar.displayName='Bar';","map":{"version":3,"names":["_excluded","_excluded2","_excluded3","_excluded4","_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","ownKeys","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","_objectWithoutProperties","_objectWithoutPropertiesLoose","indexOf","propertyIsEnumerable","React","PureComponent","useCallback","useRef","useState","clsx","Layer","Cell","CartesianLabelListContextProvider","LabelListFromLabelProp","interpolate","isNan","mathSign","findAllByType","getBaseValueOfBar","getCateCoordinateOfBar","getNormalizedStackId","getTooltipNameProp","getValueByDataKey","truncateByDomain","adaptEventsOfChild","BarRectangle","minPointSizeCallback","useMouseClickItemDispatch","useMouseEnterItemDispatch","useMouseLeaveItemDispatch","SetTooltipEntrySettings","SetErrorBarContext","GraphicalItemClipPath","useNeedsClip","useChartLayout","selectBarRectangles","useAppSelector","useIsPanorama","selectActiveTooltipDataKey","selectActiveTooltipIndex","SetLegendPayload","useAnimationId","resolveDefaultProps","RegisterGraphicalItemId","SetCartesianGraphicalItem","svgPropertiesNoEvents","svgPropertiesNoEventsFromUnknown","JavascriptAnimate","ZIndexLayer","DefaultZIndexes","getZIndexFromUnknown","propsAreEqual","computeLegendPayloadFromBarData","props","dataKey","name","fill","legendType","hide","inactive","type","color","payload","SetBarTooltipEntrySettings","memo","_ref","stroke","strokeWidth","unit","tooltipType","tooltipEntrySettings","dataDefinedOnItem","undefined","positions","settings","nameKey","createElement","BarBackground","activeIndex","data","background","backgroundFromProps","allOtherBarProps","onMouseEnter","onMouseEnterFromProps","onMouseLeave","onMouseLeaveFromProps","onClick","onItemClickFromProps","restOfAllOtherProps","onMouseEnterFromContext","onMouseLeaveFromContext","onClickFromContext","backgroundProps","zIndex","barBackground","map","entry","backgroundFromDataEntry","tooltipPosition","rest","barRectangleProps","option","isActive","index","className","key","concat","BarLabelListProvider","_ref2","showLabels","children","rects","labelListEntries","viewBox","x","y","width","lowerWidth","upperWidth","height","parentViewBox","BarRectangleWithActiveState","shape","activeBar","baseProps","activeDataKey","BarRectangleNeverActive","BarRectangles","_ref3","_svgPropertiesNoEvent","_ref4","id","Fragment","RectanglesWithAnimation","_ref5","previousRectanglesRef","layout","isAnimationActive","animationBegin","animationDuration","animationEasing","onAnimationEnd","onAnimationStart","prevData","current","animationId","isAnimating","setIsAnimating","handleAnimationEnd","handleAnimationStart","begin","duration","easing","stepData","prev","stackedBarStart","w","label","RenderRectangles","defaultMinPointSize","errorBarDataPointFormatter","dataPoint","Array","isArray","errorVal","BarWithState","render","xAxisId","yAxisId","needClip","layerClass","clipPathId","clipPath","defaultBarProps","minPointSize","bar","BarImpl","isPanorama","cells","state","errorBarOffset","firstDataPoint","dataPointFormatter","computeBarRectangles","_ref6","barSettings","minPointSizeProp","pos","bandSize","xAxis","yAxis","xAxisTicks","yAxisTicks","stackedData","displayedData","offset","dataStartIndex","numericAxis","stackedDomain","scale","domain","baseValue","_ref7","baseValueScale","currentValueScale","axis","ticks","size","computedHeight","top","Math","abs","delta","_baseValueScale","_currentValueScale","left","_delta","barRectangleItem","Boolean","BarFn","outsideProps","legendPayload","zAxisId","stackId","barSize","maxBarSize","Bar","displayName"],"sources":["E:/program/ai交友网站demo/dating-app/frontend/src/node_modules/recharts/es6/cartesian/Bar.js"],"sourcesContent":["var _excluded = [\"onMouseEnter\", \"onMouseLeave\", \"onClick\"],\n  _excluded2 = [\"value\", \"background\", \"tooltipPosition\"],\n  _excluded3 = [\"id\"],\n  _excluded4 = [\"onMouseEnter\", \"onClick\", \"onMouseLeave\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport * as React from 'react';\nimport { PureComponent, useCallback, useRef, useState } from 'react';\nimport { clsx } from 'clsx';\nimport { Layer } from '../container/Layer';\nimport { Cell } from '../component/Cell';\nimport { CartesianLabelListContextProvider, LabelListFromLabelProp } from '../component/LabelList';\nimport { interpolate, isNan, mathSign } from '../util/DataUtils';\nimport { findAllByType } from '../util/ReactUtils';\nimport { getBaseValueOfBar, getCateCoordinateOfBar, getNormalizedStackId, getTooltipNameProp, getValueByDataKey, truncateByDomain } from '../util/ChartUtils';\nimport { adaptEventsOfChild } from '../util/types';\nimport { BarRectangle, minPointSizeCallback } from '../util/BarUtils';\nimport { useMouseClickItemDispatch, useMouseEnterItemDispatch, useMouseLeaveItemDispatch } from '../context/tooltipContext';\nimport { SetTooltipEntrySettings } from '../state/SetTooltipEntrySettings';\nimport { SetErrorBarContext } from '../context/ErrorBarContext';\nimport { GraphicalItemClipPath, useNeedsClip } from './GraphicalItemClipPath';\nimport { useChartLayout } from '../context/chartLayoutContext';\nimport { selectBarRectangles } from '../state/selectors/barSelectors';\nimport { useAppSelector } from '../state/hooks';\nimport { useIsPanorama } from '../context/PanoramaContext';\nimport { selectActiveTooltipDataKey, selectActiveTooltipIndex } from '../state/selectors/tooltipSelectors';\nimport { SetLegendPayload } from '../state/SetLegendPayload';\nimport { useAnimationId } from '../util/useAnimationId';\nimport { resolveDefaultProps } from '../util/resolveDefaultProps';\nimport { RegisterGraphicalItemId } from '../context/RegisterGraphicalItemId';\nimport { SetCartesianGraphicalItem } from '../state/SetGraphicalItem';\nimport { svgPropertiesNoEvents, svgPropertiesNoEventsFromUnknown } from '../util/svgPropertiesNoEvents';\nimport { JavascriptAnimate } from '../animation/JavascriptAnimate';\nimport { ZIndexLayer } from '../zIndex/ZIndexLayer';\nimport { DefaultZIndexes } from '../zIndex/DefaultZIndexes';\nimport { getZIndexFromUnknown } from '../zIndex/getZIndexFromUnknown';\nimport { propsAreEqual } from '../util/propsAreEqual';\nvar computeLegendPayloadFromBarData = props => {\n  var {\n    dataKey,\n    name,\n    fill,\n    legendType,\n    hide\n  } = props;\n  return [{\n    inactive: hide,\n    dataKey,\n    type: legendType,\n    color: fill,\n    value: getTooltipNameProp(name, dataKey),\n    payload: props\n  }];\n};\nvar SetBarTooltipEntrySettings = /*#__PURE__*/React.memo(_ref => {\n  var {\n    dataKey,\n    stroke,\n    strokeWidth,\n    fill,\n    name,\n    hide,\n    unit,\n    tooltipType\n  } = _ref;\n  var tooltipEntrySettings = {\n    dataDefinedOnItem: undefined,\n    positions: undefined,\n    settings: {\n      stroke,\n      strokeWidth,\n      fill,\n      dataKey,\n      nameKey: undefined,\n      name: getTooltipNameProp(name, dataKey),\n      hide,\n      type: tooltipType,\n      color: fill,\n      unit\n    }\n  };\n  return /*#__PURE__*/React.createElement(SetTooltipEntrySettings, {\n    tooltipEntrySettings: tooltipEntrySettings\n  });\n});\nfunction BarBackground(props) {\n  var activeIndex = useAppSelector(selectActiveTooltipIndex);\n  var {\n    data,\n    dataKey,\n    background: backgroundFromProps,\n    allOtherBarProps\n  } = props;\n  var {\n      onMouseEnter: onMouseEnterFromProps,\n      onMouseLeave: onMouseLeaveFromProps,\n      onClick: onItemClickFromProps\n    } = allOtherBarProps,\n    restOfAllOtherProps = _objectWithoutProperties(allOtherBarProps, _excluded);\n\n  // @ts-expect-error bar mouse events are not compatible with recharts mouse events\n  var onMouseEnterFromContext = useMouseEnterItemDispatch(onMouseEnterFromProps, dataKey);\n  // @ts-expect-error bar mouse events are not compatible with recharts mouse events\n  var onMouseLeaveFromContext = useMouseLeaveItemDispatch(onMouseLeaveFromProps);\n  // @ts-expect-error bar mouse events are not compatible with recharts mouse events\n  var onClickFromContext = useMouseClickItemDispatch(onItemClickFromProps, dataKey);\n  if (!backgroundFromProps || data == null) {\n    return null;\n  }\n  var backgroundProps = svgPropertiesNoEventsFromUnknown(backgroundFromProps);\n  return /*#__PURE__*/React.createElement(ZIndexLayer, {\n    zIndex: getZIndexFromUnknown(backgroundFromProps, DefaultZIndexes.barBackground)\n  }, data.map((entry, i) => {\n    var {\n        value,\n        background: backgroundFromDataEntry,\n        tooltipPosition\n      } = entry,\n      rest = _objectWithoutProperties(entry, _excluded2);\n    if (!backgroundFromDataEntry) {\n      return null;\n    }\n\n    // @ts-expect-error BarRectangleItem type definition says it's missing properties, but I can see them present in debugger!\n    var onMouseEnter = onMouseEnterFromContext(entry, i);\n    // @ts-expect-error BarRectangleItem type definition says it's missing properties, but I can see them present in debugger!\n    var onMouseLeave = onMouseLeaveFromContext(entry, i);\n    // @ts-expect-error BarRectangleItem type definition says it's missing properties, but I can see them present in debugger!\n    var onClick = onClickFromContext(entry, i);\n    var barRectangleProps = _objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({\n      option: backgroundFromProps,\n      isActive: String(i) === activeIndex\n    }, rest), {}, {\n      // @ts-expect-error backgroundProps is contributing unknown props\n      fill: '#eee'\n    }, backgroundFromDataEntry), backgroundProps), adaptEventsOfChild(restOfAllOtherProps, entry, i)), {}, {\n      onMouseEnter,\n      onMouseLeave,\n      onClick,\n      dataKey,\n      index: i,\n      className: 'recharts-bar-background-rectangle'\n    });\n    return /*#__PURE__*/React.createElement(BarRectangle, _extends({\n      key: \"background-bar-\".concat(i)\n    }, barRectangleProps));\n  }));\n}\nfunction BarLabelListProvider(_ref2) {\n  var {\n    showLabels,\n    children,\n    rects\n  } = _ref2;\n  var labelListEntries = rects === null || rects === void 0 ? void 0 : rects.map(entry => {\n    var viewBox = {\n      x: entry.x,\n      y: entry.y,\n      width: entry.width,\n      lowerWidth: entry.width,\n      upperWidth: entry.width,\n      height: entry.height\n    };\n    return _objectSpread(_objectSpread({}, viewBox), {}, {\n      value: entry.value,\n      payload: entry.payload,\n      parentViewBox: entry.parentViewBox,\n      viewBox,\n      fill: entry.fill\n    });\n  });\n  return /*#__PURE__*/React.createElement(CartesianLabelListContextProvider, {\n    value: showLabels ? labelListEntries : undefined\n  }, children);\n}\nfunction BarRectangleWithActiveState(props) {\n  var {\n    shape,\n    activeBar,\n    baseProps,\n    entry,\n    index,\n    dataKey\n  } = props;\n  var activeIndex = useAppSelector(selectActiveTooltipIndex);\n  var activeDataKey = useAppSelector(selectActiveTooltipDataKey);\n  /*\n   * Bars support stacking, meaning that there can be multiple bars at the same x value.\n   * With Tooltip shared=false we only want to highlight the currently active Bar, not all.\n   *\n   * Also, if the tooltip is shared, we want to highlight all bars at the same x value\n   * regardless of the dataKey.\n   *\n   * With shared Tooltip, the activeDataKey is undefined.\n   */\n  var isActive = activeBar && String(index) === activeIndex && (activeDataKey == null || dataKey === activeDataKey);\n  var option = isActive ? activeBar : shape;\n  if (isActive) {\n    return /*#__PURE__*/React.createElement(ZIndexLayer, {\n      zIndex: DefaultZIndexes.activeBar\n    }, /*#__PURE__*/React.createElement(BarRectangle, _extends({}, baseProps, {\n      name: String(baseProps.name)\n    }, entry, {\n      isActive: isActive,\n      option: option,\n      index: index,\n      dataKey: dataKey\n    })));\n  }\n  return /*#__PURE__*/React.createElement(BarRectangle, _extends({}, baseProps, {\n    name: String(baseProps.name)\n  }, entry, {\n    isActive: isActive,\n    option: option,\n    index: index,\n    dataKey: dataKey\n  }));\n}\nfunction BarRectangleNeverActive(props) {\n  var {\n    shape,\n    baseProps,\n    entry,\n    index,\n    dataKey\n  } = props;\n  return /*#__PURE__*/React.createElement(BarRectangle, _extends({}, baseProps, {\n    name: String(baseProps.name)\n  }, entry, {\n    isActive: false,\n    option: shape,\n    index: index,\n    dataKey: dataKey\n  }));\n}\nfunction BarRectangles(_ref3) {\n  var _svgPropertiesNoEvent;\n  var {\n    data,\n    props\n  } = _ref3;\n  var _ref4 = (_svgPropertiesNoEvent = svgPropertiesNoEvents(props)) !== null && _svgPropertiesNoEvent !== void 0 ? _svgPropertiesNoEvent : {},\n    {\n      id\n    } = _ref4,\n    baseProps = _objectWithoutProperties(_ref4, _excluded3);\n  var {\n    shape,\n    dataKey,\n    activeBar\n  } = props;\n  var {\n      onMouseEnter: onMouseEnterFromProps,\n      onClick: onItemClickFromProps,\n      onMouseLeave: onMouseLeaveFromProps\n    } = props,\n    restOfAllOtherProps = _objectWithoutProperties(props, _excluded4);\n\n  // @ts-expect-error bar mouse events are not compatible with recharts mouse events\n  var onMouseEnterFromContext = useMouseEnterItemDispatch(onMouseEnterFromProps, dataKey);\n  // @ts-expect-error bar mouse events are not compatible with recharts mouse events\n  var onMouseLeaveFromContext = useMouseLeaveItemDispatch(onMouseLeaveFromProps);\n  // @ts-expect-error bar mouse events are not compatible with recharts mouse events\n  var onClickFromContext = useMouseClickItemDispatch(onItemClickFromProps, dataKey);\n  if (!data) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, data.map((entry, i) => {\n    return /*#__PURE__*/React.createElement(Layer\n    // https://github.com/recharts/recharts/issues/5415\n    , _extends({\n      key: \"rectangle-\".concat(entry === null || entry === void 0 ? void 0 : entry.x, \"-\").concat(entry === null || entry === void 0 ? void 0 : entry.y, \"-\").concat(entry === null || entry === void 0 ? void 0 : entry.value, \"-\").concat(i),\n      className: \"recharts-bar-rectangle\"\n    }, adaptEventsOfChild(restOfAllOtherProps, entry, i), {\n      // @ts-expect-error BarRectangleItem type definition says it's missing properties, but I can see them present in debugger!\n      onMouseEnter: onMouseEnterFromContext(entry, i)\n      // @ts-expect-error BarRectangleItem type definition says it's missing properties, but I can see them present in debugger!\n      ,\n      onMouseLeave: onMouseLeaveFromContext(entry, i)\n      // @ts-expect-error BarRectangleItem type definition says it's missing properties, but I can see them present in debugger!\n      ,\n      onClick: onClickFromContext(entry, i)\n    }), activeBar ? /*#__PURE__*/React.createElement(BarRectangleWithActiveState, {\n      shape: shape,\n      activeBar: activeBar,\n      baseProps: baseProps,\n      entry: entry,\n      index: i,\n      dataKey: dataKey\n    }) :\n    /*#__PURE__*/\n    /*\n     * If the `activeBar` prop is falsy, then let's call the variant without hooks.\n     * Using the `selectActiveTooltipIndex` selector is usually fast\n     * but in charts with large-ish amount of data even the few nanoseconds add up to a noticeable jank.\n     * If the activeBar is false then we don't need to know which index is active - because we won't use it anyway.\n     * So let's just skip the hooks altogether. That way, React can skip rendering the component,\n     * and can skip the tree reconciliation for its children too.\n     * Because we can't call hooks conditionally, we need to have a separate component for that.\n     */\n    React.createElement(BarRectangleNeverActive, {\n      shape: shape,\n      baseProps: baseProps,\n      entry: entry,\n      index: i,\n      dataKey: dataKey\n    }));\n  }));\n}\nfunction RectanglesWithAnimation(_ref5) {\n  var {\n    props,\n    previousRectanglesRef\n  } = _ref5;\n  var {\n    data,\n    layout,\n    isAnimationActive,\n    animationBegin,\n    animationDuration,\n    animationEasing,\n    onAnimationEnd,\n    onAnimationStart\n  } = props;\n  var prevData = previousRectanglesRef.current;\n  var animationId = useAnimationId(props, 'recharts-bar-');\n  var [isAnimating, setIsAnimating] = useState(false);\n  var showLabels = !isAnimating;\n  var handleAnimationEnd = useCallback(() => {\n    if (typeof onAnimationEnd === 'function') {\n      onAnimationEnd();\n    }\n    setIsAnimating(false);\n  }, [onAnimationEnd]);\n  var handleAnimationStart = useCallback(() => {\n    if (typeof onAnimationStart === 'function') {\n      onAnimationStart();\n    }\n    setIsAnimating(true);\n  }, [onAnimationStart]);\n  return /*#__PURE__*/React.createElement(BarLabelListProvider, {\n    showLabels: showLabels,\n    rects: data\n  }, /*#__PURE__*/React.createElement(JavascriptAnimate, {\n    animationId: animationId,\n    begin: animationBegin,\n    duration: animationDuration,\n    isActive: isAnimationActive,\n    easing: animationEasing,\n    onAnimationEnd: handleAnimationEnd,\n    onAnimationStart: handleAnimationStart,\n    key: animationId\n  }, t => {\n    var stepData = t === 1 ? data : data === null || data === void 0 ? void 0 : data.map((entry, index) => {\n      var prev = prevData && prevData[index];\n      if (prev) {\n        return _objectSpread(_objectSpread({}, entry), {}, {\n          x: interpolate(prev.x, entry.x, t),\n          y: interpolate(prev.y, entry.y, t),\n          width: interpolate(prev.width, entry.width, t),\n          height: interpolate(prev.height, entry.height, t)\n        });\n      }\n      if (layout === 'horizontal') {\n        var height = interpolate(0, entry.height, t);\n        var y = interpolate(entry.stackedBarStart, entry.y, t);\n        return _objectSpread(_objectSpread({}, entry), {}, {\n          y,\n          height\n        });\n      }\n      var w = interpolate(0, entry.width, t);\n      var x = interpolate(entry.stackedBarStart, entry.x, t);\n      return _objectSpread(_objectSpread({}, entry), {}, {\n        width: w,\n        x\n      });\n    });\n    if (t > 0) {\n      // eslint-disable-next-line no-param-reassign\n      previousRectanglesRef.current = stepData !== null && stepData !== void 0 ? stepData : null;\n    }\n    if (stepData == null) {\n      return null;\n    }\n    return /*#__PURE__*/React.createElement(Layer, null, /*#__PURE__*/React.createElement(BarRectangles, {\n      props: props,\n      data: stepData\n    }));\n  }), /*#__PURE__*/React.createElement(LabelListFromLabelProp, {\n    label: props.label\n  }), props.children);\n}\nfunction RenderRectangles(props) {\n  var previousRectanglesRef = useRef(null);\n  return /*#__PURE__*/React.createElement(RectanglesWithAnimation, {\n    previousRectanglesRef: previousRectanglesRef,\n    props: props\n  });\n}\nvar defaultMinPointSize = 0;\nvar errorBarDataPointFormatter = (dataPoint, dataKey) => {\n  /**\n   * if the value coming from `selectBarRectangles` is an array then this is a stacked bar chart.\n   * arr[1] represents end value of the bar since the data is in the form of [startValue, endValue].\n   * */\n  var value = Array.isArray(dataPoint.value) ? dataPoint.value[1] : dataPoint.value;\n  return {\n    x: dataPoint.x,\n    y: dataPoint.y,\n    value,\n    // @ts-expect-error getValueByDataKey does not validate the output type\n    errorVal: getValueByDataKey(dataPoint, dataKey)\n  };\n};\nclass BarWithState extends PureComponent {\n  render() {\n    var {\n      hide,\n      data,\n      dataKey,\n      className,\n      xAxisId,\n      yAxisId,\n      needClip,\n      background,\n      id\n    } = this.props;\n    if (hide || data == null) {\n      return null;\n    }\n    var layerClass = clsx('recharts-bar', className);\n    var clipPathId = id;\n    return /*#__PURE__*/React.createElement(Layer, {\n      className: layerClass,\n      id: id\n    }, needClip && /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(GraphicalItemClipPath, {\n      clipPathId: clipPathId,\n      xAxisId: xAxisId,\n      yAxisId: yAxisId\n    })), /*#__PURE__*/React.createElement(Layer, {\n      className: \"recharts-bar-rectangles\",\n      clipPath: needClip ? \"url(#clipPath-\".concat(clipPathId, \")\") : undefined\n    }, /*#__PURE__*/React.createElement(BarBackground, {\n      data: data,\n      dataKey: dataKey,\n      background: background,\n      allOtherBarProps: this.props\n    }), /*#__PURE__*/React.createElement(RenderRectangles, this.props)));\n  }\n}\nexport var defaultBarProps = {\n  activeBar: false,\n  animationBegin: 0,\n  animationDuration: 400,\n  animationEasing: 'ease',\n  background: false,\n  hide: false,\n  isAnimationActive: 'auto',\n  label: false,\n  legendType: 'rect',\n  minPointSize: defaultMinPointSize,\n  xAxisId: 0,\n  yAxisId: 0,\n  zIndex: DefaultZIndexes.bar\n};\nfunction BarImpl(props) {\n  var {\n    xAxisId,\n    yAxisId,\n    hide,\n    legendType,\n    minPointSize,\n    activeBar,\n    animationBegin,\n    animationDuration,\n    animationEasing,\n    isAnimationActive\n  } = props;\n  var {\n    needClip\n  } = useNeedsClip(xAxisId, yAxisId);\n  var layout = useChartLayout();\n  var isPanorama = useIsPanorama();\n  var cells = findAllByType(props.children, Cell);\n  var rects = useAppSelector(state => selectBarRectangles(state, xAxisId, yAxisId, isPanorama, props.id, cells));\n  if (layout !== 'vertical' && layout !== 'horizontal') {\n    return null;\n  }\n  var errorBarOffset;\n  var firstDataPoint = rects === null || rects === void 0 ? void 0 : rects[0];\n  if (firstDataPoint == null || firstDataPoint.height == null || firstDataPoint.width == null) {\n    errorBarOffset = 0;\n  } else {\n    errorBarOffset = layout === 'vertical' ? firstDataPoint.height / 2 : firstDataPoint.width / 2;\n  }\n  return /*#__PURE__*/React.createElement(SetErrorBarContext, {\n    xAxisId: xAxisId,\n    yAxisId: yAxisId,\n    data: rects,\n    dataPointFormatter: errorBarDataPointFormatter,\n    errorBarOffset: errorBarOffset\n  }, /*#__PURE__*/React.createElement(BarWithState, _extends({}, props, {\n    layout: layout,\n    needClip: needClip,\n    data: rects,\n    xAxisId: xAxisId,\n    yAxisId: yAxisId,\n    hide: hide,\n    legendType: legendType,\n    minPointSize: minPointSize,\n    activeBar: activeBar,\n    animationBegin: animationBegin,\n    animationDuration: animationDuration,\n    animationEasing: animationEasing,\n    isAnimationActive: isAnimationActive\n  })));\n}\nexport function computeBarRectangles(_ref6) {\n  var {\n    layout,\n    barSettings: {\n      dataKey,\n      minPointSize: minPointSizeProp\n    },\n    pos,\n    bandSize,\n    xAxis,\n    yAxis,\n    xAxisTicks,\n    yAxisTicks,\n    stackedData,\n    displayedData,\n    offset,\n    cells,\n    parentViewBox,\n    dataStartIndex\n  } = _ref6;\n  var numericAxis = layout === 'horizontal' ? yAxis : xAxis;\n  // @ts-expect-error this assumes that the domain is always numeric, but doesn't check for it\n  var stackedDomain = stackedData ? numericAxis.scale.domain() : null;\n  var baseValue = getBaseValueOfBar({\n    numericAxis\n  });\n  var stackedBarStart = numericAxis.scale(baseValue);\n  return displayedData.map((entry, index) => {\n    var value, x, y, width, height, background;\n    if (stackedData) {\n      // Use dataStartIndex to access the correct element in the full stackedData array\n      value = truncateByDomain(stackedData[index + dataStartIndex], stackedDomain);\n    } else {\n      value = getValueByDataKey(entry, dataKey);\n      if (!Array.isArray(value)) {\n        value = [baseValue, value];\n      }\n    }\n    var minPointSize = minPointSizeCallback(minPointSizeProp, defaultMinPointSize)(value[1], index);\n    if (layout === 'horizontal') {\n      var _ref7;\n      var [baseValueScale, currentValueScale] = [yAxis.scale(value[0]), yAxis.scale(value[1])];\n      x = getCateCoordinateOfBar({\n        axis: xAxis,\n        ticks: xAxisTicks,\n        bandSize,\n        offset: pos.offset,\n        entry,\n        index\n      });\n      y = (_ref7 = currentValueScale !== null && currentValueScale !== void 0 ? currentValueScale : baseValueScale) !== null && _ref7 !== void 0 ? _ref7 : undefined;\n      width = pos.size;\n      var computedHeight = baseValueScale - currentValueScale;\n      height = isNan(computedHeight) ? 0 : computedHeight;\n      background = {\n        x,\n        y: offset.top,\n        width,\n        height: offset.height\n      };\n      if (Math.abs(minPointSize) > 0 && Math.abs(height) < Math.abs(minPointSize)) {\n        var delta = mathSign(height || minPointSize) * (Math.abs(minPointSize) - Math.abs(height));\n        y -= delta;\n        height += delta;\n      }\n    } else {\n      var [_baseValueScale, _currentValueScale] = [xAxis.scale(value[0]), xAxis.scale(value[1])];\n      x = _baseValueScale;\n      y = getCateCoordinateOfBar({\n        axis: yAxis,\n        ticks: yAxisTicks,\n        bandSize,\n        offset: pos.offset,\n        entry,\n        index\n      });\n      width = _currentValueScale - _baseValueScale;\n      height = pos.size;\n      background = {\n        x: offset.left,\n        y,\n        width: offset.width,\n        height\n      };\n      if (Math.abs(minPointSize) > 0 && Math.abs(width) < Math.abs(minPointSize)) {\n        var _delta = mathSign(width || minPointSize) * (Math.abs(minPointSize) - Math.abs(width));\n        width += _delta;\n      }\n    }\n    if (x == null || y == null || width == null || height == null) {\n      return null;\n    }\n    var barRectangleItem = _objectSpread(_objectSpread({}, entry), {}, {\n      stackedBarStart,\n      x,\n      y,\n      width,\n      height,\n      value: stackedData ? value : value[1],\n      payload: entry,\n      background,\n      tooltipPosition: {\n        x: x + width / 2,\n        y: y + height / 2\n      },\n      parentViewBox\n    }, cells && cells[index] && cells[index].props);\n    return barRectangleItem;\n  }).filter(Boolean);\n}\nfunction BarFn(outsideProps) {\n  var props = resolveDefaultProps(outsideProps, defaultBarProps);\n  var isPanorama = useIsPanorama();\n  // Report all props to Redux store first, before calling any hooks, to avoid circular dependencies.\n  return /*#__PURE__*/React.createElement(RegisterGraphicalItemId, {\n    id: props.id,\n    type: \"bar\"\n  }, id => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SetLegendPayload, {\n    legendPayload: computeLegendPayloadFromBarData(props)\n  }), /*#__PURE__*/React.createElement(SetBarTooltipEntrySettings, {\n    dataKey: props.dataKey,\n    stroke: props.stroke,\n    strokeWidth: props.strokeWidth,\n    fill: props.fill,\n    name: props.name,\n    hide: props.hide,\n    unit: props.unit,\n    tooltipType: props.tooltipType\n  }), /*#__PURE__*/React.createElement(SetCartesianGraphicalItem, {\n    type: \"bar\",\n    id: id\n    // Bar does not allow setting data directly on the graphical item (why?)\n    ,\n    data: undefined,\n    xAxisId: props.xAxisId,\n    yAxisId: props.yAxisId,\n    zAxisId: 0,\n    dataKey: props.dataKey,\n    stackId: getNormalizedStackId(props.stackId),\n    hide: props.hide,\n    barSize: props.barSize,\n    minPointSize: props.minPointSize,\n    maxBarSize: props.maxBarSize,\n    isPanorama: isPanorama\n  }), /*#__PURE__*/React.createElement(ZIndexLayer, {\n    zIndex: props.zIndex\n  }, /*#__PURE__*/React.createElement(BarImpl, _extends({}, props, {\n    id: id\n  })))));\n}\nexport var Bar = /*#__PURE__*/React.memo(BarFn, propsAreEqual);\nBar.displayName = 'Bar';"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}