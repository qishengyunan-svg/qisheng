{"ast":null,"code":"import{ascendingDefined,compareDefined}from\"./sort.js\";// Based on https://github.com/mourner/quickselect\n// ISC license, Copyright 2018 Vladimir Agafonkin.\nexport default function quickselect(array,k){let left=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;let right=arguments.length>3&&arguments[3]!==undefined?arguments[3]:Infinity;let compare=arguments.length>4?arguments[4]:undefined;k=Math.floor(k);left=Math.floor(Math.max(0,left));right=Math.floor(Math.min(array.length-1,right));if(!(left<=k&&k<=right))return array;compare=compare===undefined?ascendingDefined:compareDefined(compare);while(right>left){if(right-left>600){const n=right-left+1;const m=k-left+1;const z=Math.log(n);const s=0.5*Math.exp(2*z/3);const sd=0.5*Math.sqrt(z*s*(n-s)/n)*(m-n/2<0?-1:1);const newLeft=Math.max(left,Math.floor(k-m*s/n+sd));const newRight=Math.min(right,Math.floor(k+(n-m)*s/n+sd));quickselect(array,k,newLeft,newRight,compare);}const t=array[k];let i=left;let j=right;swap(array,left,k);if(compare(array[right],t)>0)swap(array,left,right);while(i<j){swap(array,i,j),++i,--j;while(compare(array[i],t)<0)++i;while(compare(array[j],t)>0)--j;}if(compare(array[left],t)===0)swap(array,left,j);else++j,swap(array,j,right);if(j<=k)left=j+1;if(k<=j)right=j-1;}return array;}function swap(array,i,j){const t=array[i];array[i]=array[j];array[j]=t;}","map":{"version":3,"names":["ascendingDefined","compareDefined","quickselect","array","k","left","arguments","length","undefined","right","Infinity","compare","Math","floor","max","min","n","m","z","log","s","exp","sd","sqrt","newLeft","newRight","t","i","j","swap"],"sources":["E:/program/ai交友网站demo/dating-app/frontend/src/node_modules/d3-array/src/quickselect.js"],"sourcesContent":["import {ascendingDefined, compareDefined} from \"./sort.js\";\n\n// Based on https://github.com/mourner/quickselect\n// ISC license, Copyright 2018 Vladimir Agafonkin.\nexport default function quickselect(array, k, left = 0, right = Infinity, compare) {\n  k = Math.floor(k);\n  left = Math.floor(Math.max(0, left));\n  right = Math.floor(Math.min(array.length - 1, right));\n\n  if (!(left <= k && k <= right)) return array;\n\n  compare = compare === undefined ? ascendingDefined : compareDefined(compare);\n\n  while (right > left) {\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp(2 * z / 3);\n      const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n      const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n      const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n      quickselect(array, k, newLeft, newRight, compare);\n    }\n\n    const t = array[k];\n    let i = left;\n    let j = right;\n\n    swap(array, left, k);\n    if (compare(array[right], t) > 0) swap(array, left, right);\n\n    while (i < j) {\n      swap(array, i, j), ++i, --j;\n      while (compare(array[i], t) < 0) ++i;\n      while (compare(array[j], t) > 0) --j;\n    }\n\n    if (compare(array[left], t) === 0) swap(array, left, j);\n    else ++j, swap(array, j, right);\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n\n  return array;\n}\n\nfunction swap(array, i, j) {\n  const t = array[i];\n  array[i] = array[j];\n  array[j] = t;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}