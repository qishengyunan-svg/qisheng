{"ast":null,"code":"import React,{useState}from'react';import{Send}from'lucide-react';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const MessageInput=_ref=>{let{onSend,onCancel,recipientName,actionType}=_ref;const[message,setMessage]=useState('');const handleSend=()=>{if(message.trim()){onSend(message.trim());setMessage('');}};const handleKeyPress=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();handleSend();}};return/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black/50 backdrop-blur-sm z-40 flex items-end justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white w-full p-6 rounded-t-3xl shadow-xl\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-bold text-gray-800 mb-4\",children:[actionType==='super-like'?'超级喜欢':'喜欢',\" \",recipientName,\"\\uFF1F\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"\\u5199\\u4E00\\u6761\\u6D88\\u606F\\u7ED9\\u5BF9\\u65B9\\u5427\\uFF0C\\u589E\\u52A0\\u5339\\u914D\\u6210\\u529F\\u7387\\uFF01\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:message,onChange:e=>setMessage(e.target.value),onKeyPress:handleKeyPress,placeholder:\"\\u5199\\u4E0B\\u4F60\\u7684\\u7B2C\\u4E00\\u6761\\u6D88\\u606F...\",className:\"flex-1 p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\",maxLength:100,autoFocus:true}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSend,className:\"p-3 bg-gradient-to-tr from-rose-500 to-pink-600 rounded-xl text-white hover:scale-105 transition-all disabled:opacity-50 disabled:cursor-not-allowed\",disabled:!message.trim(),children:/*#__PURE__*/_jsx(Send,{size:20})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:onCancel,className:\"text-gray-500 hover:text-gray-700 text-sm font-medium\",children:\"\\u53D6\\u6D88\"})})]})});};export default MessageInput;","map":{"version":3,"names":["React","useState","Send","jsxs","_jsxs","jsx","_jsx","MessageInput","_ref","onSend","onCancel","recipientName","actionType","message","setMessage","handleSend","trim","handleKeyPress","e","key","shiftKey","preventDefault","className","children","type","value","onChange","target","onKeyPress","placeholder","maxLength","autoFocus","onClick","disabled","size"],"sources":["E:/program/ai交友网站demo/dating-app/frontend/src/components/MessageInput.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Send } from 'lucide-react';\n\ninterface MessageInputProps {\n  onSend: (message: string) => void;\n  onCancel: () => void;\n  recipientName: string;\n  actionType: 'like' | 'super-like';\n}\n\nconst MessageInput: React.FC<MessageInputProps> = ({ onSend, onCancel, recipientName, actionType }) => {\n  const [message, setMessage] = useState('');\n\n  const handleSend = () => {\n    if (message.trim()) {\n      onSend(message.trim());\n      setMessage('');\n    }\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n\n  return (\n    <div className=\"absolute inset-0 bg-black/50 backdrop-blur-sm z-40 flex items-end justify-center\">\n      <div className=\"bg-white w-full p-6 rounded-t-3xl shadow-xl\">\n        <h3 className=\"text-lg font-bold text-gray-800 mb-4\">\n          {actionType === 'super-like' ? '超级喜欢' : '喜欢'} {recipientName}？\n        </h3>\n        <p className=\"text-gray-600 mb-4\">写一条消息给对方吧，增加匹配成功率！</p>\n        <div className=\"flex gap-3 mb-4\">\n          <input\n            type=\"text\"\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n            onKeyPress={handleKeyPress}\n            placeholder=\"写下你的第一条消息...\"\n            className=\"flex-1 p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\"\n            maxLength={100}\n            autoFocus\n          />\n          <button\n            onClick={handleSend}\n            className=\"p-3 bg-gradient-to-tr from-rose-500 to-pink-600 rounded-xl text-white hover:scale-105 transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\n            disabled={!message.trim()}\n          >\n            <Send size={20} />\n          </button>\n        </div>\n        <div className=\"flex justify-center\">\n          <button\n            onClick={onCancel}\n            className=\"text-gray-500 hover:text-gray-700 text-sm font-medium\"\n          >\n            取消\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MessageInput;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,IAAI,KAAQ,cAAc,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBASpC,KAAM,CAAAC,YAAyC,CAAGC,IAAA,EAAqD,IAApD,CAAEC,MAAM,CAAEC,QAAQ,CAAEC,aAAa,CAAEC,UAAW,CAAC,CAAAJ,IAAA,CAChG,KAAM,CAACK,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAE1C,KAAM,CAAAc,UAAU,CAAGA,CAAA,GAAM,CACvB,GAAIF,OAAO,CAACG,IAAI,CAAC,CAAC,CAAE,CAClBP,MAAM,CAACI,OAAO,CAACG,IAAI,CAAC,CAAC,CAAC,CACtBF,UAAU,CAAC,EAAE,CAAC,CAChB,CACF,CAAC,CAED,KAAM,CAAAG,cAAc,CAAIC,CAAsB,EAAK,CACjD,GAAIA,CAAC,CAACC,GAAG,GAAK,OAAO,EAAI,CAACD,CAAC,CAACE,QAAQ,CAAE,CACpCF,CAAC,CAACG,cAAc,CAAC,CAAC,CAClBN,UAAU,CAAC,CAAC,CACd,CACF,CAAC,CAED,mBACET,IAAA,QAAKgB,SAAS,CAAC,kFAAkF,CAAAC,QAAA,cAC/FnB,KAAA,QAAKkB,SAAS,CAAC,6CAA6C,CAAAC,QAAA,eAC1DnB,KAAA,OAAIkB,SAAS,CAAC,sCAAsC,CAAAC,QAAA,EACjDX,UAAU,GAAK,YAAY,CAAG,MAAM,CAAG,IAAI,CAAC,GAAC,CAACD,aAAa,CAAC,QAC/D,EAAI,CAAC,cACLL,IAAA,MAAGgB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,8GAAkB,CAAG,CAAC,cACxDnB,KAAA,QAAKkB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BjB,IAAA,UACEkB,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEZ,OAAQ,CACfa,QAAQ,CAAGR,CAAC,EAAKJ,UAAU,CAACI,CAAC,CAACS,MAAM,CAACF,KAAK,CAAE,CAC5CG,UAAU,CAAEX,cAAe,CAC3BY,WAAW,CAAC,2DAAc,CAC1BP,SAAS,CAAC,sHAAsH,CAChIQ,SAAS,CAAE,GAAI,CACfC,SAAS,MACV,CAAC,cACFzB,IAAA,WACE0B,OAAO,CAAEjB,UAAW,CACpBO,SAAS,CAAC,sJAAsJ,CAChKW,QAAQ,CAAE,CAACpB,OAAO,CAACG,IAAI,CAAC,CAAE,CAAAO,QAAA,cAE1BjB,IAAA,CAACJ,IAAI,EAACgC,IAAI,CAAE,EAAG,CAAE,CAAC,CACZ,CAAC,EACN,CAAC,cACN5B,IAAA,QAAKgB,SAAS,CAAC,qBAAqB,CAAAC,QAAA,cAClCjB,IAAA,WACE0B,OAAO,CAAEtB,QAAS,CAClBY,SAAS,CAAC,uDAAuD,CAAAC,QAAA,CAClE,cAED,CAAQ,CAAC,CACN,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}