{"ast":null,"code":"import{useEffect,useState}from'react';import{useAppDispatch,useAppSelector}from'../state/hooks';import{selectContainerScale}from'../state/selectors/containerSelectors';import{setScale}from'../state/layoutSlice';import{isWellBehavedNumber}from'./isWellBehavedNumber';export function useReportScale(){var dispatch=useAppDispatch();var[ref,setRef]=useState(null);var scale=useAppSelector(selectContainerScale);useEffect(()=>{if(ref==null){return;}var rect=ref.getBoundingClientRect();var newScale=rect.width/ref.offsetWidth;if(isWellBehavedNumber(newScale)&&newScale!==scale){dispatch(setScale(newScale));}},[ref,dispatch,scale]);return setRef;}","map":{"version":3,"names":["useEffect","useState","useAppDispatch","useAppSelector","selectContainerScale","setScale","isWellBehavedNumber","useReportScale","dispatch","ref","setRef","scale","rect","getBoundingClientRect","newScale","width","offsetWidth"],"sources":["E:/program/ai交友网站demo/dating-app/frontend/src/node_modules/recharts/es6/util/useReportScale.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useAppDispatch, useAppSelector } from '../state/hooks';\nimport { selectContainerScale } from '../state/selectors/containerSelectors';\nimport { setScale } from '../state/layoutSlice';\nimport { isWellBehavedNumber } from './isWellBehavedNumber';\nexport function useReportScale() {\n  var dispatch = useAppDispatch();\n  var [ref, setRef] = useState(null);\n  var scale = useAppSelector(selectContainerScale);\n  useEffect(() => {\n    if (ref == null) {\n      return;\n    }\n    var rect = ref.getBoundingClientRect();\n    var newScale = rect.width / ref.offsetWidth;\n    if (isWellBehavedNumber(newScale) && newScale !== scale) {\n      dispatch(setScale(newScale));\n    }\n  }, [ref, dispatch, scale]);\n  return setRef;\n}"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,cAAc,CAAEC,cAAc,KAAQ,gBAAgB,CAC/D,OAASC,oBAAoB,KAAQ,uCAAuC,CAC5E,OAASC,QAAQ,KAAQ,sBAAsB,CAC/C,OAASC,mBAAmB,KAAQ,uBAAuB,CAC3D,MAAO,SAAS,CAAAC,cAAcA,CAAA,CAAG,CAC/B,GAAI,CAAAC,QAAQ,CAAGN,cAAc,CAAC,CAAC,CAC/B,GAAI,CAACO,GAAG,CAAEC,MAAM,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CAClC,GAAI,CAAAU,KAAK,CAAGR,cAAc,CAACC,oBAAoB,CAAC,CAChDJ,SAAS,CAAC,IAAM,CACd,GAAIS,GAAG,EAAI,IAAI,CAAE,CACf,OACF,CACA,GAAI,CAAAG,IAAI,CAAGH,GAAG,CAACI,qBAAqB,CAAC,CAAC,CACtC,GAAI,CAAAC,QAAQ,CAAGF,IAAI,CAACG,KAAK,CAAGN,GAAG,CAACO,WAAW,CAC3C,GAAIV,mBAAmB,CAACQ,QAAQ,CAAC,EAAIA,QAAQ,GAAKH,KAAK,CAAE,CACvDH,QAAQ,CAACH,QAAQ,CAACS,QAAQ,CAAC,CAAC,CAC9B,CACF,CAAC,CAAE,CAACL,GAAG,CAAED,QAAQ,CAAEG,KAAK,CAAC,CAAC,CAC1B,MAAO,CAAAD,MAAM,CACf","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}