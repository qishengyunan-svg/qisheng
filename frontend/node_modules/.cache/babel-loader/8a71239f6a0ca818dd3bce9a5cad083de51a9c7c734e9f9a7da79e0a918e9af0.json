{"ast":null,"code":"import{createAction,createListenerMiddleware}from'@reduxjs/toolkit';import{setActiveMouseOverItemIndex,setMouseOverAxisIndex}from'./tooltipSlice';import{selectActivePropsFromChartPointer}from'./selectors/selectActivePropsFromChartPointer';import{getChartPointer}from'../util/getChartPointer';import{selectTooltipEventType}from'./selectors/selectTooltipEventType';import{DATA_ITEM_DATAKEY_ATTRIBUTE_NAME,DATA_ITEM_INDEX_ATTRIBUTE_NAME}from'../util/Constants';import{selectTooltipCoordinate}from'./selectors/touchSelectors';export var touchEventAction=createAction('touchMove');export var touchEventMiddleware=createListenerMiddleware();touchEventMiddleware.startListening({actionCreator:touchEventAction,effect:(action,listenerApi)=>{var touchEvent=action.payload;if(touchEvent.touches==null||touchEvent.touches.length===0){return;}var state=listenerApi.getState();var tooltipEventType=selectTooltipEventType(state,state.tooltip.settings.shared);if(tooltipEventType==='axis'){var activeProps=selectActivePropsFromChartPointer(state,getChartPointer({clientX:touchEvent.touches[0].clientX,clientY:touchEvent.touches[0].clientY,currentTarget:touchEvent.currentTarget}));if((activeProps===null||activeProps===void 0?void 0:activeProps.activeIndex)!=null){listenerApi.dispatch(setMouseOverAxisIndex({activeIndex:activeProps.activeIndex,activeDataKey:undefined,activeCoordinate:activeProps.activeCoordinate}));}}else if(tooltipEventType==='item'){var _target$getAttribute;var touch=touchEvent.touches[0];if(document.elementFromPoint==null){return;}var target=document.elementFromPoint(touch.clientX,touch.clientY);if(!target||!target.getAttribute){return;}var itemIndex=target.getAttribute(DATA_ITEM_INDEX_ATTRIBUTE_NAME);var dataKey=(_target$getAttribute=target.getAttribute(DATA_ITEM_DATAKEY_ATTRIBUTE_NAME))!==null&&_target$getAttribute!==void 0?_target$getAttribute:undefined;var coordinate=selectTooltipCoordinate(listenerApi.getState(),itemIndex,dataKey);listenerApi.dispatch(setActiveMouseOverItemIndex({activeDataKey:dataKey,activeIndex:itemIndex,activeCoordinate:coordinate}));}}});","map":{"version":3,"names":["createAction","createListenerMiddleware","setActiveMouseOverItemIndex","setMouseOverAxisIndex","selectActivePropsFromChartPointer","getChartPointer","selectTooltipEventType","DATA_ITEM_DATAKEY_ATTRIBUTE_NAME","DATA_ITEM_INDEX_ATTRIBUTE_NAME","selectTooltipCoordinate","touchEventAction","touchEventMiddleware","startListening","actionCreator","effect","action","listenerApi","touchEvent","payload","touches","length","state","getState","tooltipEventType","tooltip","settings","shared","activeProps","clientX","clientY","currentTarget","activeIndex","dispatch","activeDataKey","undefined","activeCoordinate","_target$getAttribute","touch","document","elementFromPoint","target","getAttribute","itemIndex","dataKey","coordinate"],"sources":["E:/program/ai交友网站demo/dating-app/frontend/src/node_modules/recharts/es6/state/touchEventsMiddleware.js"],"sourcesContent":["import { createAction, createListenerMiddleware } from '@reduxjs/toolkit';\nimport { setActiveMouseOverItemIndex, setMouseOverAxisIndex } from './tooltipSlice';\nimport { selectActivePropsFromChartPointer } from './selectors/selectActivePropsFromChartPointer';\nimport { getChartPointer } from '../util/getChartPointer';\nimport { selectTooltipEventType } from './selectors/selectTooltipEventType';\nimport { DATA_ITEM_DATAKEY_ATTRIBUTE_NAME, DATA_ITEM_INDEX_ATTRIBUTE_NAME } from '../util/Constants';\nimport { selectTooltipCoordinate } from './selectors/touchSelectors';\nexport var touchEventAction = createAction('touchMove');\nexport var touchEventMiddleware = createListenerMiddleware();\ntouchEventMiddleware.startListening({\n  actionCreator: touchEventAction,\n  effect: (action, listenerApi) => {\n    var touchEvent = action.payload;\n    if (touchEvent.touches == null || touchEvent.touches.length === 0) {\n      return;\n    }\n    var state = listenerApi.getState();\n    var tooltipEventType = selectTooltipEventType(state, state.tooltip.settings.shared);\n    if (tooltipEventType === 'axis') {\n      var activeProps = selectActivePropsFromChartPointer(state, getChartPointer({\n        clientX: touchEvent.touches[0].clientX,\n        clientY: touchEvent.touches[0].clientY,\n        currentTarget: touchEvent.currentTarget\n      }));\n      if ((activeProps === null || activeProps === void 0 ? void 0 : activeProps.activeIndex) != null) {\n        listenerApi.dispatch(setMouseOverAxisIndex({\n          activeIndex: activeProps.activeIndex,\n          activeDataKey: undefined,\n          activeCoordinate: activeProps.activeCoordinate\n        }));\n      }\n    } else if (tooltipEventType === 'item') {\n      var _target$getAttribute;\n      var touch = touchEvent.touches[0];\n      if (document.elementFromPoint == null) {\n        return;\n      }\n      var target = document.elementFromPoint(touch.clientX, touch.clientY);\n      if (!target || !target.getAttribute) {\n        return;\n      }\n      var itemIndex = target.getAttribute(DATA_ITEM_INDEX_ATTRIBUTE_NAME);\n      var dataKey = (_target$getAttribute = target.getAttribute(DATA_ITEM_DATAKEY_ATTRIBUTE_NAME)) !== null && _target$getAttribute !== void 0 ? _target$getAttribute : undefined;\n      var coordinate = selectTooltipCoordinate(listenerApi.getState(), itemIndex, dataKey);\n      listenerApi.dispatch(setActiveMouseOverItemIndex({\n        activeDataKey: dataKey,\n        activeIndex: itemIndex,\n        activeCoordinate: coordinate\n      }));\n    }\n  }\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}