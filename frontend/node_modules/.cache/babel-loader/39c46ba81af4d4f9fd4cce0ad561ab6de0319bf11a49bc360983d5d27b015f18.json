{"ast":null,"code":"var _jsxFileName = \"E:\\\\program\\\\ai\\u4EA4\\u53CB\\u7F51\\u7AD9demo\\\\dating-app\\\\frontend\\\\src\\\\components\\\\ProfileEdit.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { ZODIAC_SIGNS } from '../types';\nimport { ChevronLeft, Upload } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProfileEdit = ({\n  user,\n  onSave,\n  onCancel\n}) => {\n  _s();\n  const [formData, setFormData] = useState(user);\n  const [isUploading, setIsUploading] = useState(false);\n  const handleChange = (field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const handleAvatarUpload = async e => {\n    var _e$target$files;\n    const file = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (!file) return;\n\n    // Check file type and size\n    if (!file.type.startsWith('image/')) {\n      alert('请选择图片文件');\n      return;\n    }\n    if (file.size > 5 * 1024 * 1024) {\n      alert('图片大小不能超过5MB');\n      return;\n    }\n    setIsUploading(true);\n    try {\n      // Convert file to base64\n      const reader = new FileReader();\n      reader.onload = async event => {\n        var _event$target;\n        const avatarData = (_event$target = event.target) === null || _event$target === void 0 ? void 0 : _event$target.result;\n        try {\n          // Upload to backend API\n          const apiBaseUrl = process.env.REACT_APP_API_URL || 'http://localhost:3001';\n          const response = await fetch(`${apiBaseUrl}/api/users/avatar`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': `Bearer ${localStorage.getItem('authToken')}`\n            },\n            body: JSON.stringify({\n              avatarData,\n              filename: file.name\n            })\n          });\n          if (!response.ok) {\n            const errorData = await response.json().catch(() => ({}));\n            throw new Error(errorData.error || 'Failed to upload avatar');\n          }\n          const data = await response.json();\n\n          // Use the complete user data returned from backend if available\n          if (data.user) {\n            // Add API base URL to avatar and photos URLs if needed\n            const updatedUser = {\n              ...data.user,\n              avatar: data.user.avatar && !data.user.avatar.startsWith('http') ? `${apiBaseUrl}${data.user.avatar}` : data.user.avatar,\n              photos: Array.isArray(data.user.photos) ? data.user.photos.map(photo => photo && !photo.startsWith('http') ? `${apiBaseUrl}${photo}` : photo) : []\n            };\n\n            // Update form data with the complete updated user data\n            setFormData(updatedUser);\n          } else if (data.avatar) {\n            // Fallback if only avatar URL is returned\n            const fullAvatarUrl = data.avatar.startsWith('http') ? data.avatar : `${apiBaseUrl}${data.avatar}`;\n            setFormData(prev => ({\n              ...prev,\n              avatar: fullAvatarUrl\n            }));\n          }\n        } catch (error) {\n          console.error('Avatar upload failed:', error);\n          // 使用更友好的错误提示，显示具体错误信息\n          alert(`头像上传失败: ${error instanceof Error ? error.message : '未知错误'}`);\n        } finally {\n          setIsUploading(false);\n        }\n      };\n      reader.onerror = () => {\n        console.error('Failed to read file');\n        alert('头像读取失败，请重试');\n        setIsUploading(false);\n      };\n      reader.readAsDataURL(file);\n    } catch (error) {\n      console.error('Avatar upload failed:', error);\n      // 使用更友好的错误提示，显示具体错误信息\n      alert(`头像上传失败: ${error instanceof Error ? error.message : '未知错误'}`);\n      setIsUploading(false);\n    }\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSave(formData);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-full w-full bg-white md:bg-transparent overflow-y-auto no-scrollbar pb-24 md:pb-0 md:flex md:items-center md:justify-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"md:w-[600px] md:h-[80vh] md:bg-white md:rounded-3xl md:shadow-2xl md:overflow-hidden md:flex md:flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sticky top-0 bg-white/95 backdrop-blur-sm z-10 border-b border-gray-100 px-4 py-3 flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onCancel,\n          className: \"p-2 -ml-2 text-gray-600 hover:bg-gray-100 rounded-full\",\n          children: /*#__PURE__*/_jsxDEV(ChevronLeft, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-lg font-bold text-gray-800\",\n          children: \"\\u7F16\\u8F91\\u8D44\\u6599\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSubmit,\n          className: \"p-2 -mr-2 text-rose-500 font-medium hover:bg-rose-50 rounded-lg px-4\",\n          children: \"\\u4FDD\\u5B58\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-y-auto p-6 space-y-8 no-scrollbar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative w-28 h-28 mb-4 group cursor-pointer\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: formData.avatar,\n              alt: \"Avatar\",\n              className: `w-full h-full rounded-full object-cover border-4 border-gray-100 shadow-sm transition-opacity group-hover:opacity-90 ${isUploading ? 'opacity-50' : ''}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 17\n            }, this), isUploading && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center rounded-full\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-12 h-12 border-4 border-white border-t-4 border-t-transparent rounded-full animate-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"absolute bottom-0 right-0 p-2 bg-rose-500 text-white rounded-full shadow-md hover:bg-rose-600 transition-colors disabled:opacity-70\",\n              disabled: isUploading,\n              children: /*#__PURE__*/_jsxDEV(Upload, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \"image/*\",\n              onChange: handleAvatarUpload,\n              className: \"absolute inset-0 opacity-0 cursor-pointer\",\n              disabled: isUploading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-400\",\n            children: \"\\u70B9\\u51FB\\u4FEE\\u6539\\u5934\\u50CF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-400 mt-1\",\n            children: \"\\u652F\\u6301 JPG\\u3001PNG\\u3001WEBP \\u683C\\u5F0F\\uFF0C\\u5927\\u5C0F\\u4E0D\\u8D85\\u8FC7 5MB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"\\u6635\\u79F0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: formData.name,\n              onChange: e => handleChange('name', e.target.value),\n              className: \"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-3 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"\\u5E74\\u9F84\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                min: \"18\",\n                max: \"100\",\n                value: formData.age,\n                onChange: e => handleChange('age', parseInt(e.target.value)),\n                className: \"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"\\u804C\\u4E1A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: formData.profession,\n                onChange: e => handleChange('profession', e.target.value),\n                className: \"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"\\u661F\\u5EA7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: formData.zodiac,\n                onChange: e => handleChange('zodiac', e.target.value),\n                className: \"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none appearance-none cursor-pointer\",\n                children: ZODIAC_SIGNS.map(z => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: z,\n                  children: z\n                }, z, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 44\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"\\u8EAB\\u9AD8 (cm)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 18\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: formData.height || '',\n              onChange: e => handleChange('height', parseInt(e.target.value)),\n              className: \"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 18\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"\\u5BB6\\u4E61\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: formData.hometown || '',\n              onChange: e => handleChange('hometown', e.target.value),\n              className: \"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\",\n              placeholder: \"\\u4F8B\\u5982\\uFF1A\\u5317\\u4EAC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"\\u5BFB\\u627E\\u4EC0\\u4E48\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: formData.lookingFor || '',\n              onChange: e => handleChange('lookingFor', e.target.value),\n              className: \"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\",\n              placeholder: \"\\u4F8B\\u5982\\uFF1A\\u4E00\\u6BB5\\u8BA4\\u771F\\u7684\\u5173\\u7CFB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center mb-1\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700\",\n                children: \"\\u81EA\\u6211\\u4ECB\\u7ECD\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              rows: 4,\n              value: formData.bio,\n              onChange: e => handleChange('bio', e.target.value),\n              className: \"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none resize-none transition-all\",\n              placeholder: \"\\u4ECB\\u7ECD\\u4E00\\u4E0B\\u81EA\\u5DF1...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-400 mt-1\",\n              children: \"\\u5B8C\\u5584\\u7684\\u81EA\\u6211\\u4ECB\\u7ECD\\u80FD\\u63D0\\u5347 300% \\u7684\\u5339\\u914D\\u7387\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"\\u6211\\u7684\\u6807\\u7B7E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-2\",\n              children: [(formData.tags || []).map((tag, idx) => /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"px-3 py-1 bg-white border border-gray-200 text-gray-600 rounded-full text-sm flex items-center gap-1 hover:border-rose-200 transition-colors cursor-default\",\n                children: [tag, /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => {\n                    const newTags = (formData.tags || []).filter((_, i) => i !== idx);\n                    handleChange('tags', newTags);\n                  },\n                  className: \"text-gray-400 hover:text-red-500\",\n                  children: \"\\xD7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 23\n                }, this)]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 21\n              }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => {\n                  const tag = prompt(\"添加标签:\");\n                  if (tag) handleChange('tags', [...(formData.tags || []), tag]);\n                },\n                className: \"px-3 py-1 bg-gray-100 text-gray-500 rounded-full text-sm border border-transparent hover:bg-gray-200 transition-colors\",\n                children: \"+ \\u6DFB\\u52A0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 5\n  }, this);\n};\n_s(ProfileEdit, \"JGxO0yCe2xpmBuh6JfTLAS05uXY=\");\n_c = ProfileEdit;\nexport default ProfileEdit;\nvar _c;\n$RefreshReg$(_c, \"ProfileEdit\");","map":{"version":3,"names":["React","useState","ZODIAC_SIGNS","ChevronLeft","Upload","jsxDEV","_jsxDEV","ProfileEdit","user","onSave","onCancel","_s","formData","setFormData","isUploading","setIsUploading","handleChange","field","value","prev","handleAvatarUpload","e","_e$target$files","file","target","files","type","startsWith","alert","size","reader","FileReader","onload","event","_event$target","avatarData","result","apiBaseUrl","process","env","REACT_APP_API_URL","response","fetch","method","headers","localStorage","getItem","body","JSON","stringify","filename","name","ok","errorData","json","catch","Error","error","data","updatedUser","avatar","photos","Array","isArray","map","photo","fullAvatarUrl","console","message","onerror","readAsDataURL","handleSubmit","preventDefault","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","disabled","accept","onChange","min","max","age","parseInt","profession","zodiac","z","height","hometown","placeholder","lookingFor","rows","bio","tags","tag","idx","newTags","filter","_","i","prompt","_c","$RefreshReg$"],"sources":["E:/program/ai交友网站demo/dating-app/frontend/src/components/ProfileEdit.tsx"],"sourcesContent":["\nimport React, { useState } from 'react';\nimport { UserProfile, ZODIAC_SIGNS } from '../types';\nimport { ChevronLeft, Save, Upload } from 'lucide-react';\n\ninterface ProfileEditProps {\n  user: UserProfile;\n  onSave: (u: Partial<UserProfile>) => void;\n  onCancel: () => void;\n}\n\nconst ProfileEdit: React.FC<ProfileEditProps> = ({ user, onSave, onCancel }) => {\n  const [formData, setFormData] = useState<UserProfile>(user);\n  const [isUploading, setIsUploading] = useState(false);\n\n  const handleChange = (field: keyof UserProfile, value: any) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n  };\n\n  const handleAvatarUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    // Check file type and size\n    if (!file.type.startsWith('image/')) {\n      alert('请选择图片文件');\n      return;\n    }\n    if (file.size > 5 * 1024 * 1024) {\n      alert('图片大小不能超过5MB');\n      return;\n    }\n\n    setIsUploading(true);\n    \n    try {\n      // Convert file to base64\n      const reader = new FileReader();\n      \n      reader.onload = async (event) => {\n            const avatarData = event.target?.result as string;\n            \n            try {\n              // Upload to backend API\n              const apiBaseUrl = process.env.REACT_APP_API_URL || 'http://localhost:3001';\n              const response = await fetch(`${apiBaseUrl}/api/users/avatar`, {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json',\n                  'Authorization': `Bearer ${localStorage.getItem('authToken')}`,\n                },\n                body: JSON.stringify({\n                  avatarData,\n                  filename: file.name\n                }),\n              });\n              \n              if (!response.ok) {\n                const errorData = await response.json().catch(() => ({}));\n                throw new Error(errorData.error || 'Failed to upload avatar');\n              }\n              \n              const data = await response.json();\n              \n              // Use the complete user data returned from backend if available\n              if (data.user) {\n                // Add API base URL to avatar and photos URLs if needed\n                const updatedUser = {\n                  ...data.user,\n                  avatar: data.user.avatar && !data.user.avatar.startsWith('http') ? `${apiBaseUrl}${data.user.avatar}` : data.user.avatar,\n                  photos: Array.isArray(data.user.photos) ? data.user.photos.map((photo: string) => \n                    photo && !photo.startsWith('http') ? `${apiBaseUrl}${photo}` : photo\n                  ) : []\n                };\n                \n                // Update form data with the complete updated user data\n                setFormData(updatedUser);\n              } else if (data.avatar) {\n                // Fallback if only avatar URL is returned\n                const fullAvatarUrl = data.avatar.startsWith('http') ? data.avatar : `${apiBaseUrl}${data.avatar}`;\n                setFormData(prev => ({\n                  ...prev,\n                  avatar: fullAvatarUrl\n                }));\n              }\n        } catch (error) {\n          console.error('Avatar upload failed:', error);\n          // 使用更友好的错误提示，显示具体错误信息\n          alert(`头像上传失败: ${error instanceof Error ? error.message : '未知错误'}`);\n        } finally {\n          setIsUploading(false);\n        }\n      };\n      \n      reader.onerror = () => {\n        console.error('Failed to read file');\n        alert('头像读取失败，请重试');\n        setIsUploading(false);\n      };\n      \n      reader.readAsDataURL(file);\n    } catch (error) {\n      console.error('Avatar upload failed:', error);\n      // 使用更友好的错误提示，显示具体错误信息\n      alert(`头像上传失败: ${error instanceof Error ? error.message : '未知错误'}`);\n      setIsUploading(false);\n    }\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onSave(formData);\n  };\n\n  return (\n    <div className=\"h-full w-full bg-white md:bg-transparent overflow-y-auto no-scrollbar pb-24 md:pb-0 md:flex md:items-center md:justify-center\">\n      <div className=\"md:w-[600px] md:h-[80vh] md:bg-white md:rounded-3xl md:shadow-2xl md:overflow-hidden md:flex md:flex-col\">\n          \n          {/* Header */}\n          <div className=\"sticky top-0 bg-white/95 backdrop-blur-sm z-10 border-b border-gray-100 px-4 py-3 flex items-center justify-between\">\n            <button onClick={onCancel} className=\"p-2 -ml-2 text-gray-600 hover:bg-gray-100 rounded-full\">\n              <ChevronLeft size={24} />\n            </button>\n            <h1 className=\"text-lg font-bold text-gray-800\">编辑资料</h1>\n            <button onClick={handleSubmit} className=\"p-2 -mr-2 text-rose-500 font-medium hover:bg-rose-50 rounded-lg px-4\">\n              保存\n            </button>\n          </div>\n\n          <div className=\"flex-1 overflow-y-auto p-6 space-y-8 no-scrollbar\">\n            {/* Avatar Section */}\n            <div className=\"flex flex-col items-center\">\n              <div className=\"relative w-28 h-28 mb-4 group cursor-pointer\">\n                <img \n                  src={formData.avatar} \n                  alt=\"Avatar\" \n                  className={`w-full h-full rounded-full object-cover border-4 border-gray-100 shadow-sm transition-opacity group-hover:opacity-90 ${isUploading ? 'opacity-50' : ''}`}\n                />\n                {isUploading && (\n                  <div className=\"absolute inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center rounded-full\">\n                    <div className=\"w-12 h-12 border-4 border-white border-t-4 border-t-transparent rounded-full animate-spin\"></div>\n                  </div>\n                )}\n                <button \n                  className=\"absolute bottom-0 right-0 p-2 bg-rose-500 text-white rounded-full shadow-md hover:bg-rose-600 transition-colors disabled:opacity-70\"\n                  disabled={isUploading}\n                >\n                  <Upload size={16} />\n                </button>\n                <input\n                  type=\"file\"\n                  accept=\"image/*\"\n                  onChange={handleAvatarUpload}\n                  className=\"absolute inset-0 opacity-0 cursor-pointer\"\n                  disabled={isUploading}\n                />\n              </div>\n              <p className=\"text-xs text-gray-400\">点击修改头像</p>\n              <p className=\"text-xs text-gray-400 mt-1\">支持 JPG、PNG、WEBP 格式，大小不超过 5MB</p>\n            </div>\n\n            {/* Form Fields */}\n            <form className=\"space-y-6\">\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">昵称</label>\n                <input \n                  type=\"text\" \n                  value={formData.name}\n                  onChange={(e) => handleChange('name', e.target.value)}\n                  className=\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\"\n                />\n              </div>\n\n              <div className=\"grid grid-cols-3 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">年龄</label>\n                  <input \n                    type=\"number\" \n                    min=\"18\" \n                    max=\"100\"\n                    value={formData.age}\n                    onChange={(e) => handleChange('age', parseInt(e.target.value))}\n                    className=\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">职业</label>\n                  <input \n                    type=\"text\" \n                    value={formData.profession}\n                    onChange={(e) => handleChange('profession', e.target.value)}\n                    className=\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">星座</label>\n                  <select \n                    value={formData.zodiac}\n                    onChange={(e) => handleChange('zodiac', e.target.value)}\n                    className=\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none appearance-none cursor-pointer\"\n                  >\n                    {ZODIAC_SIGNS.map(z => <option key={z} value={z}>{z}</option>)}\n                  </select>\n                </div>\n              </div>\n\n              <div>\n                 <label className=\"block text-sm font-medium text-gray-700 mb-1\">身高 (cm)</label>\n                 <input \n                    type=\"number\" \n                    value={formData.height || ''}\n                    onChange={(e) => handleChange('height', parseInt(e.target.value))}\n                    className=\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\"\n                  />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">家乡</label>\n                <input \n                  type=\"text\" \n                  value={formData.hometown || ''}\n                  onChange={(e) => handleChange('hometown', e.target.value)}\n                  className=\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\"\n                  placeholder=\"例如：北京\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">寻找什么</label>\n                <input \n                  type=\"text\" \n                  value={formData.lookingFor || ''}\n                  onChange={(e) => handleChange('lookingFor', e.target.value)}\n                  className=\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none transition-all\"\n                  placeholder=\"例如：一段认真的关系\"\n                />\n              </div>\n\n              {/* Bio */}\n              <div>\n                <div className=\"flex justify-between items-center mb-1\">\n                  <label className=\"block text-sm font-medium text-gray-700\">自我介绍</label>\n                </div>\n                <textarea \n                  rows={4}\n                  value={formData.bio}\n                  onChange={(e) => handleChange('bio', e.target.value)}\n                  className=\"w-full p-3 bg-gray-50 border-none rounded-xl focus:ring-2 focus:ring-rose-200 outline-none resize-none transition-all\"\n                  placeholder=\"介绍一下自己...\"\n                />\n                <p className=\"text-xs text-gray-400 mt-1\">完善的自我介绍能提升 300% 的匹配率</p>\n              </div>\n\n              {/* Tags */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">我的标签</label>\n                <div className=\"flex flex-wrap gap-2\">\n                  {(formData.tags || []).map((tag, idx) => (\n                    <span key={idx} className=\"px-3 py-1 bg-white border border-gray-200 text-gray-600 rounded-full text-sm flex items-center gap-1 hover:border-rose-200 transition-colors cursor-default\">\n                      {tag}\n                      <button type=\"button\" onClick={() => {\n                         const newTags = (formData.tags || []).filter((_, i) => i !== idx);\n                         handleChange('tags', newTags);\n                      }} className=\"text-gray-400 hover:text-red-500\">&times;</button>\n                    </span>\n                  ))}\n                  <button \n                    type=\"button\"\n                    onClick={() => {\n                      const tag = prompt(\"添加标签:\");\n                      if (tag) handleChange('tags', [...(formData.tags || []), tag]);\n                    }}\n                    className=\"px-3 py-1 bg-gray-100 text-gray-500 rounded-full text-sm border border-transparent hover:bg-gray-200 transition-colors\"\n                  >\n                    + 添加\n                  </button>\n                </div>\n              </div>\n            </form>\n          </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileEdit;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}